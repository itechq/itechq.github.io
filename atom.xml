<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>小牧家园</title>
  <subtitle>墙外的世界</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.itechq.com/"/>
  <updated>2016-11-19T01:56:34.019Z</updated>
  <id>http://www.itechq.com/</id>
  
  <author>
    <name>Jason</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hadoop目录结构介绍</title>
    <link href="http://www.itechq.com/blog/program/hadoop-folder-structure.html"/>
    <id>http://www.itechq.com/blog/program/hadoop-folder-structure.html</id>
    <published>2016-09-02T14:35:13.000Z</published>
    <updated>2016-11-19T01:56:34.019Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p><strong>本文基于Hadoop2.7.3版本编写！</strong></p>
</blockquote>
<h2 id="Hadoop-Dist目录结构"><a href="#Hadoop-Dist目录结构" class="headerlink" title="Hadoop Dist目录结构"></a>Hadoop Dist目录结构</h2><p><img src="http://o7xt53rmp.bkt.clouddn.com/4dc361f2732f2382/a856a1f204654a10b2186794a88239db.png" alt="4dc361f2732f2382/a856a1f204654a10b2186794a88239db.png"></p>
<a id="more"></a>
<ul>
<li><p><strong>bin</strong></p>
<p>  Hadoop基本管理脚本和使用脚本所在目录，是sbin目录下管理脚本的基础实现。可直接使用这些脚本管理及使用Hadoop。</p>
</li>
<li><p><strong>etc</strong></p>
<p>  Hadoop配置文件所在目录，包括<code>core-site.xml</code>、<code>hdfs-site.xml</code>、<code>yarn-site.xml</code>等。</p>
</li>
<li><p><strong>include</strong></p>
<p>  对外提供的编程库头文件，这些头文件均是用C++定义，通常用于C++程序访问HDFS或者编写MapReduce程序。</p>
</li>
<li><p><strong>lib</strong></p>
<p>  提供Hadoop对外的编程动态库和静态库，与include目录的头文件结合使用。</p>
</li>
<li><p><strong>libexec</strong></p>
<p>  服务器对应的shell配置文件所在目录，可用于配置日志输出目录、启动参数（如JVM参数）等基本信息。</p>
</li>
<li><p><strong>sbin</strong></p>
<p>  Hadoop管理脚本所在目录，主要包括HDFS和YARN中各类服务的启动和关闭脚本。</p>
</li>
<li><p><strong>share</strong></p>
<p>  Hadoop各个模块编译后jar文件及doc文档所在目录。</p>
</li>
</ul>
<h2 id="源码导入eclipse"><a href="#源码导入eclipse" class="headerlink" title="源码导入eclipse"></a>源码导入eclipse</h2><h3 id="编辑源码根目录下pom-xml文件"><a href="#编辑源码根目录下pom-xml文件" class="headerlink" title="编辑源码根目录下pom.xml文件"></a>编辑源码根目录下<code>pom.xml</code>文件</h3><ul>
<li><p>注释<code>&lt;repositories&gt;</code>节点内<code>Snapshots</code>源，添加<code>Staging</code>源</p>
<p>  避免maven从<code>https://repository.apache.org/content/repositories/snapshots</code>下载依赖包，导致很多依赖文件下载不到。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;repository&gt;</div><div class="line">    &lt;id&gt;$&#123;distMgmtStagingId&#125;&lt;/id&gt;</div><div class="line">    &lt;name&gt;$&#123;distMgmtStagingName&#125;&lt;/name&gt;</div><div class="line">    &lt;url&gt;$&#123;distMgmtStagingUrl&#125;&lt;/url&gt;</div><div class="line">&lt;/repository</div></pre></td></tr></table></figure>
<pre><code>如下图所示：
</code></pre><p><img src="http://o7xt53rmp.bkt.clouddn.com/493e0c0dbe75ec2d/ba82d8b2e57b461eb2e3b065f91a2fa9.png" alt="493e0c0dbe75ec2d/ba82d8b2e57b461eb2e3b065f91a2fa9.png"></p>
<ul>
<li><p>修改<code>&lt;properties&gt;</code>节点内<code>distMgmtStagingUrl</code>值</p>
<p>  将<code>https://repository.apache.org/service/local/staging/deploy/maven2</code>修改为<code>http://repo2.maven.org/maven2/</code>，解决需要登录Apache私服授权问题。</p>
<p>  <img src="http://o7xt53rmp.bkt.clouddn.com/493e0c0dbe75ec2d/91339230af68463b8a84952c3c5b3ec8.png" alt="493e0c0dbe75ec2d/91339230af68463b8a84952c3c5b3ec8.png"></p>
</li>
</ul>
<h3 id="下载并配置ProtocolBuffer"><a href="#下载并配置ProtocolBuffer" class="headerlink" title="下载并配置ProtocolBuffer"></a>下载并配置<a href="https://github.com/google/protobuf" target="_blank" rel="external">ProtocolBuffer</a></h3><ul>
<li><p>下载<a href="https://github.com/google/protobuf/releases/download/v2.5.0/protoc-2.5.0-win32.zip" target="_blank" rel="external">ProtocolBuffer 2.5.0</a></p>
</li>
<li><p>解压ProtocolBuffer到<code>[HADOOP_SRC_HOME]目录</code>，并将<code>protoc.exe</code>加入<code>PATH</code>环境变量</p>
</li>
<li><p>验证是否配置成功，命令行输入<code>protoc</code>，出现以下信息代表配置成功</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">C:\Users\Jason&gt;protoc</div><div class="line">Missing input file.</div></pre></td></tr></table></figure>
<p>该配置主要解决如下错误提示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">[ERROR] Failed to execute goal org.apache.hadoop:hadoop-maven-plugins:2.7.3:protoc (compile-protoc) on project  did not return a version -&gt; [Help 1]</div><div class="line">[ERROR]</div><div class="line">[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.</div><div class="line">[ERROR] Re-run Maven using the -X switch to enable full debug logging.</div><div class="line">[ERROR]</div><div class="line">[ERROR] For more information about the errors and possible solutions, please read the following articles:</div><div class="line">[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException</div><div class="line">[ERROR]</div><div class="line">[ERROR] After correcting the problems, you can resume the build with the command</div><div class="line">[ERROR]   mvn &lt;goals&gt; -rf :hadoop-common</div></pre></td></tr></table></figure>
<h3 id="转换工程并导入"><a href="#转换工程并导入" class="headerlink" title="转换工程并导入"></a>转换工程并导入</h3><p><code>cmd</code>进入源码目录，通过如下命令，首先安装Hadoop依赖插件，然后转换工程为eclipse工程。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">cd hadoop-maven-plugins</div><div class="line">mvn install</div><div class="line">cd ..</div><div class="line">mvn eclipse:eclipse -DskipTests</div></pre></td></tr></table></figure>
<p>当出现以下提示时，表示转换成功。</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/493e0c0dbe75ec2d/583cc2006ac7430d8bdf65f4b55cb0a1.png" alt="493e0c0dbe75ec2d/583cc2006ac7430d8bdf65f4b55cb0a1.png"></p>
<p>转换完成后，通过Eclipse导入工程即可。</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;本文基于Hadoop2.7.3版本编写！&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;Hadoop-Dist目录结构&quot;&gt;&lt;a href=&quot;#Hadoop-Dist目录结构&quot; class=&quot;headerlink&quot; title=&quot;Hadoop Dist目录结构&quot;&gt;&lt;/a&gt;Hadoop Dist目录结构&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;http://o7xt53rmp.bkt.clouddn.com/4dc361f2732f2382/a856a1f204654a10b2186794a88239db.png&quot; alt=&quot;4dc361f2732f2382/a856a1f204654a10b2186794a88239db.png&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="program" scheme="http://www.itechq.com/categories/program/"/>
    
    
      <category term="Hadoop" scheme="http://www.itechq.com/tags/Hadoop/"/>
    
  </entry>
  
  <entry>
    <title>CentOS 7编译Hadoop 2.7.3</title>
    <link href="http://www.itechq.com/blog/program/hadoop-compile-on-centos.html"/>
    <id>http://www.itechq.com/blog/program/hadoop-compile-on-centos.html</id>
    <published>2016-09-01T13:36:22.000Z</published>
    <updated>2016-11-19T01:56:34.019Z</updated>
    
    <content type="html"><![CDATA[<h2 id="编译环境"><a href="#编译环境" class="headerlink" title="编译环境"></a>编译环境</h2><ul>
<li>CentOS Linux release 7.2.1511 (Core) </li>
<li>Hadoop 2.7.3</li>
<li>JDK 1.7.0_80</li>
</ul>
<h2 id="编译准备"><a href="#编译准备" class="headerlink" title="编译准备"></a>编译准备</h2><p>本文参考Hadoop源码中官方编译文档<code>BUILDING.txt</code>编写。</p>
<a id="more"></a>
<h3 id="安装Maven"><a href="#安装Maven" class="headerlink" title="安装Maven"></a>安装Maven</h3><ul>
<li>安装命令</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum -y install maven</div></pre></td></tr></table></figure>
<ul>
<li>检查命令</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm -q maven</div></pre></td></tr></table></figure>
<h3 id="安装依赖包"><a href="#安装依赖包" class="headerlink" title="安装依赖包"></a>安装依赖包</h3><ul>
<li>安装命令</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum -y install build-essential autoconf automake libtool cmake zlib1g-dev pkg-config libssl-dev</div></pre></td></tr></table></figure>
<ul>
<li>检查命令</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm -q build-essential autoconf automake libtool cmake zlib1g-dev pkg-config libssl-dev</div></pre></td></tr></table></figure>
<p><strong>注意:</strong></p>
<p>执行安装命令后，会出现以下提示信息：</p>
<blockquote>
<p><strong>No package build-essential available.</strong><br>Package autoconf-2.69-11.el7.noarch already installed and latest version<br>Package automake-1.13.4-3.el7.noarch already installed and latest version<br>Package libtool-2.4.2-21.el7_2.x86_64 already installed and latest version<br>Package cmake-2.8.11-5.el7.x86_64 already installed and latest version<br><strong>No package zlib1g-dev available.</strong><br><strong>No package pkg-config available.</strong><br><strong>No package libssl-dev available.</strong></p>
</blockquote>
<ul>
<li><code>No package build-essential available.</code>解决方案</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum groupinstall &apos;Development Tools&apos;</div></pre></td></tr></table></figure>
<ul>
<li><code>No package zlib1g-dev available.</code>解决方案</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">yum install zlib</div><div class="line">yum install zlib-devel</div></pre></td></tr></table></figure>
<ul>
<li><code>No package pkg-config available.</code>解决方案</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum install pkgconfig</div></pre></td></tr></table></figure>
<ul>
<li><code>No package libssl-dev available.</code>解决方案</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">yum install openssl</div><div class="line">yum install openssl-devel</div></pre></td></tr></table></figure>
<h3 id="安装ProtocolBuffer"><a href="#安装ProtocolBuffer" class="headerlink" title="安装ProtocolBuffer"></a>安装ProtocolBuffer</h3><ul>
<li>安装命令</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum -y install libprotobuf-dev protobuf-compiler</div></pre></td></tr></table></figure>
<ul>
<li>检查命令</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm -q libprotobuf-dev protobuf-compiler</div></pre></td></tr></table></figure>
<h3 id="安装Findbugs"><a href="#安装Findbugs" class="headerlink" title="安装Findbugs"></a>安装Findbugs</h3><ul>
<li>下载Findbugs</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget http://kent.dl.sourceforge.net/project/findbugs/findbugs/3.0.1/findbugs-3.0.1.tar.gz</div></pre></td></tr></table></figure>
<ul>
<li>解压Findbugs到<code>/usr/share/findbugs</code>目录</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># 解压findbugs-3.0.1</div><div class="line">tar -zxvf findbugs-3.0.1.tar.gz</div><div class="line"></div><div class="line"># 重命名为findbugs</div><div class="line">mv findbugs-3.0.1 findbugs</div></pre></td></tr></table></figure>
<ul>
<li>配置环境变量</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"># 编辑 ~/.bashrc文件</div><div class="line">vi ~/.bashrc</div><div class="line"></div><div class="line"># 配置Findbugs环境变量</div><div class="line">export FINDBUGS_HOME=/usr/share/findbugs</div><div class="line">export PATH=$FINDBUGS_HOME/bin:$PATH</div><div class="line"></div><div class="line"># 编译.bashrc文件使其生效</div><div class="line">source ~/.bashrc</div></pre></td></tr></table></figure>
<ul>
<li>检查是否安装成功</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">findbug -version</div><div class="line"></div><div class="line"># 输出以下结果表示安装成功</div><div class="line">3.0.1</div></pre></td></tr></table></figure>
<h2 id="开始编译"><a href="#开始编译" class="headerlink" title="开始编译"></a>开始编译</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"># Create binary distribution without native code and without documentation:</div><div class="line"></div><div class="line">$ mvn package -Pdist -DskipTests -Dtar</div><div class="line"></div><div class="line"># Create binary distribution with native code and with documentation:</div><div class="line"></div><div class="line">$ mvn package -Pdist,native,docs -DskipTests -Dtar</div><div class="line"></div><div class="line"># Create source distribution:</div><div class="line"></div><div class="line">$ mvn package -Psrc -DskipTests</div><div class="line"></div><div class="line"># Create source and binary distributions with native code and documentation:</div><div class="line"></div><div class="line">$ mvn package -Pdist,native,docs,src -DskipTests -Dtar</div><div class="line"></div><div class="line"># Create a local staging version of the website (in /tmp/hadoop-site)</div><div class="line"></div><div class="line">$ mvn clean site; mvn site:stage -DstagingDirectory=/tmp/hadoop-site</div></pre></td></tr></table></figure>
<p>编辑完成后，会在<code>[HADOOP_SOURCE_HOME]/hadoop-dist/target</code>目录生成相关发布包，如下图所示：</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/493e0c0dbe75ec2d/ca77fa67656f46818ead75716102d1df.png" alt="493e0c0dbe75ec2d/ca77fa67656f46818ead75716102d1df.png"></p>
<h2 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h2><h3 id="Failed-to-execute-goal-org-apache-maven-plugins-maven-antrun-plugin-1-7"><a href="#Failed-to-execute-goal-org-apache-maven-plugins-maven-antrun-plugin-1-7" class="headerlink" title="Failed to execute goal org.apache.maven.plugins:maven-antrun-plugin:1.7"></a>Failed to execute goal org.apache.maven.plugins:maven-antrun-plugin:1.7</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">[ERROR] Failed to execute goal org.apache.maven.plugins:maven-antrun-plugin:1.7:run (make) on project hadoop-common: An Ant BuildException has occured: exec returned: 1</div><div class="line">[ERROR] around Ant part ...&lt;exec dir=&quot;/opt/software/hadoop-2.7.3-src/hadoop-common-project/hadoop-common/target/native&quot; executable=&quot;cmake&quot; failonerror=&quot;true&quot;&gt;... @ 4:134 in /opt/software/hadoop-2.7.3-src/hadoop-common-project/hadoop-common/target/antrun/build-main.xml</div><div class="line">[ERROR] -&gt; [Help 1]</div><div class="line">[ERROR] </div><div class="line">[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch. </div><div class="line">[ERROR] Re-run Maven using the -X switch to enable full debug logging. </div><div class="line">[ERROR] </div><div class="line">[ERROR] For more information about the errors and possible solutions, please read the following articles: </div><div class="line">[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException </div><div class="line">[ERROR]  </div><div class="line">[ERROR] After correcting the problems, you can resume the build with the command </div><div class="line">[ERROR]   mvn &lt;goals&gt; -rf :hadoop-common</div></pre></td></tr></table></figure>
<ul>
<li>问题原因</li>
</ul>
<p>缺少<code>zlib1g-dev</code>、<code>libssl-dev</code>依赖库</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;编译环境&quot;&gt;&lt;a href=&quot;#编译环境&quot; class=&quot;headerlink&quot; title=&quot;编译环境&quot;&gt;&lt;/a&gt;编译环境&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;CentOS Linux release 7.2.1511 (Core) &lt;/li&gt;
&lt;li&gt;Hadoop 2.7.3&lt;/li&gt;
&lt;li&gt;JDK 1.7.0_80&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;编译准备&quot;&gt;&lt;a href=&quot;#编译准备&quot; class=&quot;headerlink&quot; title=&quot;编译准备&quot;&gt;&lt;/a&gt;编译准备&lt;/h2&gt;&lt;p&gt;本文参考Hadoop源码中官方编译文档&lt;code&gt;BUILDING.txt&lt;/code&gt;编写。&lt;/p&gt;
    
    </summary>
    
      <category term="program" scheme="http://www.itechq.com/categories/program/"/>
    
    
      <category term="Hadoop" scheme="http://www.itechq.com/tags/Hadoop/"/>
    
      <category term="CentOS" scheme="http://www.itechq.com/tags/CentOS/"/>
    
  </entry>
  
  <entry>
    <title>CentOS7 关闭默认防火墙</title>
    <link href="http://www.itechq.com/blog/technology/centos-disable-default-firewall.html"/>
    <id>http://www.itechq.com/blog/technology/centos-disable-default-firewall.html</id>
    <published>2016-08-28T11:08:28.000Z</published>
    <updated>2016-11-19T01:56:34.019Z</updated>
    
    <content type="html"><![CDATA[<p>CentOS 7 默认使用的是firewall防火墙，若想使用iptables需重新安装一下，步骤如下。</p>
<h2 id="关闭原有防火墙"><a href="#关闭原有防火墙" class="headerlink" title="关闭原有防火墙"></a>关闭原有防火墙</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"># 停止firewall</div><div class="line">systemctl stop firewalld.service </div><div class="line"></div><div class="line"># 禁止开机启动firewall</div><div class="line">systemctl disable firewalld.service</div><div class="line"></div><div class="line">Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service.</div><div class="line">Removed symlink /etc/systemd/system/basic.target.wants/firewalld.service.</div></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="安装iptables-service"><a href="#安装iptables-service" class="headerlink" title="安装iptables service"></a>安装iptables service</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum -y install iptables-services</div></pre></td></tr></table></figure>
<p>安装过程中会输出以下信息：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line">Loaded plugins: fastestmirror, langpacks</div><div class="line">Loading mirror speeds from cached hostfile</div><div class="line"> * base: centos.ustc.edu.cn</div><div class="line"> * extras: mirrors.163.com</div><div class="line"> * updates: mirrors.163.com</div><div class="line">Resolving Dependencies</div><div class="line">--&gt; Running transaction check</div><div class="line">---&gt; Package iptables-services.x86_64 0:1.4.21-16.el7 will be installed</div><div class="line">--&gt; Finished Dependency Resolution</div><div class="line"></div><div class="line">Dependencies Resolved</div><div class="line"></div><div class="line">=======================================================================================================================================</div><div class="line"> Package                                Arch                        Version                            Repository                 Size</div><div class="line">=======================================================================================================================================</div><div class="line">Installing:</div><div class="line"> iptables-services                      x86_64                      1.4.21-16.el7                      base                       50 k</div><div class="line"></div><div class="line">Transaction Summary</div><div class="line">=======================================================================================================================================</div><div class="line">Install  1 Package</div><div class="line"></div><div class="line">Total download size: 50 k</div><div class="line">Installed size: 24 k</div><div class="line">Downloading packages:</div><div class="line">warning: /var/cache/yum/x86_64/7/base/packages/iptables-services-1.4.21-16.el7.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID f4a80eb5: NOKEY</div><div class="line">Public key for iptables-services-1.4.21-16.el7.x86_64.rpm is not installed</div><div class="line">iptables-services-1.4.21-16.el7.x86_64.rpm                                                                      |  50 kB  00:00:00     </div><div class="line">Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7</div><div class="line">Importing GPG key 0xF4A80EB5:</div><div class="line"> Userid     : &quot;CentOS-7 Key (CentOS 7 Official Signing Key) &lt;security@centos.org&gt;&quot;</div><div class="line"> Fingerprint: 6341 ab27 53d7 8a78 a7c2 7bb1 24c6 a8a7 f4a8 0eb5</div><div class="line"> Package    : centos-release-7-2.1511.el7.centos.2.10.x86_64 (@anaconda)</div><div class="line"> From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7</div><div class="line">Running transaction check</div><div class="line">Running transaction test</div><div class="line">Transaction test succeeded</div><div class="line">Running transaction</div><div class="line">Warning: RPMDB altered outside of yum.</div><div class="line">** Found 9 pre-existing rpmdb problem(s), &apos;yum check&apos; output follows:</div><div class="line">icedtea-web-1.6.1-4.el7.x86_64 has missing requires of java-1.8.0-openjdk</div><div class="line">jline-1.0-8.el7.noarch has missing requires of java &gt;= (&apos;0&apos;, &apos;1.5&apos;, None)</div><div class="line">jline-1.0-8.el7.noarch has missing requires of jpackage-utils</div><div class="line">1:libreoffice-core-4.3.7.2-5.el7.x86_64 has missing requires of java-headless &gt;= (&apos;1&apos;, &apos;1.6&apos;, None)</div><div class="line">1:libreoffice-ure-4.3.7.2-5.el7.x86_64 has missing requires of libjvm.so()(64bit)</div><div class="line">rhino-1.7R4-5.el7.noarch has missing requires of jpackage-utils</div><div class="line">rhino-1.7R4-5.el7.noarch has missing requires of jpackage-utils</div><div class="line">tagsoup-1.2.1-8.el7.noarch has missing requires of jpackage-utils</div><div class="line">tagsoup-1.2.1-8.el7.noarch has missing requires of jpackage-utils &gt;= (&apos;0&apos;, &apos;1.6&apos;, None)</div><div class="line">  Installing : iptables-services-1.4.21-16.el7.x86_64                                                                              1/1 </div><div class="line">  Verifying  : iptables-services-1.4.21-16.el7.x86_64                                                                              1/1 </div><div class="line"></div><div class="line">Installed:</div><div class="line">  iptables-services.x86_64 0:1.4.21-16.el7                                                                                             </div><div class="line"></div><div class="line">Complete!</div></pre></td></tr></table></figure></p>
<h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><h3 id="查看防火墙状态"><a href="#查看防火墙状态" class="headerlink" title="查看防火墙状态"></a>查看防火墙状态</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># 推荐使用</div><div class="line">systemctl status iptables.service</div><div class="line"></div><div class="line">service iptables status</div></pre></td></tr></table></figure>
<h3 id="停止防火墙"><a href="#停止防火墙" class="headerlink" title="停止防火墙"></a>停止防火墙</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># 推荐使用</div><div class="line">systemctl stop iptables.service</div><div class="line"></div><div class="line">service iptables stop</div></pre></td></tr></table></figure>
<h3 id="启用防火墙"><a href="#启用防火墙" class="headerlink" title="启用防火墙"></a>启用防火墙</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># 推荐使用</div><div class="line">systemctl start iptables.service</div><div class="line"></div><div class="line">service iptables start</div></pre></td></tr></table></figure>
<h3 id="重启防火墙"><a href="#重启防火墙" class="headerlink" title="重启防火墙"></a>重启防火墙</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># 推荐使用</div><div class="line">systemctl restart iptables.service</div><div class="line"></div><div class="line">service iptables restart</div></pre></td></tr></table></figure>
<h3 id="禁用防火墙"><a href="#禁用防火墙" class="headerlink" title="禁用防火墙"></a>禁用防火墙</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># 推荐使用</div><div class="line">systemctl disable iptables.service</div><div class="line"></div><div class="line">chkconfig iptables off</div></pre></td></tr></table></figure>
<h3 id="禁用后启用防火墙"><a href="#禁用后启用防火墙" class="headerlink" title="禁用后启用防火墙"></a>禁用后启用防火墙</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># 推荐使用</div><div class="line">systemctl enable iptables.service</div><div class="line"></div><div class="line">chkconfig iptables on</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;CentOS 7 默认使用的是firewall防火墙，若想使用iptables需重新安装一下，步骤如下。&lt;/p&gt;
&lt;h2 id=&quot;关闭原有防火墙&quot;&gt;&lt;a href=&quot;#关闭原有防火墙&quot; class=&quot;headerlink&quot; title=&quot;关闭原有防火墙&quot;&gt;&lt;/a&gt;关闭原有防火墙&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;# 停止firewall&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;systemctl stop firewalld.service &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# 禁止开机启动firewall&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;systemctl disable firewalld.service&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Removed symlink /etc/systemd/system/basic.target.wants/firewalld.service.&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="technology" scheme="http://www.itechq.com/categories/technology/"/>
    
    
      <category term="CentOS" scheme="http://www.itechq.com/tags/CentOS/"/>
    
  </entry>
  
  <entry>
    <title>CentOS 7安装Hadoop 2.7.3</title>
    <link href="http://www.itechq.com/blog/program/hadoop-install-on-centos.html"/>
    <id>http://www.itechq.com/blog/program/hadoop-install-on-centos.html</id>
    <published>2016-08-27T07:52:34.000Z</published>
    <updated>2016-11-19T01:56:34.019Z</updated>
    
    <content type="html"><![CDATA[<h2 id="软硬件环境"><a href="#软硬件环境" class="headerlink" title="软硬件环境"></a>软硬件环境</h2><ul>
<li>虚拟机软件：Oracle VM VirtualBox</li>
<li>操作系统：CentOS7</li>
<li>JDK：1.7</li>
<li>Hadoop：2.7.3</li>
</ul>
<h2 id="网络架构"><a href="#网络架构" class="headerlink" title="网络架构"></a>网络架构</h2><p>本文在Windows10主机上通过<code>Oracle VM VirtualBox</code>搭建三个虚拟机，一个Master，两个Slave，具体网络环境如下图所示：</p>
<center><br><img src="http://o7xt53rmp.bkt.clouddn.com/a3c3916cd7d562c3/1edb1558fa114be8a7aead8c544dd4df.png" alt="a3c3916cd7d562c3/1edb1558fa114be8a7aead8c544dd4df.png"><br></center>

<a id="more"></a>
<h2 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h2><h3 id="主机名及IP配置"><a href="#主机名及IP配置" class="headerlink" title="主机名及IP配置"></a>主机名及IP配置</h3><ul>
<li><strong>修改主机名</strong></li>
</ul>
<p>编辑<code>vi /etc/hostname</code>文件，分别在对应的虚拟机中输入：<code>hd-master</code>,<code>hd-slave1</code>,<code>hd-slave2</code>,出现以下结果，表示修改成功.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"># 在hd-master中输入`hostname`命令</div><div class="line">$ hostname</div><div class="line">hd-master</div><div class="line"></div><div class="line"># 在hd-slave1中输入`hostname`命令</div><div class="line">$ hostname</div><div class="line">hd-slave1</div><div class="line"></div><div class="line"># 在hd-slave2中输入`hostname`命令</div><div class="line">$ hostname</div><div class="line">hd-slave2</div></pre></td></tr></table></figure></p>
<ul>
<li><strong>配置<code>hosts</code>文件</strong></li>
</ul>
<p>分别在三台虚拟机中输入命令<code>vi /etc/hosts</code>，并都输入以下内容:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">192.168.0.121   hd-master</div><div class="line">192.168.0.122   hd-slave1</div><div class="line">192.168.0.123   hd-slave2</div></pre></td></tr></table></figure></p>
<p>三台虚拟机能够互相通过<code>ping hd-master</code>,<code>ping hd-slave1</code>,<code>ping hd-slave2</code>连通代表配置成功。</p>
<h3 id="安装JDK"><a href="#安装JDK" class="headerlink" title="安装JDK"></a>安装JDK</h3><p>安装前使用命令<code>java -version</code>检查系统是否安装默认JDK版本，若有安装，请先卸载系统自带JDK，具体步骤参考另外一篇博客<a href="http://www.itechq.com/blog/technology/centos-unistall-openjdk-and-install-oraclejdk.html"><strong>CentOS 卸载OpenJDK，安装OracleJDK</strong></a>，然后在Oracle官网下载<a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html" target="_blank" rel="external"><strong>JDK 1.7</strong></a>版本,以安装<code>jdk-7u80-linux-x64.tar.gz</code>为例。</p>
<ul>
<li><p><strong>解压JDK到<code>/usr/lib/jvm</code>目录</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ mkdir -p /usr/lib/jvm</div><div class="line">$ cd /usr/lib/jvm/</div><div class="line">$ tar -zxvf /home/hadoop/soft/jdk-7u80-linux-x64.tar.gz</div><div class="line">$ mv jdk1.7.0_80 jdk</div></pre></td></tr></table></figure>
</li>
<li><p><strong>配置环境变量</strong></p>
</li>
</ul>
<p>为安全起见，只给<code>hadoop</code>用户设置环境变量。进入hadoop用户目录，编辑.bashrc文件（该文件为隐藏文件），可通过如下命令查看：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ll -a</div></pre></td></tr></table></figure>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/a3c3916cd7d562c3/14eba74ef5a140f9876200c76a982347.png" alt="a3c3916cd7d562c3/14eba74ef5a140f9876200c76a982347.png"></p>
<p>通过VI编辑<code>.bashrc</code>文件，输入命令<code>vi .bashrc</code>,在文件末尾输入如下内容：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">export JAVA_HOME=/usr/lib/jvm/jdk</div><div class="line">export JRE_HOME=$JAVA_HOME/jre</div><div class="line">export PATH=$JAVA_HOME/bin:$PATH</div><div class="line">export CLASSPATH=.$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tool.jar</div></pre></td></tr></table></figure></p>
<p>编译<code>.bashrc</code>文件，输入命令<code>source .bashrc</code>使其生效。</p>
<ul>
<li><strong>检查JDK是否安装成功</strong><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ java -version</div><div class="line"></div><div class="line">java version &quot;1.7.0_80&quot;</div><div class="line">Java(TM) SE Runtime Environment (build 1.7.0_80-b15)</div><div class="line">Java HotSpot(TM) 64-Bit Server VM (build 24.80-b11, mixed mode)</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="配置SSH免密码登录"><a href="#配置SSH免密码登录" class="headerlink" title="配置SSH免密码登录"></a>配置SSH免密码登录</h3><ul>
<li><strong>启动SSH免密码登录设置</strong></li>
</ul>
<p>编辑<code>/etc/ssh/sshd_config</code>,去掉以下两行注释：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#RSAAuthentication yes</div><div class="line">#PubkeyAuthentication yes</div></pre></td></tr></table></figure></p>
<ul>
<li><strong>生成公钥、私钥文件</strong></li>
</ul>
<p>输入命令<code>ssh-keygen -t rsa</code>，一直回车，完成后就会在<code>/home/hadoop/.ssh</code>文件夹，每台服务器都需要设置，如下图所示:</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/42fac93ac9d6def8/54b19d597ca041969e64a0ffeff63dd9.png" alt="42fac93ac9d6def8/54b19d597ca041969e64a0ffeff63dd9.png"></p>
<p>输入命令<code>ll ~/.ssh</code>，可看到如下文件：</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/42fac93ac9d6def8/410bafdd35da41578266e8ede5f266d8.png" alt="42fac93ac9d6def8/410bafdd35da41578266e8ede5f266d8.png"></p>
<ul>
<li><strong>合并公钥到authorized_keys文件</strong></li>
</ul>
<p>进入<code>hd-master</code>服务器<code>/home/hadoop/.ssh/</code>目录，通过ssh命令合并<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cat id_rsa.pub &gt;&gt; authorized_keys</div><div class="line">ssh hadoop@192.168.0.122 cat ~/.ssh/id_rsa.pub &gt;&gt; authorized_keys</div><div class="line">ssh hadoop@192.168.0.123 cat ~/.ssh/id_rsa.pub &gt;&gt; authorized_keys</div></pre></td></tr></table></figure></p>
<p>此时<code>hd-master</code>,<code>hd-slave1</code>,<code>hd-slave2</code>服务器的公钥文件都合并到<code>authorized_keys</code>文件之中，可通过<code>more authorized_keys</code>查看，该过程操作截图如下：</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/42fac93ac9d6def8/bf2a2e91e2dd422b97db7f0c58572c51.png" alt="42fac93ac9d6def8/bf2a2e91e2dd422b97db7f0c58572c51.png"></p>
<ul>
<li><strong>拷贝<code>authorized_keys</code>文件到<code>hd-slave1</code>,<code>hd-slave2</code>服务器</strong></li>
</ul>
<p>通过<code>scp</code>命令拷贝<code>authorized_keys</code>到<code>hd-slave1</code>,<code>hd-slave2</code>服务器<code>/home/hadoop/.ssh/</code>目录。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">scp authorized_keys hadoop@hd-slave1:~/.ssh</div><div class="line">scp authorized_keys hadoop@hd-slave2:~/.ssh</div></pre></td></tr></table></figure>
<p>该过程操作截图如下：</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/42fac93ac9d6def8/fda56ad3050648239e765aa043124d62.png" alt="42fac93ac9d6def8/fda56ad3050648239e765aa043124d62.png"></p>
<ul>
<li><strong>修改<code>authorized_keys</code>权限</strong></li>
</ul>
<p>分别修改<code>hd-master</code>,<code>hd-slave1</code>,<code>hd-slave2</code>服务器<code>authorized_keys</code>文件权限<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">chmod 700 authorized_keys</div></pre></td></tr></table></figure></p>
<ul>
<li><strong>测试SSH免密码登录</strong></li>
</ul>
<p>进入<code>hd-master</code>,输入<code>ssh username@hostname</code>测试是否配置成功，如下图所示：<br><img src="http://o7xt53rmp.bkt.clouddn.com/42fac93ac9d6def8/72b347b1192d4d82a110627c4306fa18.png" alt="42fac93ac9d6def8/72b347b1192d4d82a110627c4306fa18.png"></p>
<h3 id="安装配置Hadoop"><a href="#安装配置Hadoop" class="headerlink" title="安装配置Hadoop"></a>安装配置Hadoop</h3><h4 id="下载Hadoop"><a href="#下载Hadoop" class="headerlink" title="下载Hadoop"></a>下载Hadoop</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget http://mirrors.hust.edu.cn/apache/hadoop/common/hadoop-2.7.3/hadoop-2.7.3.tar.gz</div></pre></td></tr></table></figure>
<h4 id="安装Hadoop"><a href="#安装Hadoop" class="headerlink" title="安装Hadoop"></a>安装Hadoop</h4><p>假设将hadoop相关软件都安装到<code>/usr/local</code>目录下，现在将<code>/usr/local</code>目录赋权给<code>hadoop</code>用户，使用如下命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">chown hadoop:hadoop /usr/local</div></pre></td></tr></table></figure>
<p><strong>解压<code>hadoop-2.7.3.tar.gz</code>并拷贝到<code>/usr/local</code>目录</strong>.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">tar -zxvf hadoop-2.7.3.tar.gz </div><div class="line">mv hadoop-2.7.3 /usr/local/hadoop</div></pre></td></tr></table></figure></p>
<h4 id="创建数据存放目录"><a href="#创建数据存放目录" class="headerlink" title="创建数据存放目录"></a>创建数据存放目录</h4><p>进入<code>/usr/local/hadoop</code>目录，创建<code>tmp</code>、<code>hdfs/data</code>、<code>hdfs/name</code>目录。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cd /usr/local/hadoop</div><div class="line">mkdir tmp</div><div class="line">mkdir -p hdfs/data hdfs/name</div></pre></td></tr></table></figure></p>
<h4 id="配置core-site-xml"><a href="#配置core-site-xml" class="headerlink" title="配置core-site.xml"></a>配置<code>core-site.xml</code></h4><p>进入<code>/usr/local/hadoop/etc/hadoop</code>编辑<code>core-site.xml</code>文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;property&gt;</div><div class="line">        &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</div><div class="line">        &lt;value&gt;file:/usr/local/hadoop/tmp&lt;/value&gt;</div><div class="line">&lt;/property&gt;</div><div class="line"></div><div class="line">&lt;property&gt;</div><div class="line">        &lt;name&gt;fs.defaultFS&lt;/name&gt;</div><div class="line">        &lt;value&gt;hdfs://hd-master:9000&lt;/value&gt;</div><div class="line">&lt;/property&gt;</div><div class="line"></div><div class="line">&lt;property&gt;</div><div class="line">        &lt;name&gt;io.file.buffer.size&lt;/name&gt;</div><div class="line">        &lt;value&gt;131702&lt;/value&gt;</div><div class="line">&lt;/property&gt;</div></pre></td></tr></table></figure></p>
<h4 id="配置hdfs-site-xml"><a href="#配置hdfs-site-xml" class="headerlink" title="配置hdfs-site.xml"></a>配置<code>hdfs-site.xml</code></h4><p>进入<code>/usr/local/hadoop/etc/hadoop</code>编辑<code>hdfs-site.xml</code>文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">&lt;property&gt;</div><div class="line">        &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;</div><div class="line">        &lt;value&gt;file:/usr/local/hadoop/hdfs/name&lt;/value&gt;</div><div class="line">&lt;/property&gt;</div><div class="line"></div><div class="line">&lt;property&gt;</div><div class="line">        &lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;</div><div class="line">        &lt;value&gt;file:/usr/local/hadoop/hdfs/data&lt;/value&gt;</div><div class="line">&lt;/property&gt;</div><div class="line"></div><div class="line">&lt;property&gt;</div><div class="line">        &lt;name&gt;dfs.replication&lt;/name&gt;</div><div class="line">        &lt;value&gt;2&lt;/value&gt;</div><div class="line">&lt;/property&gt;</div><div class="line"></div><div class="line">&lt;property&gt;</div><div class="line">    	&lt;name&gt;dfs.webhdfs.enabled&lt;/name&gt;</div><div class="line">    	&lt;value&gt;true&lt;/value&gt;</div><div class="line">&lt;/property&gt;</div><div class="line"></div><div class="line">&lt;property&gt;</div><div class="line">        &lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;</div><div class="line">        &lt;value&gt;hd-master:9001&lt;/value&gt;</div><div class="line">&lt;/property&gt;</div></pre></td></tr></table></figure>
<h4 id="主机配置"><a href="#主机配置" class="headerlink" title="主机配置"></a>主机配置</h4><ul>
<li><strong>修改<code>/usr/local/hadoop/etc/hadoop/masters</code>文件</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hd-master</div></pre></td></tr></table></figure>
<ul>
<li><strong>修改<code>/usr/local/hadoop/etc/hadoop/slaves</code>文件</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">hd-slave1</div><div class="line">hd-slave2</div></pre></td></tr></table></figure>
<h4 id="复制Hadoop到其他各个节点"><a href="#复制Hadoop到其他各个节点" class="headerlink" title="复制Hadoop到其他各个节点"></a>复制Hadoop到其他各个节点</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">scp -r /usr/local/hadoop hd-slave1:/usr/local</div><div class="line">scp -r /usr/local/hadoop hd-slave2:/usr/local</div></pre></td></tr></table></figure>
<p>到此，Hadoop安装及基本配置以及完成，下面就进行启动和验证基本功能。</p>
<h3 id="启动及验证Hadoop"><a href="#启动及验证Hadoop" class="headerlink" title="启动及验证Hadoop"></a>启动及验证Hadoop</h3><h4 id="格式化HDFS文件系统"><a href="#格式化HDFS文件系统" class="headerlink" title="格式化HDFS文件系统"></a>格式化HDFS文件系统</h4><p>在<code>hd-master</code>格式化HDFS文件系统，该动作只需执行一次即可</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd /usr/local/hadoop/bin</div><div class="line">hdfs namenode -format</div></pre></td></tr></table></figure>
<p>执行后控制台输出如下所示，看到<strong><code>Exiting with status 0</code></strong>表示格式化成功。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div></pre></td><td class="code"><pre><div class="line">16/08/28 17:30:19 INFO namenode.NameNode: STARTUP_MSG: </div><div class="line">/************************************************************</div><div class="line">STARTUP_MSG: Starting NameNode</div><div class="line">STARTUP_MSG:   host = hd-master/192.168.0.121</div><div class="line">STARTUP_MSG:   args = [-format]</div><div class="line">STARTUP_MSG:   version = 2.7.3</div><div class="line">STARTUP_MSG:   classpath = /usr/local/hadoop/etc/hadoop……</div><div class="line">STARTUP_MSG:   build = https://git-wip-us.apache.org/repos/asf/hadoop.git -r baa91f7c6bc9cb92be5982de4719c1c8af91ccff; compiled by &apos;root&apos; on 2016-08-18T01:41Z</div><div class="line">STARTUP_MSG:   java = 1.7.0_80</div><div class="line">************************************************************/</div><div class="line">16/08/28 17:30:19 INFO namenode.NameNode: registered UNIX signal handlers for [TERM, HUP, INT]</div><div class="line">16/08/28 17:30:19 INFO namenode.NameNode: createNameNode [-format]</div><div class="line">Formatting using clusterid: CID-d6400139-18c9-4416-935c-33f8944b5efe</div><div class="line">16/08/28 17:30:21 INFO namenode.FSNamesystem: No KeyProvider found.</div><div class="line">16/08/28 17:30:21 INFO namenode.FSNamesystem: fsLock is fair:true</div><div class="line">16/08/28 17:30:21 INFO blockmanagement.DatanodeManager: dfs.block.invalidate.limit=1000</div><div class="line">16/08/28 17:30:21 INFO blockmanagement.DatanodeManager: dfs.namenode.datanode.registration.ip-hostname-check=true</div><div class="line">16/08/28 17:30:21 INFO blockmanagement.BlockManager: dfs.namenode.startup.delay.block.deletion.sec is set to 000:00:00:00.000</div><div class="line">16/08/28 17:30:21 INFO blockmanagement.BlockManager: The block deletion will start around 2016 Aug 28 17:30:21</div><div class="line">16/08/28 17:30:21 INFO util.GSet: Computing capacity for map BlocksMap</div><div class="line">16/08/28 17:30:21 INFO util.GSet: VM type       = 64-bit</div><div class="line">16/08/28 17:30:21 INFO util.GSet: 2.0% max memory 966.7 MB = 19.3 MB</div><div class="line">16/08/28 17:30:21 INFO util.GSet: capacity      = 2^21 = 2097152 entries</div><div class="line">16/08/28 17:30:21 INFO blockmanagement.BlockManager: dfs.block.access.token.enable=false</div><div class="line">16/08/28 17:30:21 INFO blockmanagement.BlockManager: defaultReplication         = 2</div><div class="line">16/08/28 17:30:21 INFO blockmanagement.BlockManager: maxReplication             = 512</div><div class="line">16/08/28 17:30:21 INFO blockmanagement.BlockManager: minReplication             = 1</div><div class="line">16/08/28 17:30:21 INFO blockmanagement.BlockManager: maxReplicationStreams      = 2</div><div class="line">16/08/28 17:30:21 INFO blockmanagement.BlockManager: replicationRecheckInterval = 3000</div><div class="line">16/08/28 17:30:21 INFO blockmanagement.BlockManager: encryptDataTransfer        = false</div><div class="line">16/08/28 17:30:21 INFO blockmanagement.BlockManager: maxNumBlocksToLog          = 1000</div><div class="line">16/08/28 17:30:21 INFO namenode.FSNamesystem: fsOwner             = hadoop (auth:SIMPLE)</div><div class="line">16/08/28 17:30:21 INFO namenode.FSNamesystem: supergroup          = supergroup</div><div class="line">16/08/28 17:30:21 INFO namenode.FSNamesystem: isPermissionEnabled = true</div><div class="line">16/08/28 17:30:21 INFO namenode.FSNamesystem: HA Enabled: false</div><div class="line">16/08/28 17:30:21 INFO namenode.FSNamesystem: Append Enabled: true</div><div class="line">16/08/28 17:30:21 INFO util.GSet: Computing capacity for map INodeMap</div><div class="line">16/08/28 17:30:21 INFO util.GSet: VM type       = 64-bit</div><div class="line">16/08/28 17:30:21 INFO util.GSet: 1.0% max memory 966.7 MB = 9.7 MB</div><div class="line">16/08/28 17:30:21 INFO util.GSet: capacity      = 2^20 = 1048576 entries</div><div class="line">16/08/28 17:30:21 INFO namenode.FSDirectory: ACLs enabled? false</div><div class="line">16/08/28 17:30:21 INFO namenode.FSDirectory: XAttrs enabled? true</div><div class="line">16/08/28 17:30:21 INFO namenode.FSDirectory: Maximum size of an xattr: 16384</div><div class="line">16/08/28 17:30:21 INFO namenode.NameNode: Caching file names occuring more than 10 times</div><div class="line">16/08/28 17:30:21 INFO util.GSet: Computing capacity for map cachedBlocks</div><div class="line">16/08/28 17:30:21 INFO util.GSet: VM type       = 64-bit</div><div class="line">16/08/28 17:30:21 INFO util.GSet: 0.25% max memory 966.7 MB = 2.4 MB</div><div class="line">16/08/28 17:30:21 INFO util.GSet: capacity      = 2^18 = 262144 entries</div><div class="line">16/08/28 17:30:21 INFO namenode.FSNamesystem: dfs.namenode.safemode.threshold-pct = 0.9990000128746033</div><div class="line">16/08/28 17:30:21 INFO namenode.FSNamesystem: dfs.namenode.safemode.min.datanodes = 0</div><div class="line">16/08/28 17:30:21 INFO namenode.FSNamesystem: dfs.namenode.safemode.extension     = 30000</div><div class="line">16/08/28 17:30:21 INFO metrics.TopMetrics: NNTop conf: dfs.namenode.top.window.num.buckets = 10</div><div class="line">16/08/28 17:30:21 INFO metrics.TopMetrics: NNTop conf: dfs.namenode.top.num.users = 10</div><div class="line">16/08/28 17:30:21 INFO metrics.TopMetrics: NNTop conf: dfs.namenode.top.windows.minutes = 1,5,25</div><div class="line">16/08/28 17:30:21 INFO namenode.FSNamesystem: Retry cache on namenode is enabled</div><div class="line">16/08/28 17:30:21 INFO namenode.FSNamesystem: Retry cache will use 0.03 of total heap and retry cache entry expiry time is 600000 millis</div><div class="line">16/08/28 17:30:21 INFO util.GSet: Computing capacity for map NameNodeRetryCache</div><div class="line">16/08/28 17:30:21 INFO util.GSet: VM type       = 64-bit</div><div class="line">16/08/28 17:30:21 INFO util.GSet: 0.029999999329447746% max memory 966.7 MB = 297.0 KB</div><div class="line">16/08/28 17:30:21 INFO util.GSet: capacity      = 2^15 = 32768 entries</div><div class="line">16/08/28 17:30:22 INFO namenode.FSImage: Allocated new BlockPoolId: BP-1205337113-192.168.0.121-1472376621912</div><div class="line">16/08/28 17:30:22 INFO common.Storage: Storage directory /usr/local/hadoop/hdfs/name has been successfully formatted.</div><div class="line">16/08/28 17:30:22 INFO namenode.FSImageFormatProtobuf: Saving image file /usr/local/hadoop/hdfs/name/current/fsimage.ckpt_0000000000000000000 using no compression</div><div class="line">16/08/28 17:30:22 INFO namenode.FSImageFormatProtobuf: Image file /usr/local/hadoop/hdfs/name/current/fsimage.ckpt_0000000000000000000 of size 353 bytes saved in 0 seconds.</div><div class="line">16/08/28 17:30:22 INFO namenode.NNStorageRetentionManager: Going to retain 1 images with txid &gt;= 0</div><div class="line">16/08/28 17:30:22 INFO util.ExitUtil: Exiting with status 0</div><div class="line">16/08/28 17:30:22 INFO namenode.NameNode: SHUTDOWN_MSG: </div><div class="line">/************************************************************</div><div class="line">SHUTDOWN_MSG: Shutting down NameNode at hd-master/192.168.0.121</div><div class="line">************************************************************/</div></pre></td></tr></table></figure>
<h4 id="启动Hadoop"><a href="#启动Hadoop" class="headerlink" title="启动Hadoop"></a>启动Hadoop</h4><p>进入<code>/usr/local/hadoop/sbin</code>目录下执行以下命令，建议关闭防火墙。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cd /usr/local/hadoop/sbin</div><div class="line">./start-dfs.sh</div><div class="line">./start-yarn.sh</div></pre></td></tr></table></figure>
<p>执行后控制台输出如下信息：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"># start-dfs.sh</div><div class="line">Starting namenodes on [hd-master]</div><div class="line">hd-master: starting namenode, logging to /usr/local/hadoop/logs/hadoop-hadoop-namenode-hd-master.out</div><div class="line">hd-slave1: starting datanode, logging to /usr/local/hadoop/logs/hadoop-hadoop-datanode-hd-slave1.out</div><div class="line">hd-slave2: starting datanode, logging to /usr/local/hadoop/logs/hadoop-hadoop-datanode-hd-slave2.out</div><div class="line">Starting secondary namenodes [hd-master]</div><div class="line">hd-master: starting secondarynamenode, logging to /usr/local/hadoop/logs/hadoop-hadoop-secondarynamenode-hd-master.out</div><div class="line"></div><div class="line"># start-yarn.sh</div><div class="line">starting yarn daemons</div><div class="line">starting resourcemanager, logging to /usr/local/hadoop/logs/yarn-hadoop-resourcemanager-hd-master.out</div><div class="line">hd-slave1: starting nodemanager, logging to /usr/local/hadoop/logs/yarn-hadoop-nodemanager-hd-slave1.out</div><div class="line">hd-slave2: starting nodemanager, logging to /usr/local/hadoop/logs/yarn-hadoop-nodemanager-hd-slave2.out</div></pre></td></tr></table></figure></p>
<h4 id="验证是否启动成功"><a href="#验证是否启动成功" class="headerlink" title="验证是否启动成功"></a>验证是否启动成功</h4><ul>
<li>使用java的jps工具检查</li>
</ul>
<p>分别在<code>hd-master</code>,<code>hd-slave1</code>,<code>hd-slave2</code>服务器上输入<code>jps</code>命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"># hd-master</div><div class="line">[hadoop@hd-master hadoop]$ jps</div><div class="line">12744 Jps</div><div class="line">12368 ResourceManager</div><div class="line">11983 NameNode</div><div class="line">12170 SecondaryNameNode</div><div class="line"></div><div class="line"># hd-slave1</div><div class="line">[hadoop@hd-slave1 hadoop]$ jps</div><div class="line">11052 NodeManager</div><div class="line">11254 Jps</div><div class="line">10931 DataNode</div><div class="line"></div><div class="line"># hd-slave2</div><div class="line">[hadoop@hd-slave2 hadoop]$ jps</div><div class="line">10663 DataNode</div><div class="line">11035 Jps</div><div class="line">10776 NodeManager</div></pre></td></tr></table></figure>
<ul>
<li>使用<code>./bin/hdfs dfsadmin -report</code>查看状态</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line">[hadoop@hd-master hadoop]$ ./bin/hdfs dfsadmin -report</div><div class="line">Configured Capacity: 88624291840 (82.54 GB)</div><div class="line">Present Capacity: 80397443072 (74.88 GB)</div><div class="line">DFS Remaining: 80397434880 (74.88 GB)</div><div class="line">DFS Used: 8192 (8 KB)</div><div class="line">DFS Used%: 0.00%</div><div class="line">Under replicated blocks: 0</div><div class="line">Blocks with corrupt replicas: 0</div><div class="line">Missing blocks: 0</div><div class="line">Missing blocks (with replication factor 1): 0</div><div class="line"></div><div class="line">-------------------------------------------------</div><div class="line">Live datanodes (2):</div><div class="line"></div><div class="line">Name: 192.168.0.123:50010 (hd-slave2)</div><div class="line">Hostname: hd-slave2</div><div class="line">Decommission Status : Normal</div><div class="line">Configured Capacity: 44312145920 (41.27 GB)</div><div class="line">DFS Used: 4096 (4 KB)</div><div class="line">Non DFS Used: 4113416192 (3.83 GB)</div><div class="line">DFS Remaining: 40198725632 (37.44 GB)</div><div class="line">DFS Used%: 0.00%</div><div class="line">DFS Remaining%: 90.72%</div><div class="line">Configured Cache Capacity: 0 (0 B)</div><div class="line">Cache Used: 0 (0 B)</div><div class="line">Cache Remaining: 0 (0 B)</div><div class="line">Cache Used%: 100.00%</div><div class="line">Cache Remaining%: 0.00%</div><div class="line">Xceivers: 1</div><div class="line">Last contact: Sun Aug 28 18:19:42 CST 2016</div><div class="line"></div><div class="line"></div><div class="line">Name: 192.168.0.122:50010 (hd-slave1)</div><div class="line">Hostname: hd-slave1</div><div class="line">Decommission Status : Normal</div><div class="line">Configured Capacity: 44312145920 (41.27 GB)</div><div class="line">DFS Used: 4096 (4 KB)</div><div class="line">Non DFS Used: 4113432576 (3.83 GB)</div><div class="line">DFS Remaining: 40198709248 (37.44 GB)</div><div class="line">DFS Used%: 0.00%</div><div class="line">DFS Remaining%: 90.72%</div><div class="line">Configured Cache Capacity: 0 (0 B)</div><div class="line">Cache Used: 0 (0 B)</div><div class="line">Cache Remaining: 0 (0 B)</div><div class="line">Cache Used%: 100.00%</div><div class="line">Cache Remaining%: 0.00%</div><div class="line">Xceivers: 1</div><div class="line">Last contact: Sun Aug 28 18:19:44 CST 2016</div></pre></td></tr></table></figure>
<h4 id="访问WEB管理页面"><a href="#访问WEB管理页面" class="headerlink" title="访问WEB管理页面"></a>访问WEB管理页面</h4><ul>
<li>访问Namenode页面</li>
</ul>
<p>浏览器输入：<code>http://192.168.0.121:50070/</code></p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/42fac93ac9d6def8/d4985a0b2cab4a26b460c7e5060a723a.png" alt="42fac93ac9d6def8/d4985a0b2cab4a26b460c7e5060a723a.png"></p>
<ul>
<li>访问Cluster页面</li>
</ul>
<p>浏览器输入：<code>http://192.168.0.121:8088/</code></p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/42fac93ac9d6def8/40221de82b004507b8e76f9ae37af31b.png" alt="42fac93ac9d6def8/40221de82b004507b8e76f9ae37af31b.png"></p>
<p>到此，Hadoop环境搭建完成。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;软硬件环境&quot;&gt;&lt;a href=&quot;#软硬件环境&quot; class=&quot;headerlink&quot; title=&quot;软硬件环境&quot;&gt;&lt;/a&gt;软硬件环境&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;虚拟机软件：Oracle VM VirtualBox&lt;/li&gt;
&lt;li&gt;操作系统：CentOS7&lt;/li&gt;
&lt;li&gt;JDK：1.7&lt;/li&gt;
&lt;li&gt;Hadoop：2.7.3&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;网络架构&quot;&gt;&lt;a href=&quot;#网络架构&quot; class=&quot;headerlink&quot; title=&quot;网络架构&quot;&gt;&lt;/a&gt;网络架构&lt;/h2&gt;&lt;p&gt;本文在Windows10主机上通过&lt;code&gt;Oracle VM VirtualBox&lt;/code&gt;搭建三个虚拟机，一个Master，两个Slave，具体网络环境如下图所示：&lt;/p&gt;
&lt;center&gt;&lt;br&gt;&lt;img src=&quot;http://o7xt53rmp.bkt.clouddn.com/a3c3916cd7d562c3/1edb1558fa114be8a7aead8c544dd4df.png&quot; alt=&quot;a3c3916cd7d562c3/1edb1558fa114be8a7aead8c544dd4df.png&quot;&gt;&lt;br&gt;&lt;/center&gt;
    
    </summary>
    
      <category term="program" scheme="http://www.itechq.com/categories/program/"/>
    
    
      <category term="Hadoop" scheme="http://www.itechq.com/tags/Hadoop/"/>
    
      <category term="CentOS" scheme="http://www.itechq.com/tags/CentOS/"/>
    
  </entry>
  
  <entry>
    <title>CentOS 卸载OpenJDK，安装OracleJDK</title>
    <link href="http://www.itechq.com/blog/technology/centos-unistall-openjdk-and-install-oraclejdk.html"/>
    <id>http://www.itechq.com/blog/technology/centos-unistall-openjdk-and-install-oraclejdk.html</id>
    <published>2016-06-24T05:58:05.000Z</published>
    <updated>2016-11-19T01:56:34.019Z</updated>
    
    <content type="html"><![CDATA[<p>CentOS系统自带OpenJDK，但是我们平时开发都是用OracleJDK，下面记录如何卸载OpenJDK，再安装OracleJDK，供以后查阅。</p>
<h1 id="卸载OpenJDK"><a href="#卸载OpenJDK" class="headerlink" title="卸载OpenJDK"></a>卸载OpenJDK</h1><h2 id="查看CentOS是否安装JDK"><a href="#查看CentOS是否安装JDK" class="headerlink" title="查看CentOS是否安装JDK"></a>查看CentOS是否安装JDK</h2><p>使用<code>java -version</code>命令，如下所示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ java -version</div><div class="line">openjdk version &quot;1.8.0_91&quot;</div><div class="line">OpenJDK Runtime Environment (build 1.8.0_91-b14)</div><div class="line">OpenJDK Server VM (build 25.91-b14, mixed mode)</div></pre></td></tr></table></figure></p>
<a id="more"></a>
<h2 id="查看已经安装的JDK信息"><a href="#查看已经安装的JDK信息" class="headerlink" title="查看已经安装的JDK信息"></a>查看已经安装的JDK信息</h2><p>使用<code>rpm -qa | grep java</code>命令，如下所示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ rpm -qa | grep java </div><div class="line">java-1.8.0-openjdk-headless-1.8.0.91-0.b14.el6_7.i686</div><div class="line">tzdata-java-2016d-1.el6.noarch</div><div class="line">java-1.8.0-openjdk-1.8.0.91-0.b14.el6_7.i686</div><div class="line"></div><div class="line"># 其他命令：rpm -qa | grep jdk</div></pre></td></tr></table></figure></p>
<h2 id="卸载OpenJDK-1"><a href="#卸载OpenJDK-1" class="headerlink" title="卸载OpenJDK"></a>卸载OpenJDK</h2><p>使用<code>rpm -e --nodeps [java.xx]</code>，记得使用有权限用户，如下所示；<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ rpm -e --nodeps java-1.8.0-openjdk-headless-1.8.0.91-0.b14.el6_7.i686</div><div class="line">$ rpm -e --nodeps tzdata-java-2016d-1.el6.noarch</div><div class="line">$ rpm -e --nodeps java-1.8.0-openjdk-1.8.0.91-0.b14.el6_7.i686</div></pre></td></tr></table></figure></p>
<h2 id="检查是否卸载完成"><a href="#检查是否卸载完成" class="headerlink" title="检查是否卸载完成"></a>检查是否卸载完成</h2><p>使用<code>java -version</code>命令，如下所示；<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ java -version</div><div class="line">bash: java: command not found</div></pre></td></tr></table></figure></p>
<p>出现以上信息，表示卸载成功。</p>
<h1 id="安装Oracle-JDK"><a href="#安装Oracle-JDK" class="headerlink" title="安装Oracle JDK"></a>安装Oracle JDK</h1><h2 id="下载Oracle-JDK"><a href="#下载Oracle-JDK" class="headerlink" title="下载Oracle JDK"></a>下载Oracle JDK</h2><p>使用CentOS<code>wget</code>命令下载，虽然Oracle官方不允许直接下载JDK，但是我们可以获取下载地址后拷贝出来下载，授权后的下载地址<code>wget http://download.oracle.com/otn/java/jdk/7u80-b15/jdk-7u80-linux-i586.rpm?AuthParam=1466749556_f8c61ecf9ec04d793d7f28fc427ea6d7</code>，下载结果如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">$ wget http://download.oracle.com/otn/java/jdk/7u80-b15/jdk-7u80-linux-i586.rpm?AuthParam=1466749556_f8c61ecf9ec04d793d7f28fc427ea6d7</div><div class="line"></div><div class="line">--2016-06-24 14:24:26--  http://download.oracle.com/otn/java/jdk/7u80-b15/jdk-7u80-linux-i586.rpm?AuthParam=1466749556_f8c61ecf9ec04d793d7f28fc427ea6d7</div><div class="line">Resolving download.oracle.com... 184.25.56.53, 184.25.56.42</div><div class="line">Connecting to download.oracle.com|184.25.56.53|:80... connected.</div><div class="line">HTTP request sent, awaiting response... 200 OK</div><div class="line">Length: 136775360 (130M) [application/x-redhat-package-manager]</div><div class="line">Saving to: `jdk-7u80-linux-i586.rpm?AuthParam=1466749556_f8c61ecf9ec04d793d7f28fc427ea6d7&apos;</div><div class="line"></div><div class="line">100%[=============================================================================================&gt;] 136,775,360 16.1M/s   in 7.6s    </div><div class="line"></div><div class="line">2016-06-24 14:24:34 (17.2 MB/s) - `jdk-7u80-linux-i586.rpm?AuthParam=1466749556_f8c61ecf9ec04d793d7f28fc427ea6d7&apos; saved [136775360/136775360]</div></pre></td></tr></table></figure>
<h2 id="重命名JDK"><a href="#重命名JDK" class="headerlink" title="重命名JDK"></a>重命名JDK</h2><p>由于下载后的JDK名字为<code>jdk-7u80-linux-i586.rpm?AuthParam=1466749556_f8c61ecf9ec04d793d7f28fc427ea6d7</code>，所以我们需要重命名一下，命令如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">-- 重命名</div><div class="line">$ mv jdk-7u80-linux-i586.rpm\?AuthParam\=1466749556_f8c61ecf9ec04d793d7f28fc427ea6d7 jdk-7u80-linux-i586.rpm</div><div class="line"></div><div class="line">-- 修改文件权限</div><div class="line">$ chmod 777 jdk-7u80-linux-i586.rpm</div></pre></td></tr></table></figure></p>
<h2 id="安装JDK"><a href="#安装JDK" class="headerlink" title="安装JDK"></a>安装JDK</h2><p>执行如下命令，选择<code>yes</code>直到安装完毕。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">$ rpm -ivh jdk-7u80-linux-i586.rpm </div><div class="line"></div><div class="line">Preparing...                ########################################### [100%]</div><div class="line">   1:jdk                    ########################################### [100%]</div><div class="line">Unpacking JAR files...</div><div class="line">        rt.jar...</div><div class="line">        jsse.jar...</div><div class="line">        charsets.jar...</div><div class="line">        tools.jar...</div><div class="line">        localedata.jar...</div><div class="line">        jfxrt.jar...</div><div class="line">        plugin.jar...</div><div class="line">        javaws.jar...</div><div class="line">        deploy.jar...</div></pre></td></tr></table></figure></p>
<h2 id="检查是否安装成功"><a href="#检查是否安装成功" class="headerlink" title="检查是否安装成功"></a>检查是否安装成功</h2><p>使用<code>java -version</code>命令，如下所示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ java -version</div><div class="line">java version &quot;1.7.0_80&quot;</div><div class="line">Java(TM) SE Runtime Environment (build 1.7.0_80-b15)</div><div class="line">Java HotSpot(TM) Client VM (build 24.80-b11, mixed mode, sharing)</div></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;CentOS系统自带OpenJDK，但是我们平时开发都是用OracleJDK，下面记录如何卸载OpenJDK，再安装OracleJDK，供以后查阅。&lt;/p&gt;
&lt;h1 id=&quot;卸载OpenJDK&quot;&gt;&lt;a href=&quot;#卸载OpenJDK&quot; class=&quot;headerlink&quot; title=&quot;卸载OpenJDK&quot;&gt;&lt;/a&gt;卸载OpenJDK&lt;/h1&gt;&lt;h2 id=&quot;查看CentOS是否安装JDK&quot;&gt;&lt;a href=&quot;#查看CentOS是否安装JDK&quot; class=&quot;headerlink&quot; title=&quot;查看CentOS是否安装JDK&quot;&gt;&lt;/a&gt;查看CentOS是否安装JDK&lt;/h2&gt;&lt;p&gt;使用&lt;code&gt;java -version&lt;/code&gt;命令，如下所示：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ java -version&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;openjdk version &amp;quot;1.8.0_91&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;OpenJDK Runtime Environment (build 1.8.0_91-b14)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;OpenJDK Server VM (build 25.91-b14, mixed mode)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="technology" scheme="http://www.itechq.com/categories/technology/"/>
    
    
      <category term="CentOS" scheme="http://www.itechq.com/tags/CentOS/"/>
    
      <category term="JDK" scheme="http://www.itechq.com/tags/JDK/"/>
    
  </entry>
  
  <entry>
    <title>Windows根据端口号查找进程名</title>
    <link href="http://www.itechq.com/blog/notes/find-process-name-by-port.html"/>
    <id>http://www.itechq.com/blog/notes/find-process-name-by-port.html</id>
    <published>2016-06-12T12:54:49.000Z</published>
    <updated>2016-11-19T01:56:34.019Z</updated>
    
    <content type="html"><![CDATA[<p>有时候我们电脑装的很多程序都会监听同一个端口(如：80端口)，当某个程序真的想监听这个端口的时候，发现已经被占用，但是又不知道被哪个进程占用，通过以下几步可以通过端口号定位进程名。</p>
<p><strong>下面我通过查找<code>3306</code>端口为例！</strong></p>
<h2 id="根据端口号查找PID，命令如下："><a href="#根据端口号查找PID，命令如下：" class="headerlink" title="根据端口号查找PID，命令如下："></a>根据端口号查找PID，命令如下：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">netstat -ano | findstr 3306</div></pre></td></tr></table></figure>
<h2 id="根据PID查找进程名，命令如下："><a href="#根据PID查找进程名，命令如下：" class="headerlink" title="根据PID查找进程名，命令如下："></a>根据PID查找进程名，命令如下：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">tasklist | findstr 2292</div></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="操作截图"><a href="#操作截图" class="headerlink" title="操作截图"></a>操作截图</h2><p><img src="http://o7xt53rmp.bkt.clouddn.com/f4e86f4d857f9daf/8a348d24183b42dc8d01bc57df26d190.png" alt="f4e86f4d857f9daf/8a348d24183b42dc8d01bc57df26d190.png"></p>
<p><code>矩形框</code>表示端口所占进程PID，<code>椭圆</code>表示端口所占进程名</p>
<hr>
<p><code>natstat</code>中<code>ano</code>含义可通过帮助命令<code>netstat \</code>查看：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">C:\Users\Jason&gt;netstat \</div><div class="line"></div><div class="line">显示协议统计信息和当前 TCP/IP 网络连接。</div><div class="line"></div><div class="line">NETSTAT [-a] [-b] [-e] [-f] [-n] [-o] [-p proto] [-r] [-s] [-x] [-t] [interval]</div><div class="line"></div><div class="line">  -a            显示所有连接和侦听端口。</div><div class="line">  -b            显示在创建每个连接或侦听端口时涉及的</div><div class="line">                可执行程序。在某些情况下，已知可执行程序承载</div><div class="line">                多个独立的组件，这些情况下，</div><div class="line">                显示创建连接或侦听端口时</div><div class="line">                涉及的组件序列。在此情况下，可执行程序的</div><div class="line">                名称位于底部 [] 中，它调用的组件位于顶部，</div><div class="line">                直至达到 TCP/IP。注意，此选项</div><div class="line">                可能很耗时，并且在你没有足够</div><div class="line">                权限时可能失败。</div><div class="line">  -e            显示以太网统计信息。此选项可以与 -s 选项</div><div class="line">                结合使用。</div><div class="line">  -f            显示外部地址的完全限定</div><div class="line">                域名(FQDN)。</div><div class="line">  -n            以数字形式显示地址和端口号。</div><div class="line">  -o            显示拥有的与每个连接关联的进程 ID。</div><div class="line">  -p proto      显示 proto 指定的协议的连接；proto</div><div class="line">                可以是下列任何一个: TCP、UDP、TCPv6 或 UDPv6。如果与 -s</div><div class="line">                选项一起用来显示每个协议的统计信息，proto 可以是下列任何一个:</div><div class="line">                IP、IPv6、ICMP、ICMPv6、TCP、TCPv6、UDP 或 UDPv6。</div><div class="line">  -q            显示所有连接、侦听端口和绑定的</div><div class="line">                非侦听 TCP 端口。绑定的非侦听端口</div><div class="line">                 不一定与活动连接相关联。</div><div class="line">  -r            显示路由表。</div><div class="line">  -s            显示每个协议的统计信息。默认情况下，</div><div class="line">                显示 IP、IPv6、ICMP、ICMPv6、TCP、TCPv6、UDP 和 UDPv6 的统计信息;</div><div class="line">                -p 选项可用于指定默认的子网。</div><div class="line">  -t            显示当前连接卸载状态。</div><div class="line">  -x            显示 NetworkDirect 连接、侦听器和共享</div><div class="line">                终结点。</div><div class="line">  -y            显示所有连接的 TCP 连接模板。</div><div class="line">                无法与其他选项结合使用。</div><div class="line">  interval      重新显示选定的统计信息，各个显示间暂停的</div><div class="line">                间隔秒数。按 CTRL+C 停止重新显示</div><div class="line">                统计信息。如果省略，则 netstat 将打印当前的</div><div class="line">                配置信息一次。</div></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;有时候我们电脑装的很多程序都会监听同一个端口(如：80端口)，当某个程序真的想监听这个端口的时候，发现已经被占用，但是又不知道被哪个进程占用，通过以下几步可以通过端口号定位进程名。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;下面我通过查找&lt;code&gt;3306&lt;/code&gt;端口为例！&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;根据端口号查找PID，命令如下：&quot;&gt;&lt;a href=&quot;#根据端口号查找PID，命令如下：&quot; class=&quot;headerlink&quot; title=&quot;根据端口号查找PID，命令如下：&quot;&gt;&lt;/a&gt;根据端口号查找PID，命令如下：&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;netstat -ano | findstr 3306&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;根据PID查找进程名，命令如下：&quot;&gt;&lt;a href=&quot;#根据PID查找进程名，命令如下：&quot; class=&quot;headerlink&quot; title=&quot;根据PID查找进程名，命令如下：&quot;&gt;&lt;/a&gt;根据PID查找进程名，命令如下：&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;tasklist | findstr 2292&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="notes" scheme="http://www.itechq.com/categories/notes/"/>
    
    
      <category term="Windows" scheme="http://www.itechq.com/tags/Windows/"/>
    
  </entry>
  
  <entry>
    <title>Git常用命令整理</title>
    <link href="http://www.itechq.com/blog/technology/git-manual.html"/>
    <id>http://www.itechq.com/blog/technology/git-manual.html</id>
    <published>2016-06-11T02:58:00.000Z</published>
    <updated>2016-11-19T01:56:34.003Z</updated>
    
    <content type="html"><![CDATA[<p><em>本文参考<a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000" target="_blank" rel="external">廖雪峰Git教程</a>，根据个人使用情况整理完成。</em></p>
<h1 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h1><p><strong><font color="red">说明：以下配置都以Windows系统为例！</font></strong></p>
<h2 id="设置用户名、邮箱"><a href="#设置用户名、邮箱" class="headerlink" title="设置用户名、邮箱"></a>设置用户名、邮箱</h2><p>提交代码前，需要告诉git是谁提交，邮箱是什么，所以需要对git做基本配置。打开终端，执行如下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git config --global user.name &quot;你的名字或昵称&quot;</div><div class="line">git config --global user.email &quot;你的邮箱&quot;</div></pre></td></tr></table></figure>
<a id="more"></a>
<p>执行完以上命令后，会在<code>C:\Users\用户名\</code>目录下生成<code>.gitconfig</code>文件，内容如下：<br><img src="http://o7xt53rmp.bkt.clouddn.com/413f1ead748d968b/d52d1e0cc3c54325b871a523e0bfc153.png" alt="413f1ead748d968b/d52d1e0cc3c54325b871a523e0bfc153.png"></p>
<h2 id="SSH-Key密钥生成"><a href="#SSH-Key密钥生成" class="headerlink" title="SSH Key密钥生成"></a>SSH Key密钥生成</h2><p>以对接<a href="https://git.oschina.net/" target="_blank" rel="external">码云</a>为例，生成密钥，执行以下代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh-keygen -t rsa -C &quot;xxxxx@xxxxx.com&quot; # Creates a new ssh key using the provided email</div></pre></td></tr></table></figure></p>
<p>执行完以上命令后，会在<code>C:\Users\用户名\.ssh</code>目录下生成以下两个文件，如下图：<br><img src="http://o7xt53rmp.bkt.clouddn.com/413f1ead748d968b/7d0d685e6d6c4196a8bb3367e0e745d0.png" alt="413f1ead748d968b/7d0d685e6d6c4196a8bb3367e0e745d0.png"></p>
<p>然后将public key添加到Git@OSC <a href="http://git.oschina.net/keys" target="_blank" rel="external">http://git.oschina.net/keys</a>，添加后，在终端输入：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh -T git@git.oschina.net</div></pre></td></tr></table></figure></p>
<p>若返回如下信息，则表示添加成功。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Welcome to Git@OSC, itechq!</div></pre></td></tr></table></figure></p>
<h2 id="查看配置信息"><a href="#查看配置信息" class="headerlink" title="查看配置信息"></a>查看配置信息</h2><p>要检查已有配置信息，可用<code>git config --list</code>：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">$ git config --list</div><div class="line">core.symlinks=false</div><div class="line">core.autocrlf=true</div><div class="line">core.fscache=true</div><div class="line">color.diff=auto</div><div class="line">color.status=auto</div><div class="line">color.branch=auto</div><div class="line">color.interactive=true</div><div class="line">help.format=html</div><div class="line">http.sslcainfo=D:/Program Files/Git/mingw64/ssl/certs/ca-bundle.crt</div><div class="line">diff.astextplain.textconv=astextplain</div><div class="line">rebase.autosquash=true</div><div class="line">credential.helper=manager</div><div class="line">user.name=itechq</div><div class="line">user.email=csch112@163.com</div></pre></td></tr></table></figure></p>
<h2 id="获取帮助"><a href="#获取帮助" class="headerlink" title="获取帮助"></a>获取帮助</h2><p>想查询某个命令如何使用，可使用如下命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git help &lt;verb&gt;</div><div class="line">git &lt;verb&gt; --help</div><div class="line">man git-&lt;verb&gt;</div></pre></td></tr></table></figure></p>
<h1 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h1><h2 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git init</div></pre></td></tr></table></figure>
<h2 id="克隆"><a href="#克隆" class="headerlink" title="克隆"></a>克隆</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># 克隆到远程仓库目录</div><div class="line">git clone [url]</div><div class="line"></div><div class="line"># 克隆到指定目录</div><div class="line">git clone [url] [dir]</div></pre></td></tr></table></figure>
<h2 id="查看状态"><a href="#查看状态" class="headerlink" title="查看状态"></a>查看状态</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git status</div></pre></td></tr></table></figure>
<h2 id="暂存更新"><a href="#暂存更新" class="headerlink" title="暂存更新"></a>暂存更新</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># 添加指定文件，支持*通配符</div><div class="line">git add [file]</div><div class="line"></div><div class="line"># 添加所有文件</div><div class="line">git add -A</div></pre></td></tr></table></figure>
<h2 id="提交更新"><a href="#提交更新" class="headerlink" title="提交更新"></a>提交更新</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git commit -m &quot;注释信息&quot;</div></pre></td></tr></table></figure>
<h2 id="查看日志"><a href="#查看日志" class="headerlink" title="查看日志"></a>查看日志</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">$ git log</div><div class="line">commit 4690f5809f35fca65148232de41ba6b5f10221ba</div><div class="line">Author: itechq &lt;csch112@163.com&gt;</div><div class="line">Date:   Sat Jun 11 00:15:57 2016 +0800</div><div class="line"></div><div class="line">    新增IDEA快捷键收录</div><div class="line"></div><div class="line">commit 7985f617f14d3793d6cded26364622688f0c245b</div><div class="line">Author: itechq &lt;csch112@163.com&gt;</div><div class="line">Date:   Sat Jun 11 00:07:37 2016 +0800</div><div class="line"></div><div class="line">    修改搜索引擎为本地搜索</div><div class="line"></div><div class="line">commit 8c7f506faeb2c9d153c9bfba7e7729d96294f7b0</div><div class="line">Author: itechq &lt;csch112@163.com&gt;</div><div class="line">Date:   Fri Jun 10 22:52:22 2016 +0800</div><div class="line"></div><div class="line">    优化七牛同步工具</div><div class="line"></div><div class="line">commit 526885e57db40c05c431ca129f739fc7d007bc1d</div><div class="line">Author: itechq &lt;csch112@163.com&gt;</div><div class="line">Date:   Fri Jun 10 22:33:08 2016 +0800</div></pre></td></tr></table></figure>
<p>通常用<code>-p</code>选项展开显示每次提交的内容差异，用<code>-2</code>则仅显示最近的两次更新<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">$ git log -p -2</div><div class="line">commit 4690f5809f35fca65148232de41ba6b5f10221ba</div><div class="line">Author: itechq &lt;csch112@163.com&gt;</div><div class="line">Date:   Sat Jun 11 00:15:57 2016 +0800</div><div class="line"></div><div class="line">    新增IDEA快捷键收录</div><div class="line"></div><div class="line">diff --git a/source/_posts/2016-06-11-intellij-idea-hotkey.md b/source/_posts/2016-06-11-intellij-idea-hotkey.md</div><div class="line">new file mode 100644</div><div class="line">index 0000000..73d034a</div><div class="line">--- /dev/null</div><div class="line">+++ b/source/_posts/2016-06-11-intellij-idea-hotkey.md</div></pre></td></tr></table></figure></p>
<h2 id="版本回退"><a href="#版本回退" class="headerlink" title="版本回退"></a>版本回退</h2><p>首先通过<code>git log</code>命令查看版本库提交记录，即查看日志命令输出结果，若要回退版本，Git必须知道当前版本是哪个版本，在Git中，用<code>HEAD</code>表示当前版本，即最新提交的<code>4690f5809f35fca65148232de41ba6b5f10221ba</code>，上一个版本就是<code>HEAD^</code>，上上一个版本就是<code>HEAD^^</code>，依次类推，若往上很多版本（如100个），一般写成<code>HEAD~100</code>。</p>
<p>回退版本，使用如下命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">git reset --hard commit_id</div><div class="line"></div><div class="line"># 回退到上一版本</div><div class="line">git reset --hard HEAD^</div></pre></td></tr></table></figure></p>
<p>若又想回退到新版本，但是找不到<code>commit_id</code>了，可通过<code>git reflog</code>命令，该命令会记录每一次操作命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ git reflog</div><div class="line">4690f58 HEAD@&#123;0&#125;: commit: 新增IDEA快捷键收录</div><div class="line">7985f61 HEAD@&#123;1&#125;: commit: 修改搜索引擎为本地搜索</div><div class="line">8c7f506 HEAD@&#123;2&#125;: commit: 优化七牛同步工具</div><div class="line">526885e HEAD@&#123;3&#125;: commit (initial): init project</div></pre></td></tr></table></figure></p>
<h2 id="撤销修改"><a href="#撤销修改" class="headerlink" title="撤销修改"></a>撤销修改</h2><p>如果想恢复工作区文件到上一个版本，可使用命令<code>git checkout -- file</code>来丢弃工作区修改：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git checkout -- readme.txt</div></pre></td></tr></table></figure></p>
<p>即把<code>readme.txt</code>文件在工作区的修改全部撤销，有两种情况：</p>
<ul>
<li><code>readme.txt</code>自修改后还没放到暂存区，现在撤销修改后回到和版本库状态一样</li>
<li><code>readme.txt</code>已放到暂存区后，又做了修改，现在撤销修改就回到添加到暂存区后的状态</li>
</ul>
<p><strong>注意：</strong><code>git checkout -- file</code>命令中的<code>--</code>很重要，若没有<code>--</code>，就变成<strong>切换到另一个分支</strong>命令</p>
<h2 id="撤销已暂存文件"><a href="#撤销已暂存文件" class="headerlink" title="撤销已暂存文件"></a>撤销已暂存文件</h2><p>若某个文件已经加入暂存区，现在想撤销掉，用以下命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git reset HEAD file</div></pre></td></tr></table></figure></p>
<h2 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h2><p>删除本地文件，使用如下命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rm file</div></pre></td></tr></table></figure></p>
<ul>
<li><p>从Git库删除，使用如下操作命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># 1.从版本库删除文件</div><div class="line">git rm file</div><div class="line"></div><div class="line"># 2.提交删除</div><div class="line">git commit -m &quot;注释信息&quot;</div></pre></td></tr></table></figure>
</li>
<li><p>误删除，需要恢复文件，使用如下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git checkout -- file</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="添加远程仓库"><a href="#添加远程仓库" class="headerlink" title="添加远程仓库"></a>添加远程仓库</h2><ul>
<li><p>关联远程仓管</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># 将本地仓库与远程仓库关联</div><div class="line">git remote add origin git@git.oschina.net:itechq/hotch-hexo.git</div></pre></td></tr></table></figure>
</li>
<li><p>首次推送本地仓库到远程仓库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git push -u origin master</div></pre></td></tr></table></figure>
</li>
<li><p>再次推送本地仓库到远程仓库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git push origin master</div></pre></td></tr></table></figure></li>
</ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;em&gt;本文参考&lt;a href=&quot;http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000&quot;&gt;廖雪峰Git教程&lt;/a&gt;，根据个人使用情况整理完成。&lt;/em&gt;&lt;/p&gt;
&lt;h1 id=&quot;基本配置&quot;&gt;&lt;a href=&quot;#基本配置&quot; class=&quot;headerlink&quot; title=&quot;基本配置&quot;&gt;&lt;/a&gt;基本配置&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;&lt;font color=&quot;red&quot;&gt;说明：以下配置都以Windows系统为例！&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;设置用户名、邮箱&quot;&gt;&lt;a href=&quot;#设置用户名、邮箱&quot; class=&quot;headerlink&quot; title=&quot;设置用户名、邮箱&quot;&gt;&lt;/a&gt;设置用户名、邮箱&lt;/h2&gt;&lt;p&gt;提交代码前，需要告诉git是谁提交，邮箱是什么，所以需要对git做基本配置。打开终端，执行如下命令：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git config --global user.name &amp;quot;你的名字或昵称&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git config --global user.email &amp;quot;你的邮箱&amp;quot;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="technology" scheme="http://www.itechq.com/categories/technology/"/>
    
    
      <category term="Git" scheme="http://www.itechq.com/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>IntelliJ IDEA 快捷键收录</title>
    <link href="http://www.itechq.com/blog/technology/intellij-idea-hotkey.html"/>
    <id>http://www.itechq.com/blog/technology/intellij-idea-hotkey.html</id>
    <published>2016-06-10T16:12:02.000Z</published>
    <updated>2016-11-19T01:56:34.019Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Ctrl"><a href="#Ctrl" class="headerlink" title="Ctrl"></a>Ctrl</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div></pre></td><td class="code"><pre><div class="line">Ctrl + Y 删除行</div><div class="line"></div><div class="line">ctrl + X 剪切行</div><div class="line"></div><div class="line">Ctrl + N 查找类</div><div class="line"></div><div class="line">Ctrl + R 替换</div><div class="line"></div><div class="line">Ctrl + O 选择可覆盖/继承的方法</div><div class="line"></div><div class="line">Ctrl + F 当前代码中查找</div><div class="line"></div><div class="line">Ctrl + J 自动代码提示（提示的是自己定义的代码格式）</div><div class="line"></div><div class="line">Ctrl + D 复制行或是块(默认是这个意思)(但是我一般习惯改成专门复制行,不包括块,搜索Duplicate Lines)</div><div class="line"></div><div class="line">Ctrl + P 方法参数提示显示</div><div class="line"></div><div class="line">Ctrl + W 选中光标所在的单词 ，连续按会有其他效果 (相反的是Ctrl+Shift+W)</div><div class="line"></div><div class="line">Ctrl + Q 鼠标放在变量/类名/方法名等上面（也可以在提示补充的时候按），显示文档内容，同类似的功能还有一个Ctrl + Shift + I</div><div class="line"></div><div class="line">Ctrl + B 快速打开光标处的类或方法（对于前端支持很好,比如可以直接通过class的name定位到css的文件位置）(等同于ctrl+光标指向)</div><div class="line"></div><div class="line">Ctrl + E 最近打开的文件</div><div class="line"></div><div class="line">Ctrl + U 前往父类的方法/父类</div><div class="line"></div><div class="line">Ctrl + K VCS提交项目</div><div class="line"></div><div class="line">Ctrl + T VCS更新项目</div><div class="line"></div><div class="line">Ctrl + G 跳到指定行</div><div class="line"></div><div class="line">Ctrl + H 显示类层次图</div><div class="line"></div><div class="line">Ctrl + F1 显示错误</div><div class="line"></div><div class="line">Ctrl + F3 调转到所选中的词的下一个同名位置</div><div class="line"></div><div class="line">Ctrl + F9 编译</div><div class="line"></div><div class="line">Ctrl – F12 当前编辑的文件中快速导航(可以直接键入字母，IntelliJ IDEA会筛选你输入的来匹配对应是否有的方法，来快速定位)(类似结构图)</div><div class="line"></div><div class="line">Ctrl + F11 弹出一个小框来指定式添加书签(可以对文件或文件夹起作用)</div><div class="line"></div><div class="line">Ctrl + Tab 编辑窗口切换 (如果在切换的过程又加按上delete,则是关闭对应选中的窗口)</div><div class="line"></div><div class="line">Ctrl + delete 删除光标后面的单词</div><div class="line"></div><div class="line">Ctrl + home/end 跳到文件头文件尾</div><div class="line"></div><div class="line">Ctrl + BackSpace 删除光标前面的单词</div><div class="line"></div><div class="line">Ctrl + [ 或 ] 移动光标到块的初/末括号地方</div><div class="line"></div><div class="line">Ctrl + / 或 Ctrl+Shift+/ 注释（// 或者/*…*/ ）</div><div class="line"></div><div class="line">Ctrl + 1，2，3，4…. 快速定位到书签代码处(必须先Ctrl+Shift+1,2,3,4…添加书签)</div><div class="line"></div><div class="line">Ctrl + 空格 代码补全提示(因为windows默认被输入法给占用了,可以自己更改下)</div><div class="line"></div><div class="line">Ctrl + 小键盘+/- 折叠/展开代码</div><div class="line"></div><div class="line">Ctrl + 鼠标单击编辑窗口的文件标题	弹出该文件路径,可以通过这个打开文件所在地方(相当于Ctrl+alt+F12)</div><div class="line"></div><div class="line">Ctrl + 方向左/右 光标跳到上/下个单词</div><div class="line"></div><div class="line">Ctrl + 方向上/下 相当于你用鼠标滑滚轮(为了方便鼠标党)</div></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="Alt"><a href="#Alt" class="headerlink" title="Alt"></a>Alt</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">Alt + 1 打开/关闭project选项卡 </div><div class="line"></div><div class="line">Alt + `   `这个键是Tab上面那个，按下之后，如果项目有版本控制，则显示常用的版本控制命令</div><div class="line"></div><div class="line">Alt + A 在SVN中把新创建的文件加入进来（自己添加，在Subversion类别）</div><div class="line"></div><div class="line">Alt + Q 查看方法的声明(在左上角出现一个Tip层提示)，你无需滚动上去查看</div><div class="line"></div><div class="line">Alt + F1 弹出文件选择目标，这个很好用的</div><div class="line"></div><div class="line">Alt + F2 多个浏览器预览</div><div class="line"></div><div class="line">Alt + F3 选中文本，逐个往下查找相同文本，并高亮显示。</div><div class="line"></div><div class="line">Alt + F7 查看该方法/变量/类被调用的地方</div><div class="line"></div><div class="line">Alt + F8 在debug的状态下，选中某些变量或是对象，按此快捷键弹出可输入变量、方法的调试框，指定查看该内容的debug情况</div><div class="line"></div><div class="line">Alt + Home 跳到文件导航bar</div><div class="line"></div><div class="line">Alt + Insert 生成代码(如get,set方法,构造函数等)</div><div class="line"></div><div class="line">Alt + 方向键 左 或 方向键 右 切换当前打开的代码文件视图</div><div class="line"></div><div class="line">Alt + 方向键 上 或 方向键 下 在方法间快速移动定位</div><div class="line"></div><div class="line">Alt + 鼠标左键单击不放,拖动 可以直接方块区域选择（很有用）</div><div class="line"></div><div class="line">Alt + 回车 快速修复(可以用来导入单个包)</div></pre></td></tr></table></figure>
<h2 id="Shift"><a href="#Shift" class="headerlink" title="Shift"></a>Shift</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">Shift + F6 重构：重新命名</div><div class="line"></div><div class="line">Shift + F11 查看书签</div><div class="line"></div><div class="line">Shift + F10 Run(运行)当前程序，相当于点击run按钮</div><div class="line"></div><div class="line">Shift + F9   debug当前程序，相当于点击debug按钮</div><div class="line"></div><div class="line">Shift + end 选中从光标到end处</div><div class="line"></div><div class="line">Shift + home 选中从光标到home处</div><div class="line"></div><div class="line">Shift + Enter 光标所在行下空出一行，光标跳下</div><div class="line"></div><div class="line">Shift + 单击 可以关闭文件</div><div class="line"></div><div class="line">Shift + 滚轮 横向滚动轴滚动(非常强大)</div></pre></td></tr></table></figure>
<h2 id="Ctrl-Alt"><a href="#Ctrl-Alt" class="headerlink" title="Ctrl+Alt"></a>Ctrl+Alt</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">Ctrl + Alt + W 关闭所有编辑的快捷键（自己添加，在close all）</div><div class="line"></div><div class="line">Ctrl + Alt + O 优化导入的类和包</div><div class="line"></div><div class="line">Ctrl + Alt + L 格式化代码</div><div class="line"></div><div class="line">Ctrl + Alt + I 选中部分自动缩进行（有点类似格式化，但是只是整理行格式而已）</div><div class="line"></div><div class="line">Ctrl + Alt + T 选中的地方代码环绕提示</div><div class="line"></div><div class="line">Ctrl + Alt + B 跳到具体的实现方法，查找接口/抽象方法的具体实现很好用(相反行为的快捷键是Ctrl+b)</div><div class="line"></div><div class="line">Ctrl + Alt + V 快速引进一个变量</div><div class="line"></div><div class="line">Ctrl + Alt + F7 寻找被该类或是变量被使用的地方，用弹出框的方式找出来，跟Alt+F7效果一样，但是因为是弹出框，选中了一个位置就会消失。</div><div class="line"></div><div class="line">Ctrl + Alt + Enter 光标所在行上空出一行，光标跳上</div><div class="line"></div><div class="line">Ctrl + Alt + home 弹出跟当前文件有关联的文件目录(比如jsp里面有导入几个js和css,这些文件就是关联文件)</div><div class="line"></div><div class="line">Ctrl + Alt + 方向左/右 退回/前进到上一个操作的地方</div><div class="line"></div><div class="line">Ctrl + Alt + 方向上/下 在Find模式下，挑到上/下个查找的文件</div><div class="line"></div><div class="line">Ctrl + Alt + 空格 类名或接口名提示(最常用的,一般敲入字母都会提示,但是如果你不小心esc了,可以再按这个出来)</div></pre></td></tr></table></figure>
<h2 id="Ctrl-Shift"><a href="#Ctrl-Shift" class="headerlink" title="Ctrl+Shift"></a>Ctrl+Shift</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line">Ctrl + Shift + F 查找文件（通过某个词，指定要搜索的文件类型，目录（跟myeclipse中的ctrl+H功能一样））</div><div class="line"></div><div class="line">Ctrl + Shift + U // 大/小写都是这个快捷键</div><div class="line"></div><div class="line">Ctrl + Shift + V 粘贴最近复制过的一些信息</div><div class="line"></div><div class="line">Ctrl + Shift + Z ，取消撤销（恢复上一次操作）</div><div class="line"></div><div class="line">Ctrl + Shift + T     如果在常规类下按它，弹出已写好的，可选择的对应Test类，如果在该Test类下按它，则直接回到源类。</div><div class="line"></div><div class="line">Ctrl + Shift + C 复制当前文件磁盘路径到剪贴板</div><div class="line"></div><div class="line">Ctrl + Shift + J 自动将下一行合并到当前行末尾</div><div class="line"></div><div class="line">Ctrl + Shift + E 最近更改的文件</div><div class="line"></div><div class="line">Ctrl + Shift + I  在方法名或是类名下(或是代码补充提示的时候也可以按，也可以在图片地址上按)，按此快捷键显示该方法或是类的源码结构，无需点击进去查看源码（当然了，必须是你已经导入源码的情况下才看得到） 类似Ctrl+Q</div><div class="line"></div><div class="line">Ctrl + Shift + R 搜索指定范围文件，替换文字</div><div class="line"></div><div class="line">Ctrl + Shift + N 通过输入文件名（可以输入部分名称，支持模糊）来定位文件</div><div class="line"></div><div class="line">Ctrl + Shift + F12 编辑器全屏</div><div class="line"></div><div class="line">Ctrl + Shift + F7 高亮显示所有该选中文本，按Esc高亮消失。(也可以在throws或是try..catch上面按此快捷键，比如在一个方法的throws单词上按这个快捷键，则会把哪些内部方法会抛异常的都显出来)</div><div class="line"></div><div class="line">Ctrl + Shift + Del 删除环绕的标签</div><div class="line"></div><div class="line">Ctrl + Shift + 1，2，3… 快速添加书签</div><div class="line"></div><div class="line">Ctrl + Shift + Space 自动补全代码（智能提示）</div><div class="line"></div><div class="line">Ctrl + Shift + Enter 行末自动添加 ; 结束代码 ，如果是输入if，按这个快捷键会自动帮你补充()&#123;&#125;</div><div class="line"></div><div class="line">Ctrl + Shift + Enter 自动给末尾加;完成代码</div><div class="line"></div><div class="line">Ctrl + Shift + Up 或 Down 移动光标所在statement域移动到上面/下面(13版本会自动格式化)(如果光标放在方法名上 ， 是互换方法位置,如果是打开tool界面，且是竖直方向布局，则根据方向调整窗口大小)</div><div class="line"></div><div class="line">Ctrl + Shift + Left 或 Right 打开tool界面，如果是横向布局，则根据左右方向调整窗口大小)</div><div class="line"></div><div class="line">Ctrl + Shift + [ 或 ] 选中从光标所在位置到它的父级区域(界面上层导航可能更开)</div><div class="line"></div><div class="line">Ctrl + Shift + 小键盘 + 或 – 折叠/展开所有代码</div><div class="line"></div><div class="line">Ctrl + Shift + 空格 代码补全功能(最常用的,一般敲入字母都会提示,但是如果你不小心esc了,可以再按这个出来)</div><div class="line"></div><div class="line">Ctrl + Shift + 方向左 或 右 选中临边左/右的单词或是符号</div><div class="line"></div><div class="line">Ctrl + Shift + Backspace(退格)  回到上次修改的地方(跟Ctrl+Alt+左右方向键不一样的地方是，只回退到修改的地方，而不是过去光标放的地方)</div></pre></td></tr></table></figure>
<h2 id="Alt-Shift"><a href="#Alt-Shift" class="headerlink" title="Alt+Shift"></a>Alt+Shift</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">Alt + Shift + N 添加任务</div><div class="line"></div><div class="line">Alt + Shirt + F 添加到收藏夹</div><div class="line"></div><div class="line">Alt + Shift + C 查看最近操作项目的变化情况列表(在版本控制下，显示比较缓慢)</div><div class="line"></div><div class="line">Alt + Shift + F10  弹出run菜单，提供选择性run哪个(这个需要自己尝试下，按后会有弹出框，记得查看)</div><div class="line"></div><div class="line">Alt + Shift + F9  弹出debug运行菜单，提供选择性debug哪个(这个需要自己尝试下，按后会有弹出框，记得查看)</div><div class="line"></div><div class="line">Alt + Shift + 方向键 上 或 方向键 下 移动光标所在行到上/下</div></pre></td></tr></table></figure>
<h2 id="Ctrl-Shift-Alt"><a href="#Ctrl-Shift-Alt" class="headerlink" title="Ctrl+Shift+Alt"></a>Ctrl+Shift+Alt</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Ctrl + Shift + Alt + V    简单黏贴</div><div class="line"></div><div class="line">Ctrl + Shift + Alt + N    查找类中的方法或变量</div><div class="line"></div><div class="line">Ctrl + Shift + Alt + C   复制参考信息，比如在某个方法名上按此快捷键，得到的内容是：org.jfree.data.general.DefaultPieDataset#setValue(java.lang.Comparable, double)里面有包名，类名，方法名，方法变量</div></pre></td></tr></table></figure>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">F11 添加书签</div><div class="line"></div><div class="line">F4  光标放在哪里(即使是一个路径的URL的一小部分都可以)跳到这个路径下的位置,从IntelliJ IDEA的左侧web窗口打开</div><div class="line"></div><div class="line">F2 或 Shift+F2 高亮错误或警告快速定位(在代码有报错的情况下)</div><div class="line"></div><div class="line">代码标签输入完成后，按Tab，生成代码。</div><div class="line"></div><div class="line">在Ctrl+F查找模式下，按F3下一个点</div><div class="line"></div><div class="line">在debug模式下，F8下一步，F9下一个断点</div><div class="line"></div><div class="line">更改下移的快捷  搜索down</div><div class="line"></div><div class="line">Ctrl+鼠标单击编辑窗口的文件标题,弹出该文件路径,可以通过这个打开文件所在地方</div><div class="line"></div><div class="line">按TAB+拖动代码标签，可以分开IntelliJ IDEA成多个</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Ctrl&quot;&gt;&lt;a href=&quot;#Ctrl&quot; class=&quot;headerlink&quot; title=&quot;Ctrl&quot;&gt;&lt;/a&gt;Ctrl&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;66&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;67&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;68&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;69&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + Y 删除行&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;ctrl + X 剪切行&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + N 查找类&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + R 替换&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + O 选择可覆盖/继承的方法&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + F 当前代码中查找&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + J 自动代码提示（提示的是自己定义的代码格式）&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + D 复制行或是块(默认是这个意思)(但是我一般习惯改成专门复制行,不包括块,搜索Duplicate Lines)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + P 方法参数提示显示&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + W 选中光标所在的单词 ，连续按会有其他效果 (相反的是Ctrl+Shift+W)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + Q 鼠标放在变量/类名/方法名等上面（也可以在提示补充的时候按），显示文档内容，同类似的功能还有一个Ctrl + Shift + I&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + B 快速打开光标处的类或方法（对于前端支持很好,比如可以直接通过class的name定位到css的文件位置）(等同于ctrl+光标指向)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + E 最近打开的文件&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + U 前往父类的方法/父类&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + K VCS提交项目&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + T VCS更新项目&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + G 跳到指定行&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + H 显示类层次图&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + F1 显示错误&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + F3 调转到所选中的词的下一个同名位置&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + F9 编译&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl – F12 当前编辑的文件中快速导航(可以直接键入字母，IntelliJ IDEA会筛选你输入的来匹配对应是否有的方法，来快速定位)(类似结构图)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + F11 弹出一个小框来指定式添加书签(可以对文件或文件夹起作用)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + Tab 编辑窗口切换 (如果在切换的过程又加按上delete,则是关闭对应选中的窗口)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + delete 删除光标后面的单词&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + home/end 跳到文件头文件尾&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + BackSpace 删除光标前面的单词&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + [ 或 ] 移动光标到块的初/末括号地方&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + / 或 Ctrl+Shift+/ 注释（// 或者/*…*/ ）&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + 1，2，3，4…. 快速定位到书签代码处(必须先Ctrl+Shift+1,2,3,4…添加书签)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + 空格 代码补全提示(因为windows默认被输入法给占用了,可以自己更改下)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + 小键盘+/- 折叠/展开代码&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + 鼠标单击编辑窗口的文件标题	弹出该文件路径,可以通过这个打开文件所在地方(相当于Ctrl+alt+F12)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + 方向左/右 光标跳到上/下个单词&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Ctrl + 方向上/下 相当于你用鼠标滑滚轮(为了方便鼠标党)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="technology" scheme="http://www.itechq.com/categories/technology/"/>
    
    
      <category term="IntelliJ IDEA" scheme="http://www.itechq.com/tags/IntelliJ-IDEA/"/>
    
  </entry>
  
  <entry>
    <title>七牛云存储同步工具——为Markdown写作诞生</title>
    <link href="http://www.itechq.com/blog/program/user-define-qiniu-sync-for-markdown.html"/>
    <id>http://www.itechq.com/blog/program/user-define-qiniu-sync-for-markdown.html</id>
    <published>2016-06-09T04:34:11.000Z</published>
    <updated>2016-11-19T01:56:34.003Z</updated>
    
    <content type="html"><![CDATA[<h1 id="缘起"><a href="#缘起" class="headerlink" title="缘起"></a>缘起</h1><p>三年前买下<a href="http://www.itechq.com/"><code>www.itechq.com</code></a>这个域名，一直想折腾个自己的博客。由于种种原因，一直没有去折腾。随着国家的长城防火墙越来越厉害，免费翻墙变得越来越困难，从GoAgent到XX-Net，稳定性越来越差。今年年初，实在受不了了，就买了个搬瓦工的VPS（10G SSD，512M内存，一年19刀），自己搭建了一个<code>Shadowsocks Server</code>，每月1000G流量，手机、笔记本都通过它翻墙，目前还比较稳定（不要问我为啥不直接买个收费VPN，因为程序猿爱折腾）。VPN搞定后，发现VPS系统资源利用率很少，此时，又激发了自己的博客梦，从而走上了Wordpress、Hexo的折腾之路……</p>
<h1 id="为何开发"><a href="#为何开发" class="headerlink" title="为何开发"></a>为何开发</h1><p>刚开始博客空间是用WP搭建，花了差不多两周时间配置、修改主题代码，后来因为WP对Markdown支持太弱了，而且相对来说比较重，选择放弃，最后选择Hexo纯静态博客空间，托管到Github、Coding。之所以选择七牛作为存储，是因为在配置WP插件时用到<code>wpjam-qiniu</code>插件，可以将网站上的js、css、image等资源自动同步到七牛云，而Hexo没有此类插件。</p>
<p>后来在七牛官网看到官方同步工具<a href="http://developer.qiniu.com/code/v6/tool/qrsbox.html" target="_blank" rel="external">qrsbox</a>，虽然该工具能够同步image到七牛云，但是和自己想想的还是有一定差距，如：图片命名、存储目录、外链地址拷贝都比较麻烦。此时在简书上看到一篇文章<strong><a href="http://www.jianshu.com/p/6dce6094bf61" target="_blank" rel="external">如何使用七牛云做为图床？</a></strong>，看完后还是觉得步骤较为复杂，没有达到自己想要的效果，但它却触发了自己写个小工具的想法，于是开始构思工具包括哪些功能，最后确定如下功能：</p>
<ul>
<li>支持从剪切板获取图像上传；<strong>灵感来自 <a href="https://www.zybuluo.com/mdeditor" target="_blank" rel="external">作业部落 CMD Markdown</a>图片上传效果（一款很棒的Markdown编辑工具）</strong></li>
<li>支持本地图像上传；</li>
<li>支持从网络下载图像并上传；</li>
<li>图像上传后自动生成Markdown格式的图片引用标签；</li>
<li>支持删除已上传的图像；</li>
<li>支持系统托盘，类似QQ之类软件一样，双击打开。</li>
</ul>
<a id="more"></a>
<h1 id="开始编码"><a href="#开始编码" class="headerlink" title="开始编码"></a>开始编码</h1><p>由于博主目前对Java语言最熟，所以技术上只能选择Java，后续准备学习Python，开发一个Python版本的。</p>
<h2 id="七牛Java-SDK参考"><a href="#七牛Java-SDK参考" class="headerlink" title="七牛Java SDK参考"></a>七牛Java SDK参考</h2><p>参考官方文档，<a href="http://developer.qiniu.com/code/v7/sdk/java.html" target="_blank" rel="external">链接地址</a></p>
<h2 id="七牛同步代码"><a href="#七牛同步代码" class="headerlink" title="七牛同步代码"></a>七牛同步代码</h2><blockquote>
<p>主要实现七牛云图片上传、删除功能！</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QiNiuSync</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> Logger logger = LoggerFactory.getLogger(<span class="keyword">this</span>.getClass());</div><div class="line"></div><div class="line">    <span class="comment">// 外链地址</span></div><div class="line">    <span class="keyword">private</span> String outerLinkAddr = <span class="keyword">null</span>;</div><div class="line">    <span class="comment">// 授权信息</span></div><div class="line">    <span class="keyword">private</span> String ACCESS_KEY = <span class="keyword">null</span>;</div><div class="line">    <span class="keyword">private</span> String SECRET_KEY = <span class="keyword">null</span>;</div><div class="line">    <span class="comment">//要上传的空间</span></div><div class="line">    <span class="keyword">private</span> String bucketName = <span class="keyword">null</span>;</div><div class="line"></div><div class="line">    <span class="comment">//密钥配置</span></div><div class="line">    <span class="keyword">private</span> Auth auth = <span class="keyword">null</span>;</div><div class="line"></div><div class="line">    <span class="comment">//创建上传对象</span></div><div class="line">    <span class="keyword">private</span> UploadManager uploadManager;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">QiNiuSync</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (outerLinkAddr == <span class="keyword">null</span>) &#123;</div><div class="line">            outerLinkAddr = ConfigUtil.getPropertie(<span class="string">"OuterLinkAddr"</span>);</div><div class="line">        &#125;</div><div class="line">        logger.info(<span class="string">"OuterLinkAddr = "</span> + outerLinkAddr);</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (ACCESS_KEY == <span class="keyword">null</span>) &#123;</div><div class="line">            ACCESS_KEY = ConfigUtil.getPropertie(<span class="string">"AccessKey"</span>);</div><div class="line">        &#125;</div><div class="line">        logger.info(<span class="string">"ACCESS_KEY = "</span> + ACCESS_KEY);</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (SECRET_KEY == <span class="keyword">null</span>) &#123;</div><div class="line">            SECRET_KEY = ConfigUtil.getPropertie(<span class="string">"SecretKey"</span>);</div><div class="line">        &#125;</div><div class="line">        logger.info(<span class="string">"SECRET_KEY = "</span> + SECRET_KEY);</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (bucketName == <span class="keyword">null</span>) &#123;</div><div class="line">            bucketName = ConfigUtil.getPropertie(<span class="string">"BucketName"</span>);</div><div class="line">        &#125;</div><div class="line">        logger.info(<span class="string">"BucketName = "</span> + bucketName);</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (auth == <span class="keyword">null</span>)&#123;</div><div class="line">            auth = Auth.create(ACCESS_KEY, SECRET_KEY);</div><div class="line">        &#125;</div><div class="line">        logger.info(<span class="string">"auth = "</span> + auth);</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (uploadManager == <span class="keyword">null</span>)&#123;</div><div class="line">            uploadManager = <span class="keyword">new</span> UploadManager();</div><div class="line">        &#125;</div><div class="line">        logger.info(<span class="string">"uploadManager = "</span> + uploadManager);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 简单上传，使用默认策略，只需要设置上传的空间名就可以了</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUpToken</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> auth.uploadToken(bucketName);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 图片上传</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> filePath 图片本地地址</div><div class="line">     * <span class="doctag">@param</span> fileName 七牛Key</div><div class="line">     * <span class="doctag">@return</span> 上传成功返回图片外链地址，上传失败返回null</div><div class="line">     * <span class="doctag">@throws</span> IOException</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">upload</span><span class="params">(String filePath, String fileName)</span> </span>&#123;</div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">            <span class="comment">//调用put方法上传</span></div><div class="line">            Response res = uploadManager.put(filePath, fileName, getUpToken());</div><div class="line">            <span class="comment">//打印返回的信息</span></div><div class="line">            logger.info(<span class="string">"upload() Response : "</span> + res.bodyString());</div><div class="line"></div><div class="line">            String outerLink = outerLinkAddr + fileName;</div><div class="line">            logger.info(<span class="string">"outerLink :"</span> + outerLink);</div><div class="line">            <span class="keyword">return</span> outerLink;</div><div class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</div><div class="line">            logger.error(<span class="string">"upload() Exception : "</span>, e);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 图片删除</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> qiniuKey 七牛key</div><div class="line">     * <span class="doctag">@return</span> 删除成功返回true，删除失败返回false</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">delete</span><span class="params">(String qiniuKey)</span> </span>&#123;</div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">            BucketManager bucketManager = <span class="keyword">new</span> BucketManager(auth);</div><div class="line">            <span class="comment">//调用delete方法移动文件</span></div><div class="line">            bucketManager.delete(bucketName, qiniuKey);</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</div><div class="line">            logger.error(<span class="string">"delete() Exception : "</span>, e);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="剪切板代码"><a href="#剪切板代码" class="headerlink" title="剪切板代码"></a>剪切板代码</h2><blockquote>
<p>主要实现设置图片、文本信息到剪切板，从剪切板获取图片、文本信息！部分代码摘自网络。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OperateClipboard</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> Logger logger = LoggerFactory.getLogger(<span class="keyword">this</span>.getClass());</div><div class="line"></div><div class="line">    DateFormat dateFormat = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyyMMdd"</span>);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 设置系统剪切板，内容为图片</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> image 图片</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setImageClipboard</span><span class="params">(Image image)</span> </span>&#123;</div><div class="line">        ImageSelection imgSel = <span class="keyword">new</span> ImageSelection(image);</div><div class="line">        Toolkit.getDefaultToolkit().getSystemClipboard().setContents(imgSel, <span class="keyword">null</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 获取剪贴板图像，并返回图像绝对路径</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> rootPath 存储图像根目录</div><div class="line">     * <span class="doctag">@return</span> 获取成功返回图片路径；获取失败返回null</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getImageClipboard</span><span class="params">(String rootPath)</span> </span>&#123;</div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">            <span class="comment">//create qiniu objecte</span></div><div class="line">            Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();</div><div class="line">            <span class="comment">//Get data from qiniu and assign it to an image.</span></div><div class="line">            <span class="comment">//qiniu.getData() returns an object, so we need to cast it to a BufferdImage.</span></div><div class="line">            BufferedImage image = (BufferedImage) clipboard.getData(DataFlavor.imageFlavor);</div><div class="line">            <span class="comment">//process file name</span></div><div class="line">            DESEncrypts desEncrypts = <span class="keyword">new</span> DESEncrypts();</div><div class="line">            String filePath = desEncrypts.encrypt(dateFormat.format(<span class="keyword">new</span> Date()));</div><div class="line">            String fileName = UUIDUtil.generateUUID() + <span class="string">".png"</span>;</div><div class="line">            String rootFilePath = rootPath + filePath;</div><div class="line">            File rootFile = <span class="keyword">new</span> File(rootFilePath);</div><div class="line">            <span class="keyword">if</span> (!rootFile.exists()) &#123;</div><div class="line">                rootFile.mkdirs();</div><div class="line">            &#125;</div><div class="line">            String imageFileName = rootFilePath + File.separator + fileName;</div><div class="line">            <span class="comment">//file that we'll save to disk.</span></div><div class="line">            File file = <span class="keyword">new</span> File(imageFileName);</div><div class="line"></div><div class="line">            <span class="comment">//class to write image to disk.  You specify the image to be saved, its type,</span></div><div class="line">            <span class="comment">// and then the file in which to write the image data.</span></div><div class="line">            ImageIO.write(image, <span class="string">"png"</span>, file);</div><div class="line">            logger.info(<span class="string">"image capture success:"</span> + imageFileName);</div><div class="line">            <span class="keyword">return</span> imageFileName;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//getData throws this.</span></div><div class="line">        <span class="keyword">catch</span> (Exception e) &#123;</div><div class="line">            logger.error(<span class="string">"Exception:"</span>, e);</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 设置系统剪贴板，内容为文本</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> refContent 文本内容</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSystemClipboard</span><span class="params">(String refContent)</span> </span>&#123;</div><div class="line">        String vc = refContent.trim();</div><div class="line">        StringSelection ss = <span class="keyword">new</span> StringSelection(vc);</div><div class="line">        Toolkit.getDefaultToolkit().getSystemClipboard().setContents(ss, <span class="keyword">null</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 获取系统剪切板的文本内容[如果系统剪切板复制的内容是文本]</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span> 获取成功返回剪切板内容，获取失败返回null</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSystemClipboard</span><span class="params">()</span> </span>&#123;</div><div class="line">        Clipboard sysClb = <span class="keyword">null</span>;</div><div class="line">        sysClb = Toolkit.getDefaultToolkit().getSystemClipboard();</div><div class="line">        Transferable t = sysClb.getContents(<span class="keyword">null</span>);</div><div class="line">        <span class="comment">//Transferable t = Toolkit.getDefaultToolkit().getSystemClipboard().getContents(null);  //跟上面三行代码一样</span></div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">            <span class="keyword">if</span> (<span class="keyword">null</span> != t &amp;&amp; t.isDataFlavorSupported(DataFlavor.stringFlavor)) &#123;</div><div class="line">                String text = (String) t.getTransferData(DataFlavor.stringFlavor);</div><div class="line">                <span class="keyword">return</span> text;</div><div class="line">            &#125;</div><div class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</div><div class="line">            logger.error(<span class="string">"Exception:"</span>, e);</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="成品"><a href="#成品" class="headerlink" title="成品"></a>成品</h1><h2 id="工具操作面板"><a href="#工具操作面板" class="headerlink" title="工具操作面板"></a>工具操作面板</h2><p><img src="http://o7xt53rmp.bkt.clouddn.com/62b0aae6828e8513/de66d8d153db474e8fcc58db99e7e192.png" alt="62b0aae6828e8513/de66d8d153db474e8fcc58db99e7e192.png"></p>
<h2 id="快捷上传"><a href="#快捷上传" class="headerlink" title="快捷上传"></a>快捷上传</h2><p><img src="http://o7xt53rmp.bkt.clouddn.com/62b0aae6828e8513/dd31939b0b2a47419e3740975eda035a.png" alt="62b0aae6828e8513/dd31939b0b2a47419e3740975eda035a.png"></p>
<h2 id="七牛云存储截图"><a href="#七牛云存储截图" class="headerlink" title="七牛云存储截图"></a>七牛云存储截图</h2><p><img src="http://o7xt53rmp.bkt.clouddn.com/62b0aae6828e8513/fd16d7880bb040d9b69f1810fbc33bbd.png" alt="62b0aae6828e8513/fd16d7880bb040d9b69f1810fbc33bbd.png"></p>
<p><strong>搞定，主要功能操作面板上都有，基本上满足博主需求~~</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;缘起&quot;&gt;&lt;a href=&quot;#缘起&quot; class=&quot;headerlink&quot; title=&quot;缘起&quot;&gt;&lt;/a&gt;缘起&lt;/h1&gt;&lt;p&gt;三年前买下&lt;a href=&quot;http://www.itechq.com/&quot;&gt;&lt;code&gt;www.itechq.com&lt;/code&gt;&lt;/a&gt;这个域名，一直想折腾个自己的博客。由于种种原因，一直没有去折腾。随着国家的长城防火墙越来越厉害，免费翻墙变得越来越困难，从GoAgent到XX-Net，稳定性越来越差。今年年初，实在受不了了，就买了个搬瓦工的VPS（10G SSD，512M内存，一年19刀），自己搭建了一个&lt;code&gt;Shadowsocks Server&lt;/code&gt;，每月1000G流量，手机、笔记本都通过它翻墙，目前还比较稳定（不要问我为啥不直接买个收费VPN，因为程序猿爱折腾）。VPN搞定后，发现VPS系统资源利用率很少，此时，又激发了自己的博客梦，从而走上了Wordpress、Hexo的折腾之路……&lt;/p&gt;
&lt;h1 id=&quot;为何开发&quot;&gt;&lt;a href=&quot;#为何开发&quot; class=&quot;headerlink&quot; title=&quot;为何开发&quot;&gt;&lt;/a&gt;为何开发&lt;/h1&gt;&lt;p&gt;刚开始博客空间是用WP搭建，花了差不多两周时间配置、修改主题代码，后来因为WP对Markdown支持太弱了，而且相对来说比较重，选择放弃，最后选择Hexo纯静态博客空间，托管到Github、Coding。之所以选择七牛作为存储，是因为在配置WP插件时用到&lt;code&gt;wpjam-qiniu&lt;/code&gt;插件，可以将网站上的js、css、image等资源自动同步到七牛云，而Hexo没有此类插件。&lt;/p&gt;
&lt;p&gt;后来在七牛官网看到官方同步工具&lt;a href=&quot;http://developer.qiniu.com/code/v6/tool/qrsbox.html&quot;&gt;qrsbox&lt;/a&gt;，虽然该工具能够同步image到七牛云，但是和自己想想的还是有一定差距，如：图片命名、存储目录、外链地址拷贝都比较麻烦。此时在简书上看到一篇文章&lt;strong&gt;&lt;a href=&quot;http://www.jianshu.com/p/6dce6094bf61&quot;&gt;如何使用七牛云做为图床？&lt;/a&gt;&lt;/strong&gt;，看完后还是觉得步骤较为复杂，没有达到自己想要的效果，但它却触发了自己写个小工具的想法，于是开始构思工具包括哪些功能，最后确定如下功能：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;支持从剪切板获取图像上传；&lt;strong&gt;灵感来自 &lt;a href=&quot;https://www.zybuluo.com/mdeditor&quot;&gt;作业部落 CMD Markdown&lt;/a&gt;图片上传效果（一款很棒的Markdown编辑工具）&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;支持本地图像上传；&lt;/li&gt;
&lt;li&gt;支持从网络下载图像并上传；&lt;/li&gt;
&lt;li&gt;图像上传后自动生成Markdown格式的图片引用标签；&lt;/li&gt;
&lt;li&gt;支持删除已上传的图像；&lt;/li&gt;
&lt;li&gt;支持系统托盘，类似QQ之类软件一样，双击打开。&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="program" scheme="http://www.itechq.com/categories/program/"/>
    
    
      <category term="七牛云存储" scheme="http://www.itechq.com/tags/%E4%B8%83%E7%89%9B%E4%BA%91%E5%AD%98%E5%82%A8/"/>
    
      <category term="Markdown" scheme="http://www.itechq.com/tags/Markdown/"/>
    
  </entry>
  
  <entry>
    <title>小米2S刷安卓原生系统</title>
    <link href="http://www.itechq.com/blog/notes/xiaomi-flash-google-rom.html"/>
    <id>http://www.itechq.com/blog/notes/xiaomi-flash-google-rom.html</id>
    <published>2016-05-29T02:15:45.000Z</published>
    <updated>2016-11-19T01:56:34.003Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>为了折腾一个游戏，把原来那台小米2S重新翻出来折腾，发现升到MIUI7后，那手机一个卡啊，真是醉了。作为一个喜欢折腾程序猿，立马就想到是不是可以刷个安卓原生系统，于是Google（不要问我为啥用Google，大家都懂的！！）一把，对比了几个原生系统，最后选择了<a href="http://www.miui.com/space-uid-426143.html" target="_blank" rel="external">秋叶随风</a>大神提供的刷机包。</p>
</blockquote>
<p><strong>说明：本文只是记录自己刷机过程及刷机中遇到的问题，对于基本操作步骤，本文不做详细描述。</strong><br><a id="more"></a></p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a href="http://www.miui.com/thread-2531068-1-1.html" target="_blank" rel="external">秋大ROM</a></li>
<li><a href="http://www.miui.com/thread-2532152-1-1.html" target="_blank" rel="external">刷机贴</a></li>
<li><a href="http://www.miui.com/thread-2510586-1-1.html" target="_blank" rel="external">合并分区贴</a></li>
</ul>
<h2 id="下载软件"><a href="#下载软件" class="headerlink" title="下载软件"></a>下载软件</h2><blockquote>
<p>可自行Google，刷机ROM秋大帖子中有，也可从如下地址下载：</p>
</blockquote>
<ul>
<li>刷机ROM，链接：<a href="http://pan.baidu.com/s/1kVhJ5Uf" target="_blank" rel="external"><code>http://pan.baidu.com/s/1kVhJ5Uf</code></a> 密码：<code>xq3t</code></li>
<li>ROM补丁包（解决刷机后打不开WIFI，无信号问题），链接：<a href="http://pan.baidu.com/s/1o8OqNTg" target="_blank" rel="external"><code>http://pan.baidu.com/s/1o8OqNTg</code></a> 密码：<code>n0je</code></li>
<li>Recovery工具，链接：<a href="http://pan.baidu.com/s/1qY06jIs" target="_blank" rel="external"><code>http://pan.baidu.com/s/1qY06jIs</code></a> 密码：<code>qmy4</code></li>
<li>谷歌服务包，链接：<a href="http://pan.baidu.com/s/1mifFBs8" target="_blank" rel="external"><code>http://pan.baidu.com/s/1mifFBs8</code></a> 密码：<code>5axo</code></li>
</ul>
<h2 id="刷机步骤"><a href="#刷机步骤" class="headerlink" title="刷机步骤"></a>刷机步骤</h2><h3 id="合并分区"><a href="#合并分区" class="headerlink" title="合并分区"></a>合并分区</h3><blockquote>
<p>网上一大把，<a href="http://www.miui.com/thread-2510586-1-1.html" target="_blank" rel="external">参考贴</a></p>
</blockquote>
<h3 id="刷原生系统"><a href="#刷原生系统" class="headerlink" title="刷原生系统"></a>刷原生系统</h3><p><strong><font color="red">友情提示：请将<code>刷机ROM</code>和<code>谷歌服务包</code>一起拷贝到手机！</font></strong></p>
<blockquote>
<p>网上也是一大把，<a href="http://www.miui.com/thread-2532152-1-1.html" target="_blank" rel="external">参考贴</a></p>
</blockquote>
<h3 id="打补丁-解决没有基带问题"><a href="#打补丁-解决没有基带问题" class="headerlink" title="打补丁(解决没有基带问题)"></a><font color="red">打补丁(解决没有基带问题)</font></h3><blockquote>
<p>相信大家上面两步很顺利完成了，都迫不及待进入系统，那速度的确是快啊，赶紧联网下载点APP吧，这时候发现WIFI始终打不开。博主也被这问题折腾了好久，以为是刷机步骤问题，重刷了两次还是有问题，后来只好继续Google，发现有个帖子说ROM刷完后，基带没有，需要打个补丁。</p>
</blockquote>
<ul>
<li>下载ROM补丁包，拷贝补丁包<code>boot.img</code>到<strong>Recovery工具</strong>目录</li>
<li>手机进入fastboot模式（不会再读一遍<code>刷原生系统</code>的帖子），并连接上电脑</li>
<li>刷入补丁包，博主<strong>Recovery工具</strong>在<code>‪C:\Users\Jason\Desktop\Recovery</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">1、打开命令行窗口：`开始`——`运行`——`输入cmd`——`回车`。</div><div class="line">2、进入刷机目录：cd ‪C:\Users\Jason\Desktop\Recovery（回车）</div><div class="line">3、刷入补丁包：fastboot flash boot boot.img（回车）</div><div class="line">4、等待提示ok之类字眼，重启进入手机</div></pre></td></tr></table></figure>
<p><strong> <font color="red">大功告成，欢迎留言！</font></strong></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;为了折腾一个游戏，把原来那台小米2S重新翻出来折腾，发现升到MIUI7后，那手机一个卡啊，真是醉了。作为一个喜欢折腾程序猿，立马就想到是不是可以刷个安卓原生系统，于是Google（不要问我为啥用Google，大家都懂的！！）一把，对比了几个原生系统，最后选择了&lt;a href=&quot;http://www.miui.com/space-uid-426143.html&quot;&gt;秋叶随风&lt;/a&gt;大神提供的刷机包。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;说明：本文只是记录自己刷机过程及刷机中遇到的问题，对于基本操作步骤，本文不做详细描述。&lt;/strong&gt;&lt;br&gt;
    
    </summary>
    
      <category term="notes" scheme="http://www.itechq.com/categories/notes/"/>
    
    
      <category term="小米2S" scheme="http://www.itechq.com/tags/%E5%B0%8F%E7%B1%B32S/"/>
    
      <category term="安卓原生" scheme="http://www.itechq.com/tags/%E5%AE%89%E5%8D%93%E5%8E%9F%E7%94%9F/"/>
    
  </entry>
  
  <entry>
    <title>Windows下ReviewBoard安装与配置</title>
    <link href="http://www.itechq.com/blog/technology/reviewboard-installing-on-windows.html"/>
    <id>http://www.itechq.com/blog/technology/reviewboard-installing-on-windows.html</id>
    <published>2016-05-28T06:46:58.000Z</published>
    <updated>2016-11-19T01:56:34.003Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安装准备"><a href="#安装准备" class="headerlink" title="安装准备"></a>安装准备</h2><p>安装文件清单</p>
<ul>
<li>Mysql 5.6 <a href="http://cdn.mysql.com/Downloads/MySQLInstaller/mysql-installer-community-5.6.26.0.msi" target="_blank" rel="external">下载链接</a></li>
<li>Apache 2.2 <a href="http://archive.apache.org/dist/httpd/" target="_blank" rel="external">下载链接</a></li>
<li>Python 2.7 <a href="https://www.python.org/ftp/python/2.7.10/python-2.7.10.msi" target="_blank" rel="external">下载链接</a></li>
<li>mod_python 3.3 <a href="http://archive.apache.org/dist/httpd/modpython/win/3.3.1/mod_python-3.3.1.win32-py2.5-Apache2.2.exe" target="_blank" rel="external">下载地址</a></li>
<li>py27-pysvn-svn <a href="http://pysvn.tigris.org/files/documents/1233/49404/py27-pysvn-svn1811-1.7.10-1584.exe" target="_blank" rel="external">下载地址</a> <a href="http://pysvn.tigris.org/servlets/ProjectDocumentList?folderID=1768" target="_blank" rel="external">参考链接</a></li>
<li>setuptools <a href="https://pypi.python.org/packages/2.7/s/setuptools/setuptools-0.6c11.win32-py2.7.exe#md5=57e1e64f6b7c7f1d2eddfc9746bbaf20" target="_blank" rel="external">下载地址</a> <a href="https://pypi.python.org/pypi/setuptools/0.6c11" target="_blank" rel="external">参考链接</a></li>
<li>patch-2.5.9.7-setup <a href="http://ncu.dl.sourceforge.net/project/gnuwin32/patch/2.5.9-7/patch-2.5.9-7-setup.exe" target="_blank" rel="external">下载地址</a> <a href="http://sourceforge.net/projects/gnuwin32/files/patch/2.5.9-7/" target="_blank" rel="external">参考链接</a></li>
<li>memcached <a href="http://s3.amazonaws.com/downloads.northscale.com/memcached-win64-1.4.4-14.zip" target="_blank" rel="external">下载地址</a></li>
<li>python-memcached <a href="ftp://ftp.tummy.com/pub/python-memcached/python-memcached-latest.tar.gz" target="_blank" rel="external">下载地址</a> <a href="http://www.tummy.com/software/python-memcached/" target="_blank" rel="external">参考地址</a></li>
<li>mysql-python <a href="https://pypi.python.org/packages/2.7/M/MySQL-python/MySQL-python-1.2.5.win32-py2.7.exe#md5=6f43f42516ea26e79cfb100af69a925e" target="_blank" rel="external">下载地址</a> <a href="https://pypi.python.org/pypi/MySQL-python/1.2.5" target="_blank" rel="external">参考链接</a></li>
<li>pycrypto-2.6.1 <a href="http://www.voidspace.org.uk/python/pycrypto-2.6.1/" target="_blank" rel="external">下载地址</a></li>
<li>mod_wsgi-win32-ap22py27-3.3.so <a href="https://code.google.com/p/modwsgi/downloads/detail?name=mod_wsgi-win32-ap22py27-3.3.so" target="_blank" rel="external">下载地址</a></li>
<li>RBTools <a href="https://downloads.reviewboard.org/releases/RBTools/0.7/RBTools-0.7.4.exe" target="_blank" rel="external">下载地址</a></li>
</ul>
<a id="more"></a>
<h2 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h2><h3 id="1-安装Mysql"><a href="#1-安装Mysql" class="headerlink" title="1. 安装Mysql"></a>1. 安装Mysql</h3><p>安装完成后，注意修改默认编码格式为UTF-8<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">show variables like &apos;character%&apos;;</div><div class="line"></div><div class="line">#显示如下信息</div><div class="line">+--------------------------+---------------------------------------------------------+</div><div class="line">| Variable_name            | Value                                                   |</div><div class="line">+--------------------------+---------------------------------------------------------+</div><div class="line">| character_set_client     | utf8                                                    |</div><div class="line">| character_set_connection | utf8                                                    |</div><div class="line">| character_set_database   | utf8                                                    |</div><div class="line">| character_set_filesystem | binary                                                  |</div><div class="line">| character_set_results    | utf8                                                    |</div><div class="line">| character_set_server     | utf8                                                    |</div><div class="line">| character_set_system     | utf8                                                    |</div><div class="line">| character_sets_dir       | C:\Program Files\MySQL\MySQL Server 5.6\share\charsets\ |</div><div class="line">+--------------------------+---------------------------------------------------------+</div></pre></td></tr></table></figure></p>
<h3 id="2-安装Apache"><a href="#2-安装Apache" class="headerlink" title="2. 安装Apache"></a>2. 安装Apache</h3><p>完成后确认在Windows服务中启动并且在浏览器中输入localhost检查是否启动正常。</p>
<h3 id="3-安装Python"><a href="#3-安装Python" class="headerlink" title="3. 安装Python"></a>3. 安装Python</h3><p>注意要把python27和python27/scripts目录放到环境变量中</p>
<h3 id="4-安装mod-python-3-3-1-win32-py2-7-exe"><a href="#4-安装mod-python-3-3-1-win32-py2-7-exe" class="headerlink" title="4. 安装mod_python-3.3.1.win32-py2.7.exe"></a>4. 安装mod_python-3.3.1.win32-py2.7.exe</h3><p>注意：安装mod_python的时候，需要停掉apache，安装后请检查apache的modules目录下是否有mod_python.so，如果没有请检查安装是否过程是否有问题</p>
<h3 id="5-安装py27-pysvn-svn1811-1-7-10-1584-exe"><a href="#5-安装py27-pysvn-svn1811-1-7-10-1584-exe" class="headerlink" title="5. 安装py27-pysvn-svn1811-1.7.10-1584.exe"></a>5. 安装py27-pysvn-svn1811-1.7.10-1584.exe</h3><h3 id="6-安装setuptools-0-6c11-win32-py2-7-exe"><a href="#6-安装setuptools-0-6c11-win32-py2-7-exe" class="headerlink" title="6. 安装setuptools-0.6c11.win32-py2.7.exe"></a>6. 安装setuptools-0.6c11.win32-py2.7.exe</h3><h3 id="7-安装patch-2-5-9-7-setup-exe"><a href="#7-安装patch-2-5-9-7-setup-exe" class="headerlink" title="7. 安装patch-2.5.9-7-setup.exe"></a>7. 安装patch-2.5.9-7-setup.exe</h3><h3 id="8-安装memcached"><a href="#8-安装memcached" class="headerlink" title="8. 安装memcached"></a>8. 安装memcached</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">#1.解压memcached-win64-1.4.4-14.zip到E:\Tools\memcached</div><div class="line"></div><div class="line">#2.进入E:\Tools\memcached</div><div class="line"></div><div class="line">#3.执行命令，安装memcached为系统服务</div><div class="line">memcached.exe -d install</div></pre></td></tr></table></figure>
<h3 id="9-安装python-memcached"><a href="#9-安装python-memcached" class="headerlink" title="9. 安装python-memcached"></a>9. 安装python-memcached</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">#1. 解压python-memcached-latest.tar.gz</div><div class="line"></div><div class="line">#2. 执行安装命令</div><div class="line">python setup.py install</div></pre></td></tr></table></figure>
<h3 id="10-安装MySQL-python-1-2-5-win32-py2-7-exe"><a href="#10-安装MySQL-python-1-2-5-win32-py2-7-exe" class="headerlink" title="10. 安装MySQL-python-1.2.5.win32-py2.7.exe"></a>10. 安装MySQL-python-1.2.5.win32-py2.7.exe</h3><h3 id="11-安装pycrypto-2-6-1-win32-py2-7-exe"><a href="#11-安装pycrypto-2-6-1-win32-py2-7-exe" class="headerlink" title="11. 安装pycrypto-2.6.1.win32-py2.7.exe"></a>11. 安装pycrypto-2.6.1.win32-py2.7.exe</h3><p>解决编译安装时出现以下错误:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Downloading https://pypi.python.org/packages/source/p/pycrypto/pycrypto-2.6.1.ta</div><div class="line">r.gz#md5=55a61a054aa66812daf5161a0d5d7eda</div><div class="line">Processing pycrypto-2.6.1.tar.gz</div><div class="line">Running pycrypto-2.6.1\setup.py -q bdist_egg --dist-dir c:\users\ch\appdata\loca</div><div class="line">l\temp\easy_install-sby0sc\pycrypto-2.6.1\egg-dist-tmp-wvzthp</div><div class="line">warning: GMP or MPIR library not found; Not building Crypto.PublicKey._fastmath.</div><div class="line"></div><div class="line">gcc: error: unrecognized command line option &apos;-mno-cygwin&apos;</div><div class="line">error: Setup script exited with error: command &apos;C:\\cygwin64\\bin\\gcc.exe&apos; fail</div><div class="line">ed with exit status 1</div></pre></td></tr></table></figure></p>
<h3 id="12-安装ReviewBoard"><a href="#12-安装ReviewBoard" class="headerlink" title="12. 安装ReviewBoard"></a>12. 安装ReviewBoard</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">#执行命令</div><div class="line">easy_install ReviewBoard</div><div class="line"></div><div class="line">#安装指定版本ReviewBoard</div><div class="line">easy_install &quot;ReviewBoard&lt;2.0&quot;</div></pre></td></tr></table></figure>
<h2 id="ReviewBoard配置"><a href="#ReviewBoard配置" class="headerlink" title="ReviewBoard配置"></a>ReviewBoard配置</h2><h3 id="1-创建数据库及用户名"><a href="#1-创建数据库及用户名" class="headerlink" title="1. 创建数据库及用户名"></a>1. 创建数据库及用户名</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">#创建数据库</div><div class="line">create database reviewboard character set utf8;</div><div class="line"></div><div class="line">#创建用户（下面会用到）</div><div class="line">create user &apos;reviewboard&apos;@&apos;localhost&apos; identified by &apos;reviewboard&apos;;</div><div class="line"></div><div class="line">#给用户授权</div><div class="line">grant all privileges on reviewboard.* to &apos;reviewboard&apos;@&apos;localhost&apos;;</div></pre></td></tr></table></figure>
<h3 id="2-创建站点"><a href="#2-创建站点" class="headerlink" title="2. 创建站点"></a>2. 创建站点</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># 执行命令</div><div class="line">rb-site install e:\tools\reviews</div><div class="line"></div><div class="line">#按要求填写相关要素即可</div></pre></td></tr></table></figure>
<h3 id="3-Apache配置"><a href="#3-Apache配置" class="headerlink" title="3. Apache配置"></a>3. Apache配置</h3><ul>
<li><p>add mod_python.so 到httpd.conf中<br><code>LoadModule python_module modules/mod_python.so</code></p>
</li>
<li><p>add mod_wsgi-win32-ap22py27-3.3.so 到httpd.conf中<br><code>LoadModule wsgi_module modules/mod_wsgi-win32-ap22py27-3.3.so</code></p>
</li>
<li><p>将e:\tools\reviews\conf\apache-wsgi.conf内容添加到 vhosts到httpd-vhosts.conf中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">&lt;VirtualHost *:84&gt;</div><div class="line">	ServerName reviews.com</div><div class="line">	DocumentRoot &quot;E:/Tools/reviews/htdocs&quot;</div><div class="line"></div><div class="line">	# Error handlers</div><div class="line">	ErrorDocument 500 /errordocs/500.html</div><div class="line"></div><div class="line">	WSGIPassAuthorization On</div><div class="line">	WSGIScriptAlias &quot;/&quot; &quot;E:/Tools/reviews/htdocs/reviewboard.wsgi/&quot;</div><div class="line"></div><div class="line">	&lt;Directory &quot;E:/Tools/reviews/htdocs&quot;&gt;</div><div class="line">		AllowOverride All</div><div class="line">		Options -Indexes +FollowSymLinks</div><div class="line">		Allow from all</div><div class="line">	&lt;/Directory&gt;</div><div class="line"></div><div class="line">	# Prevent the server from processing or allowing the rendering of</div><div class="line">	# certain file types.</div><div class="line">	&lt;Location &quot;/media/uploaded&quot;&gt;</div><div class="line">		SetHandler None</div><div class="line">		Options None</div><div class="line"></div><div class="line">		AddType text/plain .html .htm .shtml .php .php3 .php4 .php5 .phps .asp</div><div class="line">		AddType text/plain .pl .py .fcgi .cgi .phtml .phtm .pht .jsp .sh .rb</div><div class="line"></div><div class="line">		&lt;IfModule mod_php5.c&gt;</div><div class="line">			php_flag engine off</div><div class="line">		&lt;/IfModule&gt;</div><div class="line">	&lt;/Location&gt;</div><div class="line"></div><div class="line">	# Alias static media requests to filesystem</div><div class="line">	Alias /media &quot;E:/Tools/reviews/htdocs/media&quot;</div><div class="line">	Alias /static &quot;E:/Tools/reviews/htdocs/static&quot;</div><div class="line">	Alias /errordocs &quot;E:/Tools/reviews/htdocs/errordocs&quot;</div><div class="line">	Alias /favicon.ico &quot;E:/Tools/reviews/htdocs/static/rb/images/favicon.png&quot;</div><div class="line">&lt;/VirtualHost&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>修改E:\Tools\reviews\conf\settings_local.py</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># DEBUG模式改为False</div><div class="line">DEBUG = False      # 由True到False，这个我也做对了</div><div class="line"> </div><div class="line"># 添加可访问主机</div><div class="line">ALLOWED_HOSTS = [&apos;reviews.com&apos;,&apos;localhost&apos;,&apos;192.168.0.112&apos;]</div></pre></td></tr></table></figure>
</li>
<li><p>重启Apache服务器</p>
</li>
<li><p>访问ReviewBoard站点</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">客户端：http://[ip]:[port]</div><div class="line">管理端：http://[ip]:[port]/admin</div></pre></td></tr></table></figure></li>
</ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;安装准备&quot;&gt;&lt;a href=&quot;#安装准备&quot; class=&quot;headerlink&quot; title=&quot;安装准备&quot;&gt;&lt;/a&gt;安装准备&lt;/h2&gt;&lt;p&gt;安装文件清单&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Mysql 5.6 &lt;a href=&quot;http://cdn.mysql.com/Downloads/MySQLInstaller/mysql-installer-community-5.6.26.0.msi&quot;&gt;下载链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Apache 2.2 &lt;a href=&quot;http://archive.apache.org/dist/httpd/&quot;&gt;下载链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Python 2.7 &lt;a href=&quot;https://www.python.org/ftp/python/2.7.10/python-2.7.10.msi&quot;&gt;下载链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;mod_python 3.3 &lt;a href=&quot;http://archive.apache.org/dist/httpd/modpython/win/3.3.1/mod_python-3.3.1.win32-py2.5-Apache2.2.exe&quot;&gt;下载地址&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;py27-pysvn-svn &lt;a href=&quot;http://pysvn.tigris.org/files/documents/1233/49404/py27-pysvn-svn1811-1.7.10-1584.exe&quot;&gt;下载地址&lt;/a&gt; &lt;a href=&quot;http://pysvn.tigris.org/servlets/ProjectDocumentList?folderID=1768&quot;&gt;参考链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;setuptools &lt;a href=&quot;https://pypi.python.org/packages/2.7/s/setuptools/setuptools-0.6c11.win32-py2.7.exe#md5=57e1e64f6b7c7f1d2eddfc9746bbaf20&quot;&gt;下载地址&lt;/a&gt; &lt;a href=&quot;https://pypi.python.org/pypi/setuptools/0.6c11&quot;&gt;参考链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;patch-2.5.9.7-setup &lt;a href=&quot;http://ncu.dl.sourceforge.net/project/gnuwin32/patch/2.5.9-7/patch-2.5.9-7-setup.exe&quot;&gt;下载地址&lt;/a&gt; &lt;a href=&quot;http://sourceforge.net/projects/gnuwin32/files/patch/2.5.9-7/&quot;&gt;参考链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;memcached &lt;a href=&quot;http://s3.amazonaws.com/downloads.northscale.com/memcached-win64-1.4.4-14.zip&quot;&gt;下载地址&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;python-memcached &lt;a href=&quot;ftp://ftp.tummy.com/pub/python-memcached/python-memcached-latest.tar.gz&quot;&gt;下载地址&lt;/a&gt; &lt;a href=&quot;http://www.tummy.com/software/python-memcached/&quot;&gt;参考地址&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;mysql-python &lt;a href=&quot;https://pypi.python.org/packages/2.7/M/MySQL-python/MySQL-python-1.2.5.win32-py2.7.exe#md5=6f43f42516ea26e79cfb100af69a925e&quot;&gt;下载地址&lt;/a&gt; &lt;a href=&quot;https://pypi.python.org/pypi/MySQL-python/1.2.5&quot;&gt;参考链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;pycrypto-2.6.1 &lt;a href=&quot;http://www.voidspace.org.uk/python/pycrypto-2.6.1/&quot;&gt;下载地址&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;mod_wsgi-win32-ap22py27-3.3.so &lt;a href=&quot;https://code.google.com/p/modwsgi/downloads/detail?name=mod_wsgi-win32-ap22py27-3.3.so&quot;&gt;下载地址&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;RBTools &lt;a href=&quot;https://downloads.reviewboard.org/releases/RBTools/0.7/RBTools-0.7.4.exe&quot;&gt;下载地址&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="technology" scheme="http://www.itechq.com/categories/technology/"/>
    
    
      <category term="Windows" scheme="http://www.itechq.com/tags/Windows/"/>
    
      <category term="Reviewboard" scheme="http://www.itechq.com/tags/Reviewboard/"/>
    
  </entry>
  
</feed>
