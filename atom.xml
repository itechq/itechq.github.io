<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>小牧家园</title>
  <subtitle>墙外的世界</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.itechq.com/"/>
  <updated>2017-08-06T14:59:28.412Z</updated>
  <id>http://www.itechq.com/</id>
  
  <author>
    <name>Jason</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>通过hexo-deployer-rsync部署Hexo博客到VPS主机</title>
    <link href="http://www.itechq.com/blog/f79573e2.html"/>
    <id>http://www.itechq.com/blog/f79573e2.html</id>
    <published>2017-08-06T13:41:09.000Z</published>
    <updated>2017-08-06T14:59:28.412Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>原来Hexo博客托管在<a href="https://github.com/" target="_blank" rel="external">Github</a>和<a href="https://coding.net" target="_blank" rel="external">Coding</a>，后来买了一台VPS用于翻墙，想着直接将博客部署到VPS上面，查了官网部署方式，可通过<code>hexo-deployer-rsync</code>、<code>hexo-deployer-ftpsync</code>两种方式推送到VPS主机，尝试了FTP方式，不太稳定；今天通过linux的rsync方式从windows客户端平台部署到linux平台。</p>
</blockquote>
<h1 id="VPS主机安装rsync服务"><a href="#VPS主机安装rsync服务" class="headerlink" title="VPS主机安装rsync服务"></a>VPS主机安装rsync服务</h1><blockquote>
<p>我购买的VPS主机是Centos7 64位操作系统。</p>
</blockquote>
<a id="more"></a>
<h2 id="安装rsysnc及xinnetd"><a href="#安装rsysnc及xinnetd" class="headerlink" title="安装rsysnc及xinnetd"></a>安装rsysnc及xinnetd</h2><ul>
<li>执行以下命令：</li>
</ul>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">yum <span class="keyword">install</span> rsync</div><div class="line">yum  <span class="keyword">install</span> xinetd</div></pre></td></tr></table></figure>
<ul>
<li>检查是否安装成功</li>
</ul>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># rpm -qa|grep rsync</div><div class="line">rsync<span class="number">-3.0</span><span class="number">.9</span><span class="number">-17.</span>el7.x86_64</div><div class="line"># rpm -qa|grep xinetd</div><div class="line">xinetd<span class="number">-2.3</span><span class="number">.15</span><span class="number">-13.</span>el7.x86_64</div></pre></td></tr></table></figure>
<h2 id="修改-etc-xinetd-d-rsync配置文件"><a href="#修改-etc-xinetd-d-rsync配置文件" class="headerlink" title="修改/etc/xinetd.d/rsync配置文件"></a>修改<code>/etc/xinetd.d/rsync</code>配置文件</h2><blockquote>
<p>修改<code>/etc/xinetd.d/rsync</code>配置文件，若没有该文件，则新建一个，将<code>disable=yes</code>改成<code>disable=no</code>。</p>
</blockquote>
<figure class="highlight nix"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">service rsync</div><div class="line">&#123;</div><div class="line">    <span class="attr">disable</span> = no</div><div class="line">    <span class="attr">socket_type</span> = stream</div><div class="line">    <span class="attr">wait</span> = no</div><div class="line">    <span class="attr">user</span> = root</div><div class="line">    <span class="attr">server</span> = /usr/bin/rsync</div><div class="line">    <span class="attr">server_args</span> = --daemon</div><div class="line">    log_on_failure += USERID</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="修改-etc-rsyncd-conf配置文件"><a href="#修改-etc-rsyncd-conf配置文件" class="headerlink" title="修改/etc/rsyncd.conf配置文件"></a>修改<code>/etc/rsyncd.conf</code>配置文件</h2><blockquote>
<p>修改<code>/etc/rsyncd.conf</code>，主要包括账号密码文件路径、同步路径等内容，信息如下：</p>
</blockquote>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#****全局参数*****</span></div><div class="line"><span class="meta"># 服务监听端口，默认873，我改了好像没用，有知道原因的朋友可以告知一下</span></div><div class="line">port=<span class="number">873</span></div><div class="line"><span class="meta"># 运行RSYNC守护进程的用户</span></div><div class="line">uid=root</div><div class="line"><span class="meta"># 运行RSYNC守护进程的组</span></div><div class="line">gid=root</div><div class="line"><span class="meta"># 不使用chroot</span></div><div class="line">use chroot=no</div><div class="line"><span class="meta"># yes只读 值为NO意思为可读可写模式，数据恢复用NO</span></div><div class="line"><span class="meta"># read only=no</span></div><div class="line"><span class="meta"># 允许访问的IP，*表示所有IP都可以访问</span></div><div class="line">hosts allow=*</div><div class="line"><span class="meta"># 最大连接数为4</span></div><div class="line">max connextions=<span class="number">4</span></div><div class="line"></div><div class="line"><span class="meta">#*****模块参数*****</span></div><div class="line"><span class="meta"># 这里是认证的模块名，在client端需要指定</span></div><div class="line">[blog] </div><div class="line"><span class="meta"># 需要做镜像的目录,不可缺少</span></div><div class="line">path=/usr/local/nginx/site/xxx</div><div class="line"><span class="meta"># 这个模块的注释信息 </span></div><div class="line">comment=deploy blog</div><div class="line"><span class="meta"># 可以忽略一些无关的IO错误</span></div><div class="line">ignore errors</div><div class="line"><span class="meta"># yes只读 值为NO意思为可读可写模式，数据恢复用NO	</span></div><div class="line">read only=no</div><div class="line"><span class="meta"># 不允许列文件</span></div><div class="line">list=no</div><div class="line"><span class="meta"># 认证的用户名，如果没有这行则表明是匿名，此用户与系统无关</span></div><div class="line">auth users=root</div><div class="line"><span class="meta"># 密码文件位置，认证文件设置，设置用户名和密码</span></div><div class="line">secrets file=/etc/rsyncd.secrets</div></pre></td></tr></table></figure>
<h2 id="设置-etc-rsyncd-secrets认证文件"><a href="#设置-etc-rsyncd-secrets认证文件" class="headerlink" title="设置/etc/rsyncd.secrets认证文件"></a>设置<code>/etc/rsyncd.secrets</code>认证文件</h2><blockquote>
<p>在上边的配置文件中已经写好路径,<code>/etc/rsyncd.secrets</code>(名字随便写，只要和上边配置文件里的一致即可)，格式(一行一个用户)，该账号密码是linux中存在的</p>
</blockquote>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">root:</span>xxxx</div></pre></td></tr></table></figure>
<h2 id="配置文件授权"><a href="#配置文件授权" class="headerlink" title="配置文件授权"></a>配置文件授权</h2><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">chown</span> root.root /etc/<span class="regexp">rsyncd.*</span></div><div class="line">chmod <span class="number">600</span> /etc/<span class="regexp">rsyncd.*</span></div></pre></td></tr></table></figure>
<h2 id="重启xinetd服务"><a href="#重启xinetd服务" class="headerlink" title="重启xinetd服务"></a>重启<code>xinetd</code>服务</h2><ul>
<li>重启服务</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">systemctl</span> <span class="selector-tag">restart</span>  <span class="selector-tag">xinetd</span><span class="selector-class">.service</span></div></pre></td></tr></table></figure>
<ul>
<li>检查是否启动成功</li>
</ul>
<figure class="highlight tap"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># netstat -an | grep 873</span></div><div class="line">tcp6      <span class="number"> 0 </span>    <span class="number"> 0 </span>:::873                  :::*                    LISTEN</div></pre></td></tr></table></figure>
<h1 id="Windows客户端安装cwRsync客户端及配置"><a href="#Windows客户端安装cwRsync客户端及配置" class="headerlink" title="Windows客户端安装cwRsync客户端及配置"></a>Windows客户端安装cwRsync客户端及配置</h1><p>下载<code>cwRsync</code>客户端安装程序，链接：<a href="http://pan.baidu.com/s/1o8UJPJO" target="_blank" rel="external">http://pan.baidu.com/s/1o8UJPJO</a> 密码：<code>oahu</code>。</p>
<h2 id="安装cwRsync-4-1-0安装程序"><a href="#安装cwRsync-4-1-0安装程序" class="headerlink" title="安装cwRsync_4.1.0安装程序"></a>安装<code>cwRsync_4.1.0</code>安装程序</h2><ul>
<li><p>拷贝压缩包<code>cwrsync.cmd</code>脚本并覆盖安装程序目录下的<code>cwrsync.cmd</code></p>
</li>
<li><p>将<code>[cwRsync_HOME]/bin</code>加入<code>path</code>变量</p>
</li>
<li><p>执行<code>cwrsync.cmd</code>,检查是否在[cwRsync_HOME]下创建<code>home/[user]/</code>目录。[注意：必须执行，否则通过ssh-keygen.exe生成秘钥文件时会提示目录创建失败]</p>
</li>
</ul>
<h2 id="通过cwRsync下的ssh-keygen-exe生成秘钥文件"><a href="#通过cwRsync下的ssh-keygen-exe生成秘钥文件" class="headerlink" title="通过cwRsync下的ssh-keygen.exe生成秘钥文件"></a>通过<code>cwRsync</code>下的<code>ssh-keygen.exe</code>生成秘钥文件</h2><p>CMD进入<code>[cwRsync_HOME]/bin</code>，执行如下命令：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh-keygen<span class="selector-class">.exe</span> -t rsa</div></pre></td></tr></table></figure>
<p>一直回车直到完成命令，会在<code>[cwRsync_HOME]/home/[user]/.ssh</code>目录下生成<code>id_rsa</code>、<code>id_rsa.pub</code>文件。</p>
<h2 id="给id-rsa文件授权"><a href="#给id-rsa文件授权" class="headerlink" title="给id_rsa文件授权"></a>给<code>id_rsa</code>文件授权</h2><blockquote>
<p>进入<code>[cwRsync_HOME]/home/[user]/.ssh</code>目录，给<code>id_rsa</code>授权：</p>
</blockquote>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">chmod <span class="number">600</span> id_rsa</div></pre></td></tr></table></figure>
<p>若不授权，则在登录时，会出现如下错误：</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/aa24e6a7975c40f0/49b8264667d74bc5bdb1d1b6c1385de9.png" alt="aa24e6a7975c40f0/49b8264667d74bc5bdb1d1b6c1385de9.png"></p>
<h2 id="添加公钥到VPS主机"><a href="#添加公钥到VPS主机" class="headerlink" title="添加公钥到VPS主机"></a>添加公钥到VPS主机</h2><blockquote>
<p>登录到VPS主机，进入目录 ~/.ssh/ ，将公钥<code>id_rsa.pub</code>拷贝至该目录，并执行如下命令：</p>
</blockquote>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cat id_rsa.pub <span class="meta">&gt;&gt; </span>authorized_keys</div><div class="line">chmod <span class="number">700</span> authorized_keys</div></pre></td></tr></table></figure>
<h2 id="测试是否配置成功"><a href="#测试是否配置成功" class="headerlink" title="测试是否配置成功"></a>测试是否配置成功</h2><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># ip 为VPS主机地址</span></div><div class="line"><span class="attribute">ssh</span> root<span class="variable">@ip</span></div></pre></td></tr></table></figure>
<p>首次登录时，需要输入<code>root</code>用户密码，完成登录后，会在<code>[cwRsync_HOME]/home/[user]/.ssh</code>目录下生成<code>known_hosts</code>文件。</p>
<h1 id="配置Hexo发布方式"><a href="#配置Hexo发布方式" class="headerlink" title="配置Hexo发布方式"></a>配置Hexo发布方式</h1><h2 id="安装hexo-deployer-rsync"><a href="#安装hexo-deployer-rsync" class="headerlink" title="安装hexo-deployer-rsync"></a>安装<code>hexo-deployer-rsync</code></h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm <span class="keyword">install</span> hexo-deployer-rsync <span class="comment">--save</span></div></pre></td></tr></table></figure>
<h2 id="修改-config-yml配置，参考"><a href="#修改-config-yml配置，参考" class="headerlink" title="修改_config.yml配置，参考"></a>修改<code>_config.yml</code>配置，<a href="https://hexo.io/zh-cn/docs/deployment.html" target="_blank" rel="external">参考</a></h2><figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">deploy:</span></div><div class="line"><span class="symbol">  type:</span> rsync</div><div class="line"><span class="symbol">  host:</span> <span class="params">&lt;host&gt;</span></div><div class="line"><span class="symbol">  user:</span> <span class="params">&lt;user&gt;</span></div><div class="line"><span class="symbol">  root:</span> <span class="params">&lt;root&gt;</span></div><div class="line"><span class="symbol">  port:</span> [port]</div><div class="line"><span class="symbol">  delete:</span> [true|false]</div><div class="line"><span class="symbol">  verbose:</span> [true|false]</div><div class="line"><span class="symbol">  ignore_errors:</span> [true|false]</div></pre></td></tr></table></figure>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/aa24e6a7975c40f0/7e20ab2458944f32adee8cc504aada16.png" alt="aa24e6a7975c40f0/7e20ab2458944f32adee8cc504aada16.png"></p>
<h1 id="部署测试"><a href="#部署测试" class="headerlink" title="部署测试"></a>部署测试</h1><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">hexo d</span></div></pre></td></tr></table></figure>
<ul>
<li>参考链接<ul>
<li><a href="https://hexo.io/zh-cn/docs/deployment.html" target="_blank" rel="external">https://hexo.io/zh-cn/docs/deployment.html</a></li>
<li><a href="http://www.xjyhs.com/14658783656436.html" target="_blank" rel="external">http://www.xjyhs.com/14658783656436.html</a></li>
<li><a href="http://blog.csdn.net/old_imp/article/details/8826396" target="_blank" rel="external">http://blog.csdn.net/old_imp/article/details/8826396</a></li>
<li><a href="http://blog.csdn.net/butterflydog/article/details/7464966" target="_blank" rel="external">http://blog.csdn.net/butterflydog/article/details/7464966</a></li>
<li><a href="http://sookk8.blog.51cto.com/455855/328076/" target="_blank" rel="external">http://sookk8.blog.51cto.com/455855/328076/</a></li>
</ul>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;原来Hexo博客托管在&lt;a href=&quot;https://github.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Github&lt;/a&gt;和&lt;a href=&quot;https://coding.net&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Coding&lt;/a&gt;，后来买了一台VPS用于翻墙，想着直接将博客部署到VPS上面，查了官网部署方式，可通过&lt;code&gt;hexo-deployer-rsync&lt;/code&gt;、&lt;code&gt;hexo-deployer-ftpsync&lt;/code&gt;两种方式推送到VPS主机，尝试了FTP方式，不太稳定；今天通过linux的rsync方式从windows客户端平台部署到linux平台。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;VPS主机安装rsync服务&quot;&gt;&lt;a href=&quot;#VPS主机安装rsync服务&quot; class=&quot;headerlink&quot; title=&quot;VPS主机安装rsync服务&quot;&gt;&lt;/a&gt;VPS主机安装rsync服务&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;我购买的VPS主机是Centos7 64位操作系统。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="notes" scheme="http://www.itechq.com/categories/notes/"/>
    
    
      <category term="Hexo" scheme="http://www.itechq.com/tags/Hexo/"/>
    
      <category term="hexo-deployer-rsync" scheme="http://www.itechq.com/tags/hexo-deployer-rsync/"/>
    
  </entry>
  
  <entry>
    <title>Eclipse下安装配置使用Jrebel</title>
    <link href="http://www.itechq.com/blog/247947ee.html"/>
    <id>http://www.itechq.com/blog/247947ee.html</id>
    <published>2017-03-22T09:26:00.000Z</published>
    <updated>2017-03-24T12:30:14.269Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>Java Web应用开发经常修改Bean、Action、Service就需要重启Web服务器，JRebel可以实现Tomcat热部署，大量节省服务器重启时间，提高个人开发效率。JRebel支持Eclipse和IntelliJ IDEA，下面介绍Eclipse下安装配置及使用。</p>
</blockquote>
<h1 id="JRebel安装"><a href="#JRebel安装" class="headerlink" title="JRebel安装"></a>JRebel安装</h1><p>JRebel官方网站<a href="https://zeroturnaround.com/software/jrebel/" target="_blank" rel="external">https://zeroturnaround.com/software/jrebel/</a>，本文介绍Jrebel<code>6.2.7</code>的版本安装和使用。</p>
<a id="more"></a>
<h2 id="在线安装"><a href="#在线安装" class="headerlink" title="在线安装"></a>在线安装</h2><p>打开Eclipse/Myeclipse，点击<code>Help -&gt; Install from Site</code>，进入软件安装向导，点击<code>Add</code>按钮，输入以下信息：</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Name：Jrebel <span class="number">6.2</span><span class="number">.7</span></div><div class="line">Location：<span class="keyword">http</span>://<span class="keyword">update</span>.zeroturnaround.com/<span class="keyword">update</span>-site-archive/<span class="keyword">update</span>-site<span class="number">-6.2</span><span class="number">.7</span>.RELEASE/</div></pre></td></tr></table></figure>
<p>如图所示：</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/e884ca6c3ae65e3d/a170066c297641afad1ee90d2e023d2b.png" alt="e884ca6c3ae65e3d/a170066c297641afad1ee90d2e023d2b.png"></p>
<p>根据向导，完成安装，然后重启Eclipse/Myeclipse，Help菜单出现<code>Jrebel Configuration</code>表示安装成功。点击该菜单，出现如下界面：</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/e884ca6c3ae65e3d/e312d3b47eaa45c0be655418dba29b02.png" alt="e884ca6c3ae65e3d/e312d3b47eaa45c0be655418dba29b02.png"></p>
<h2 id="离线安装"><a href="#离线安装" class="headerlink" title="离线安装"></a>离线安装</h2><p>离线安装包下载地址：</p>
<ul>
<li>官网下载，<a href="http://update.zeroturnaround.com/update-site-archive/update-site-6.2.7.RELEASE/update-site.zip" target="_blank" rel="external">点击下载</a></li>
<li>百度云下载，<a href="http://pan.baidu.com/s/1kV5GeRP" target="_blank" rel="external">点击下载</a>：<code>http://pan.baidu.com/s/1kV5GeRP</code> 密码：<code>6c5o</code></li>
</ul>
<p>Jrebel离线安装步骤与Eclipse/Myeclipse离线安装插件一样，不会请自行Google，(ˇˍˇ) 。</p>
<h1 id="JRebel破解"><a href="#JRebel破解" class="headerlink" title="JRebel破解"></a>JRebel破解</h1><p>下载破解文件<code>jrebel-6.2.7-cracked.zip</code>，<a href="http://download.csdn.net/download/csch112/9791784" target="_blank" rel="external">下载地址</a>。解压文件，按如下步骤破解：</p>
<ul>
<li><p>1、拷贝<code>~jrebel/jrebel.jar</code>文件到 <strong><code>[ECLIPSE_HOME]/plugins/org.zeroturnaround.eclipse.embedder_6.2.7.RELEASE-201511061610/jrebel/</code></strong>目录，覆盖原<code>jrebel.jar</code>文件。</p>
</li>
<li><p>2、拷贝~jrebel6/jrebel.jar文件到 <strong><code>[ECLIPSE_HOME]/plugins/org.zeroturnaround.eclipse.embedder_6.2.7.RELEASE-201511061610/jr6/jrebel/</code></strong>目录，覆盖原jrebel.jar文件</p>
</li>
<li><p>3、拷贝jrebel.lic文件到<strong><code>[USER_HOME]/.jrebel</code></strong>目录下，也可以在Eclipse界面手动导入。</p>
</li>
<li><p>4、重启Eclipse IDE。</p>
</li>
</ul>
<p>破解完成后，打开<code>Jrebel Configuration</code>显示如下信息，表示破解成功：</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/e884ca6c3ae65e3d/4b3ac7bb349b441a867669d7a4febbe7.png" alt="e884ca6c3ae65e3d/4b3ac7bb349b441a867669d7a4febbe7.png"></p>
<h1 id="Jrebel使用"><a href="#Jrebel使用" class="headerlink" title="Jrebel使用"></a>Jrebel使用</h1><blockquote>
<p>以下步骤是在Myeclipse2014下用Tomcat启动Web程序为例配置使用。</p>
</blockquote>
<h2 id="工程配置"><a href="#工程配置" class="headerlink" title="工程配置"></a>工程配置</h2><p>点击Myeclipse菜单<code>Help -&gt; JRebel Configuration</code>，打开<code>Project Tab</code>，此Tab下会列出工作空间所有工程，勾选需要监控工程后面的第一个Checkbox。勾选后，Jrebel会在当前工程目录下自动生成<code>rebel.xml</code>配置文件，如图所示:</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/e887d3d3ef4dd780/7453416b023d46a08e394bf244684605.png" alt="e887d3d3ef4dd780/7453416b023d46a08e394bf244684605.png"></p>
<p>对应工程目录会自动生成<code>rebel.xml</code>文件，如图所示：</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/e887d3d3ef4dd780/03c673c3073449e39ebc5e170d639dbd.png" alt="e887d3d3ef4dd780/03c673c3073449e39ebc5e170d639dbd.png"></p>
<h2 id="应用服务器配置"><a href="#应用服务器配置" class="headerlink" title="应用服务器配置"></a>应用服务器配置</h2><ul>
<li>Jrebel启动设置</li>
</ul>
<p>点击Myeclipse菜单<code>Help -&gt; JRebel Configuration</code>，打开<code>Startup Tab</code>，选中<code>Run via IDE</code>选项，如下图所示：</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/e887d3d3ef4dd780/3e8d7234fb1641f3b49143fd7d611c13.png" alt="e887d3d3ef4dd780/3e8d7234fb1641f3b49143fd7d611c13.png"></p>
<ul>
<li>Jrebel高级设置</li>
</ul>
<p>点击Myeclipse菜单<code>Help -&gt; JRebel Configuration</code>，打开<code>Advaced Tab</code>，将<code>Jrebel Agent</code>选项设置为<code>JRebel 6 Agent 6.2.7 (201511061217)</code>，其他选项可根据自己需要勾选修改，如下图所示：</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/e887d3d3ef4dd780/8ecf78a6dbba4784aad4aa648e50c535.png" alt="e887d3d3ef4dd780/8ecf78a6dbba4784aad4aa648e50c535.png"></p>
<ul>
<li>Tomcat服务器Jrebel Agent绑定设置</li>
</ul>
<p>点击Myeclipse菜单<code>Window -&gt; Preferences -&gt; Myeclipse -&gt; Servers -&gt; Tomcat</code>，选择你本地配置的Tomcat版本，勾选<code>JRebel settings</code>下的<code>Enable JRebel agent</code>，如下图所示：</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/e887d3d3ef4dd780/05453f06415b459eb1682dd3305a1b16.png" alt="e887d3d3ef4dd780/05453f06415b459eb1682dd3305a1b16.png"></p>
<ul>
<li>Tomcat服务器JVM启动参数设置</li>
</ul>
<p>点击Myeclipse菜单<code>Window -&gt; Preferences -&gt; Myeclipse -&gt; Servers -&gt; Tomcat</code>，选择你本地配置的Tomcat版本，点击<code>Tomcat X.x -&gt; JDK</code>，在<code>Optional Java VM arguments</code>下输入以下内容，</p>
<figure class="highlight haml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">-<span class="ruby">Xmx512M </span></div><div class="line">-<span class="ruby">Xms512M </span></div><div class="line">-<span class="ruby"><span class="symbol">XX:</span>MaxPermSize=<span class="number">1024</span>m</span></div></pre></td></tr></table></figure>
<p>解决启动时出现<strong><code>java.lang.OutOfMemoryError: PermGen space</code></strong> ，如下图所示：</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/e887d3d3ef4dd780/d3c8cb2d08664c6086a47c4751ef0691.png" alt="e887d3d3ef4dd780/d3c8cb2d08664c6086a47c4751ef0691.png"></p>
<h2 id="验证结果"><a href="#验证结果" class="headerlink" title="验证结果"></a>验证结果</h2><p>部署Web应用到Tocmat服务器，启动Tomcat服务器，出现以下启动信息，代表配置成功。</p>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">JRebel: Starting logging to file: C:\Users\XX\.jrebel\jrebel.log</div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-24</span> <span class="number">16</span>:<span class="number">15</span>:<span class="number">03</span> JRebel:  </div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-24</span> <span class="number">16</span>:<span class="number">15</span>:<span class="number">03</span> JRebel:  #############################################################</div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-24</span> <span class="number">16</span>:<span class="number">15</span>:<span class="number">03</span> JRebel:  </div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-24</span> <span class="number">16</span>:<span class="number">15</span>:<span class="number">03</span> JRebel:  JRebel Agent <span class="number">6.2</span><span class="number">.7</span> (<span class="number">201511061217</span>)</div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-24</span> <span class="number">16</span>:<span class="number">15</span>:<span class="number">03</span> JRebel:  (c) Copyright ZeroTurnaround AS, Estonia, Tartu.</div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-24</span> <span class="number">16</span>:<span class="number">15</span>:<span class="number">03</span> JRebel:  </div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-24</span> <span class="number">16</span>:<span class="number">15</span>:<span class="number">03</span> JRebel:  Over the last <span class="number">1</span> days JRebel prevented</div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-24</span> <span class="number">16</span>:<span class="number">15</span>:<span class="number">03</span> JRebel:  at least <span class="number">0</span> redeploys/restarts saving you about <span class="number">0</span> hours.</div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-24</span> <span class="number">16</span>:<span class="number">15</span>:<span class="number">03</span> JRebel:  </div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-24</span> <span class="number">16</span>:<span class="number">15</span>:<span class="number">03</span> JRebel:  Licensed to VIMACER (ZeroTurnaround)</div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-24</span> <span class="number">16</span>:<span class="number">15</span>:<span class="number">03</span> JRebel:   <span class="keyword">with</span> the following restrictions: </div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-24</span> <span class="number">16</span>:<span class="number">15</span>:<span class="number">03</span> JRebel:   ### Hello World Cracked ### :)</div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-24</span> <span class="number">16</span>:<span class="number">15</span>:<span class="number">03</span> JRebel:  </div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-24</span> <span class="number">16</span>:<span class="number">15</span>:<span class="number">03</span> JRebel:  License type: enterprise</div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-24</span> <span class="number">16</span>:<span class="number">15</span>:<span class="number">03</span> JRebel:  Valid <span class="keyword">from</span>: July <span class="number">14</span>, <span class="number">2014</span></div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-24</span> <span class="number">16</span>:<span class="number">15</span>:<span class="number">03</span> JRebel:  Valid until: August <span class="number">18</span>, <span class="number">2888</span></div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-24</span> <span class="number">16</span>:<span class="number">15</span>:<span class="number">03</span> JRebel:  </div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-24</span> <span class="number">16</span>:<span class="number">15</span>:<span class="number">03</span> JRebel:  </div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-24</span> <span class="number">16</span>:<span class="number">15</span>:<span class="number">03</span> JRebel:  #############################################################</div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-24</span> <span class="number">16</span>:<span class="number">15</span>:<span class="number">03</span> JRebel:  </div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-24</span> <span class="number">16</span>:<span class="number">15</span>:<span class="number">04</span> JRebel: </div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-24</span> <span class="number">16</span>:<span class="number">15</span>:<span class="number">04</span> JRebel: A newer version <span class="string">'7.0.6'</span> is available for download </div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-24</span> <span class="number">16</span>:<span class="number">15</span>:<span class="number">04</span> JRebel: <span class="keyword">from</span> http:<span class="comment">//zeroturnaround.com/software/jrebel/download/</span></div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-24</span> <span class="number">16</span>:<span class="number">15</span>:<span class="number">04</span> JRebel:</div></pre></td></tr></table></figure>
<p>更多配置，请参考<a href="https://manuals.zeroturnaround.com/jrebel/ide/eclipse.html" target="_blank" rel="external">官方手册</a>，现在开始告别频繁重启服务器带来的各种痛苦吧~~</p>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul>
<li><a href="http://code.skyheng.com/2016/08/25/eclipse-install-jrebel/" target="_blank" rel="external">eclipse安装JRebel6.4.8热部署插件教程</a></li>
<li><a href="http://blog.csdn.net/paincupid/article/details/52226014" target="_blank" rel="external">安装eclipse的JRebel6.4.3的插件</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Java Web应用开发经常修改Bean、Action、Service就需要重启Web服务器，JRebel可以实现Tomcat热部署，大量节省服务器重启时间，提高个人开发效率。JRebel支持Eclipse和IntelliJ IDEA，下面介绍Eclipse下安装配置及使用。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;JRebel安装&quot;&gt;&lt;a href=&quot;#JRebel安装&quot; class=&quot;headerlink&quot; title=&quot;JRebel安装&quot;&gt;&lt;/a&gt;JRebel安装&lt;/h1&gt;&lt;p&gt;JRebel官方网站&lt;a href=&quot;https://zeroturnaround.com/software/jrebel/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://zeroturnaround.com/software/jrebel/&lt;/a&gt;，本文介绍Jrebel&lt;code&gt;6.2.7&lt;/code&gt;的版本安装和使用。&lt;/p&gt;
    
    </summary>
    
      <category term="technology" scheme="http://www.itechq.com/categories/technology/"/>
    
    
      <category term="Eclipse" scheme="http://www.itechq.com/tags/Eclipse/"/>
    
      <category term="Myeclipse" scheme="http://www.itechq.com/tags/Myeclipse/"/>
    
      <category term="Jrebel" scheme="http://www.itechq.com/tags/Jrebel/"/>
    
  </entry>
  
  <entry>
    <title>npm常用命令</title>
    <link href="http://www.itechq.com/blog/cf3ec6ef.html"/>
    <id>http://www.itechq.com/blog/cf3ec6ef.html</id>
    <published>2017-02-16T08:36:04.000Z</published>
    <updated>2017-03-23T13:18:59.462Z</updated>
    
    <content type="html"><![CDATA[<h1 id="npm简介"><a href="#npm简介" class="headerlink" title="npm简介"></a>npm简介</h1><blockquote>
<p>npm的全称是Node Package Manager，是和NodeJS一起安装的包管理和分发工具，它很方便让前端开发者下载、安装、上传以及管理已经安装的包。</p>
</blockquote>
<a id="more"></a>
<h1 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h1><h2 id="npm-help-查看命令帮助"><a href="#npm-help-查看命令帮助" class="headerlink" title="npm help 查看命令帮助"></a><a href="https://www.npmjs.com.cn/cli/help/" target="_blank" rel="external">npm help</a> 查看命令帮助</h2><p><strong>基本语法</strong></p>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm help &lt;term&gt; <span class="meta">[&lt;terms..&gt;]</span></div></pre></td></tr></table></figure>
<p>如查看<code>install</code>命令帮助文档，输入<code>npm help install</code>，会通过系统默认浏览器打开本地nodejs安装包中的帮助文档：<code>file:///E:/Tools/nodejs-v6.9.5/node_modules/npm/html/doc/cli/npm-install.html</code></p>
<h2 id="npm-config-管理npm配置文件"><a href="#npm-config-管理npm配置文件" class="headerlink" title="npm config 管理npm配置文件"></a><a href="https://www.npmjs.com.cn/cli/config/" target="_blank" rel="external">npm config</a> 管理npm配置文件</h2><p><strong>基本语法</strong></p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">npm config <span class="keyword">set</span> <span class="symbol">&lt;key&gt;</span> <span class="symbol">&lt;value&gt;</span> [-g|--<span class="keyword">global</span>]</div><div class="line">npm config <span class="built_in">get</span> <span class="symbol">&lt;key&gt;</span></div><div class="line">npm config <span class="keyword">delete</span> <span class="symbol">&lt;key&gt;</span></div><div class="line">npm config <span class="keyword">list</span></div><div class="line">npm config <span class="keyword">edit</span></div><div class="line">npm <span class="built_in">get</span> <span class="symbol">&lt;key&gt;</span></div><div class="line">npm <span class="keyword">set</span> <span class="symbol">&lt;key&gt;</span> <span class="symbol">&lt;value&gt;</span> [-g|--<span class="keyword">global</span>]</div><div class="line"></div><div class="line">aliase<span class="variable">s:</span> <span class="keyword">c</span></div></pre></td></tr></table></figure>
<ul>
<li>修改默认下载镜像</li>
</ul>
<p>如将npm模块安装镜像设置为<strong><a href="https://npm.taobao.org/" target="_blank" rel="external">淘宝镜像</a></strong>，使用如下命令:</p>
<figure class="highlight gams"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm config <span class="keyword">set</span> registry <span class="comment">https:</span>//<span class="comment">registry.npm.taobao.org</span></div></pre></td></tr></table></figure>
<p>可在当前用户目录下看到<code>.npmrc</code>文件中写入一条<code>registry=https://registry.npm.taobao.org</code>数据。</p>
<ul>
<li>查看当前配置</li>
</ul>
<p>若想查看nodejs当前配置信息，使用命令<code>npm config list</code>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">$ npm config list</div><div class="line">; cli configs</div><div class="line">user-agent = <span class="string">"npm/3.10.10 node/v6.9.5 win32 x64"</span></div><div class="line"></div><div class="line">; userconfig C:\Users\CH\.npmrc</div><div class="line">cache = <span class="string">"E:\\Tools\\nodejs-v6.9.5\\node_cache"</span></div><div class="line">prefix = <span class="string">"E:\\Tools\\nodejs-v6.9.5\\node_global"</span></div><div class="line">registry = <span class="string">"https://registry.npm.taobao.org/"</span></div><div class="line"></div><div class="line">; node bin location = E:\Tools\nodejs-v6<span class="number">.9</span><span class="number">.5</span>\node.exe</div><div class="line">; cwd = E:\Project\git\hotch-nodejs</div><div class="line">; HOME = C:\Users\CH</div><div class="line">; <span class="string">"npm config ls -l"</span> to show all defaults.</div></pre></td></tr></table></figure>
<h2 id="npm-init-初始化"><a href="#npm-init-初始化" class="headerlink" title="npm init 初始化"></a><a href="https://www.npmjs.com.cn/cli/init/" target="_blank" rel="external">npm init</a> 初始化</h2><p>在项目中创建<code>package.json</code>文件，安装包的信息可以保存到<code>package.json</code>文件中，以便后续其他项目开发任何合作使用，作用类似maven的<code>pom.xml</code>文件。</p>
<p><strong>基本语法</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm init [-f|--force|-y|--yes]</div></pre></td></tr></table></figure>
<p>根据提示，输入相关信息：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$ npm init</div><div class="line">name: (hotch-nodejs)</div><div class="line">version: (<span class="number">1.0</span><span class="number">.0</span>)</div><div class="line">description:</div><div class="line">entry point: (index.js)</div><div class="line">test command:</div><div class="line">git repository:</div><div class="line">keywords:</div><div class="line">author: Jason</div><div class="line">license: (ISC)</div></pre></td></tr></table></figure>
<p>命令执行完成后，会在当前目录创建<code>package.json</code>文件，内容如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="string">"name"</span>: <span class="string">"hotch-nodejs"</span>,</div><div class="line">  <span class="string">"version"</span>: <span class="string">"1.0.0"</span>,</div><div class="line">  <span class="string">"description"</span>: <span class="string">""</span>,</div><div class="line">  <span class="string">"main"</span>: <span class="string">"index.js"</span>,</div><div class="line">  <span class="string">"scripts"</span>: &#123;</div><div class="line">    <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></div><div class="line">  &#125;,</div><div class="line">  <span class="string">"author"</span>: <span class="string">"Jason"</span>,</div><div class="line">  <span class="string">"license"</span>: <span class="string">"ISC"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="npm-install-安装模块"><a href="#npm-install-安装模块" class="headerlink" title="npm install 安装模块"></a><a href="https://www.npmjs.com.cn/cli/install/" target="_blank" rel="external">npm install</a> 安装模块</h2><p><strong>基本语法</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">npm install (<span class="keyword">with</span> no args, <span class="keyword">in</span> package dir)</div><div class="line">npm install [&lt;@scope&gt;/]&lt;name&gt;</div><div class="line">npm install [&lt;@scope&gt;/]&lt;name&gt;@&lt;tag&gt;</div><div class="line">npm install [&lt;@scope&gt;/]&lt;name&gt;@&lt;version&gt;</div><div class="line">npm install [&lt;@scope&gt;/]&lt;name&gt;@&lt;version range&gt;</div><div class="line">npm install &lt;tarball file&gt;</div><div class="line">npm install &lt;tarball url&gt;</div><div class="line">npm install &lt;folder&gt;</div><div class="line"></div><div class="line">alias: npm i</div><div class="line">common options: [-S|--save|-D|--save-dev|-O|--save-optional] [-E|--save-exact] [-B|--save-bundle] [--dry-run]</div></pre></td></tr></table></figure>
<p><strong>默认安装最新版本</strong></p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm <span class="keyword">install</span> express</div></pre></td></tr></table></figure>
<p><strong>安装指定版本</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">npm</span> <span class="selector-tag">install</span> <span class="selector-tag">express</span>@<span class="keyword">4</span>.<span class="keyword">14</span>.<span class="keyword">1</span></div></pre></td></tr></table></figure>
<ul>
<li><code>-S</code>、<code>--save</code>安装包信息将加入到dependencies（生产阶段依赖）</li>
</ul>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">npm install <span class="built_in">express</span> -S 或</div><div class="line">npm install <span class="built_in">express</span> --<span class="built_in">save</span></div></pre></td></tr></table></figure>
<p>执行后，<code>package.json</code>文件的<code>dependencies</code>字段：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="string">"dependencies"</span>: &#123;</div><div class="line">  <span class="string">"express"</span>: <span class="string">"^4.14.1"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><code>-D</code>、<code>--save-dev</code> 安装包信息将加入到devDependencies（开发阶段依赖），开发阶段一般使用它</li>
</ul>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">npm install <span class="built_in">express</span> -D 或</div><div class="line">npm install <span class="built_in">express</span> --<span class="built_in">save</span>-dev</div></pre></td></tr></table></figure>
<p>执行后，<code>package.json</code>文件的<code>devDependencies</code>字段：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="string">"devDependencies"</span>: &#123;</div><div class="line">  <span class="string">"express"</span>: <span class="string">"^4.14.1"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><code>-O</code>、<code>--save-optional</code> 安装包信息将加入到optionalDependencies（可选阶段依赖）</li>
</ul>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">npm install <span class="built_in">express</span> -O 或</div><div class="line">npm install <span class="built_in">express</span> --<span class="built_in">save</span>-optional</div></pre></td></tr></table></figure>
<p>执行后，<code>package.json</code>文件的<code>optionalDependencies</code>字段：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="string">"optionalDependencies"</span>: &#123;</div><div class="line">  <span class="string">"express"</span>: <span class="string">"^4.14.1"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><code>-E</code>、<code>--save-exact</code> 精确安装指定模块版本</li>
</ul>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">npm install <span class="built_in">express</span> -E 或</div><div class="line">npm install <span class="built_in">express</span> --<span class="built_in">save</span>-exact</div></pre></td></tr></table></figure>
<p>输入命令<code>npm install express -ES</code>，查看<code>package.json</code>文件的<code>dependencies</code>字段内容变化，没有<code>^</code>符号了:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="string">"dependencies"</span>: &#123;</div><div class="line">  <span class="string">"express"</span>: <span class="string">"4.14.1"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>以上操作都是本地安装(local)，若要使用全局安装(global)，使用<code>-g</code>、<code>--global</code></p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm <span class="keyword">install</span> express -g</div></pre></td></tr></table></figure>
<p>执行完成后，会到<code>node_global\node_modules</code>(<em>node_global修改详见<a href="http://www.itechq.com/blog/program/nodejs-install-on-windows.html">Windows安装配置NodeJS</a>文章</em>)目录下安装<code>express</code>。</p>
<h2 id="npm-uninstall-卸载模块"><a href="#npm-uninstall-卸载模块" class="headerlink" title="npm uninstall 卸载模块"></a><a href="https://www.npmjs.com.cn/cli/uninstall/" target="_blank" rel="external">npm uninstall</a> 卸载模块</h2><p><strong>基本语法</strong></p>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">npm uninstall <span class="meta">[&lt;@scope&gt;/]&lt;pkg&gt;[@&lt;version&gt;]</span>... [-S|--save|-D|--save-dev|-O|--save-optional]</div><div class="line"></div><div class="line">aliases: remove, rm, r, un, unlink</div></pre></td></tr></table></figure>
<p>使用参数与<code>install</code>一样，此处不再累述。</p>
<h2 id="npm-update-更新模块"><a href="#npm-update-更新模块" class="headerlink" title="npm update 更新模块"></a><a href="https://www.npmjs.com.cn/cli/update/" target="_blank" rel="external">npm update</a> 更新模块</h2><p><strong>基本语法</strong></p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">npm <span class="keyword">update</span> [-g] [<span class="symbol">&lt;pkg&gt;</span>...]</div><div class="line"></div><div class="line">aliase<span class="variable">s:</span> <span class="keyword">up</span>, upgrade</div></pre></td></tr></table></figure>
<h2 id="npm-ls-查看已安装模块"><a href="#npm-ls-查看已安装模块" class="headerlink" title="npm ls 查看已安装模块"></a><a href="https://www.npmjs.com.cn/cli/ls/" target="_blank" rel="external">npm ls</a> 查看已安装模块</h2><p><strong>基本语法</strong></p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">npm <span class="keyword">ls</span> [[&lt;@scope&gt;/]<span class="symbol">&lt;pkg&gt;</span> ...]</div><div class="line"></div><div class="line">aliase<span class="variable">s:</span> <span class="keyword">list</span>, <span class="keyword">la</span>, <span class="keyword">ll</span></div></pre></td></tr></table></figure>
<p>查看全局安装的模块及依赖 </p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">npm</span> ls -g</div></pre></td></tr></table></figure>
<h2 id="npm-outdated-检查过时的模块"><a href="#npm-outdated-检查过时的模块" class="headerlink" title="npm outdated 检查过时的模块"></a><a href="https://www.npmjs.com.cn/cli/outdated/" target="_blank" rel="external">npm outdated</a> 检查过时的模块</h2><p><strong>基本语法</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm outdated [[<span class="tag">&lt;<span class="name">@scope</span>&gt;</span>/]<span class="tag">&lt;<span class="name">pkg</span>&gt;</span> ...]</div></pre></td></tr></table></figure>
<h2 id="npm-root-查看模块安装目录"><a href="#npm-root-查看模块安装目录" class="headerlink" title="npm root 查看模块安装目录"></a><a href="https://www.npmjs.com.cn/cli/root/" target="_blank" rel="external">npm root</a> 查看模块安装目录</h2><p><strong>基本语法</strong></p>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm root <span class="string">[-g]</span></div></pre></td></tr></table></figure>
<p><code>npm root</code>查看模块本地安装目录，<code>npm root -g</code>查看模块全局安装目录。</p>
<h2 id="npm-cache-管理模块缓存"><a href="#npm-cache-管理模块缓存" class="headerlink" title="npm cache 管理模块缓存"></a><a href="https://www.npmjs.com.cn/cli/cache/" target="_blank" rel="external">npm cache</a> 管理模块缓存</h2><p><strong>基本语法</strong></p>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">npm cache add &lt;tarball file&gt;</div><div class="line">npm cache add &lt;folder&gt;</div><div class="line">npm cache add &lt;tarball url&gt;</div><div class="line">npm cache add &lt;name&gt;@&lt;version&gt;</div><div class="line"></div><div class="line">npm cache ls <span class="meta">[&lt;path&gt;]</span></div><div class="line"></div><div class="line">npm cache clean <span class="meta">[&lt;path&gt;]</span></div><div class="line">aliases: npm cache clear, npm cache rm</div></pre></td></tr></table></figure>
<p><code>npm cache ls</code>查看当前缓存，<code>npm cache clean</code>清除当前缓存。</p>
<h2 id="npm-view-查看模块版本"><a href="#npm-view-查看模块版本" class="headerlink" title="npm view 查看模块版本"></a><a href="https://www.npmjs.com.cn/cli/version/" target="_blank" rel="external">npm view</a> 查看模块版本</h2><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">npm version [<span class="variable">&lt;newversion&gt;</span> |<span class="string"> major </span>|<span class="string"> minor </span>|<span class="string"> patch </span>|<span class="string"> premajor </span>|<span class="string"> preminor </span>|<span class="string"> prepatch </span>|<span class="string"> prerelease </span>|<span class="string"> from-git]</span></div><div class="line"></div><div class="line">'npm [-v |<span class="string"> --version]' to print npm version</span></div><div class="line">'npm view &lt;pkg&gt; version' to view a package's published version</div><div class="line">'npm ls' to inspect current package/dependency versions</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;npm简介&quot;&gt;&lt;a href=&quot;#npm简介&quot; class=&quot;headerlink&quot; title=&quot;npm简介&quot;&gt;&lt;/a&gt;npm简介&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;npm的全称是Node Package Manager，是和NodeJS一起安装的包管理和分发工具，它很方便让前端开发者下载、安装、上传以及管理已经安装的包。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="program" scheme="http://www.itechq.com/categories/program/"/>
    
    
      <category term="NodeJS" scheme="http://www.itechq.com/tags/NodeJS/"/>
    
      <category term="npm" scheme="http://www.itechq.com/tags/npm/"/>
    
  </entry>
  
  <entry>
    <title>Windows安装配置NodeJS</title>
    <link href="http://www.itechq.com/blog/3c80382b.html"/>
    <id>http://www.itechq.com/blog/3c80382b.html</id>
    <published>2017-02-15T01:23:38.000Z</published>
    <updated>2017-03-23T13:18:59.462Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>本文是记录自己在Windows平台下安装配置NodeJS环境，供自己以后参考。</p>
</blockquote>
<h1 id="安装准备"><a href="#安装准备" class="headerlink" title="安装准备"></a>安装准备</h1><p>NodeJS安装包及源码下载地址为:<a href="https://nodejs.org/en/" target="_blank" rel="external">https://nodejs.org/en/</a>。进入<a href="https://nodejs.org/en/download/" target="_blank" rel="external">下载链接</a>：<br><img src="http://o7xt53rmp.bkt.clouddn.com/8c6b2df744b1c8f9/ac45de93c13146b582f400ce246a83ef.png" alt="8c6b2df744b1c8f9/ac45de93c13146b582f400ce246a83ef.png"></p>
<p>我下载的是<a href="https://nodejs.org/dist/v6.9.5/node-v6.9.5-win-x64.zip" target="_blank" rel="external">node-v6.9.5-win-x64.zip</a>。</p>
<a id="more"></a>
<h1 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h1><h2 id="解压node-v6-9-5-win-x64-zip"><a href="#解压node-v6-9-5-win-x64-zip" class="headerlink" title="解压node-v6.9.5-win-x64.zip"></a>解压<code>node-v6.9.5-win-x64.zip</code></h2><blockquote>
<p>将<code>node-v6.9.5-win-x64.zip</code>压缩文件解压到<code>E:\Tools\</code>目录，并重命名为<code>nodejs-v6.9.5</code>.</p>
</blockquote>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/8c6b2df744b1c8f9/afe494495e384109990ee9b106ce03a2.png" alt="8c6b2df744b1c8f9/afe494495e384109990ee9b106ce03a2.png"></p>
<h2 id="配置NodeJS环境变量"><a href="#配置NodeJS环境变量" class="headerlink" title="配置NodeJS环境变量"></a>配置<code>NodeJS</code>环境变量</h2><blockquote>
<p><code>我的电脑</code> -&gt; <code>属性</code> -&gt; <code>高级系统设置</code> -&gt; <code>环境变量</code>，将<code>E:\Tools\nodejs-v6.9.5</code>添加到<code>系统变量</code>下的<code>path</code>变量中。</p>
</blockquote>
<h2 id="验证安装结果"><a href="#验证安装结果" class="headerlink" title="验证安装结果"></a>验证安装结果</h2><h3 id="CMD-验证"><a href="#CMD-验证" class="headerlink" title="CMD 验证"></a>CMD 验证</h3><p>打开<code>CMD</code>，输入<code>node -v</code>、<code>npm -v</code>，结果如下:</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/8c6b2df744b1c8f9/52fa4c0a34fe4efea426da3d521a7592.png" alt="8c6b2df744b1c8f9/52fa4c0a34fe4efea426da3d521a7592.png"></p>
<h3 id="Git-Bash验证"><a href="#Git-Bash验证" class="headerlink" title="Git Bash验证"></a>Git Bash验证</h3><p>打开<code>Git Bash</code>，输入<code>node -v</code>、<code>npm -v</code>，结果如下:</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/8c6b2df744b1c8f9/a22744b51b054417aeee457f8e1ad9c2.png" alt="8c6b2df744b1c8f9/a22744b51b054417aeee457f8e1ad9c2.png"></p>
<h1 id="修改NodeJS全局路径"><a href="#修改NodeJS全局路径" class="headerlink" title="修改NodeJS全局路径"></a>修改NodeJS全局路径</h1><p>NodeJS安装完成后，默认全局安装目录在<code>C:\Users\[USER_PROFILES]\AppData\Roaming\npm</code>，缓存路径在<code>C:\Users\[USER_PROFILES]\AppData\Roaming\npm-cache</code>，占用C盘空间，同时不方便查看，因此我将这两个目录修改到NodeJS安装目录。</p>
<h2 id="新建目录"><a href="#新建目录" class="headerlink" title="新建目录"></a>新建目录</h2><blockquote>
<p>在NodeJS安装目录新建<code>node_global</code>、<code>node_cache</code>。</p>
</blockquote>
<h2 id="设置目录"><a href="#设置目录" class="headerlink" title="设置目录"></a>设置目录</h2><blockquote>
<p>通过命令设置<code>node_global</code>为全局安装目录、<code>node_cache</code>为缓存目录</p>
</blockquote>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">npm config set prefix <span class="string">"E:\Tools<span class="subst">\n</span>odejs-v6.9.5<span class="subst">\n</span>ode_global"</span></div><div class="line"></div><div class="line">npm config set cache <span class="string">"E:\Tools<span class="subst">\n</span>odejs-v6.9.5<span class="subst">\n</span>ode_cache"</span></div></pre></td></tr></table></figure>
<p>执行完成后，会在<code>C:\Users\[USER_PROFILES]</code>目录下生成<code>.npmrc</code>文件，内容如下：<br><img src="http://o7xt53rmp.bkt.clouddn.com/8c6b2df744b1c8f9/81fb6fc0004d4ac0ac155360f49a13c8.png" alt="8c6b2df744b1c8f9/81fb6fc0004d4ac0ac155360f49a13c8.png"></p>
<h2 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h2><ul>
<li><p>在环境变量<code>path</code>添加<code>E:\Tools\nodejs-v6.9.5\node_modules;</code>、<code>E:\Tools\nodejs-v6.9.5\node_global;</code>两个路径。</p>
</li>
<li><p>新建<code>NODE_PATH</code>环境变量，设置值为<code>E:\Tools\nodejs-v6.9.5\node_global\node_modules</code>。（<strong>PS：这步很重要!</strong>）</p>
</li>
</ul>
<h2 id="验证是否配置成功"><a href="#验证是否配置成功" class="headerlink" title="验证是否配置成功"></a>验证是否配置成功</h2><p>重启Git Bash，在命令行执行<code>npm install express -g</code>命令，等待安装完成后，检查<code>express</code>是否安装到<code>E:\Tools\nodejs-v6.9.5\node_global\node_modules</code>目录.<br><img src="http://o7xt53rmp.bkt.clouddn.com/8c6b2df744b1c8f9/c7e6151db71f449ea59eb7254745f248.png" alt="8c6b2df744b1c8f9/c7e6151db71f449ea59eb7254745f248.png"></p>
<p>到此，NodeJS安装配置完成。</p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;本文是记录自己在Windows平台下安装配置NodeJS环境，供自己以后参考。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;安装准备&quot;&gt;&lt;a href=&quot;#安装准备&quot; class=&quot;headerlink&quot; title=&quot;安装准备&quot;&gt;&lt;/a&gt;安装准备&lt;/h1&gt;&lt;p&gt;NodeJS安装包及源码下载地址为:&lt;a href=&quot;https://nodejs.org/en/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://nodejs.org/en/&lt;/a&gt;。进入&lt;a href=&quot;https://nodejs.org/en/download/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;下载链接&lt;/a&gt;：&lt;br&gt;&lt;img src=&quot;http://o7xt53rmp.bkt.clouddn.com/8c6b2df744b1c8f9/ac45de93c13146b582f400ce246a83ef.png&quot; alt=&quot;8c6b2df744b1c8f9/ac45de93c13146b582f400ce246a83ef.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;我下载的是&lt;a href=&quot;https://nodejs.org/dist/v6.9.5/node-v6.9.5-win-x64.zip&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;node-v6.9.5-win-x64.zip&lt;/a&gt;。&lt;/p&gt;
    
    </summary>
    
      <category term="program" scheme="http://www.itechq.com/categories/program/"/>
    
    
      <category term="NodeJS" scheme="http://www.itechq.com/tags/NodeJS/"/>
    
  </entry>
  
  <entry>
    <title>升级Hexo及NexT主题笔记</title>
    <link href="http://www.itechq.com/blog/dc052464.html"/>
    <id>http://www.itechq.com/blog/dc052464.html</id>
    <published>2017-02-12T11:23:44.000Z</published>
    <updated>2017-03-23T13:18:59.462Z</updated>
    
    <content type="html"><![CDATA[<p>用<a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>搭建博客差不多一年了，使用<a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="external">NexT</a>主题，文章没写几篇，2017争取每周至少写一篇博客。今天对博客空间做了一次版本升级，由于原来初次配置博客时，<code>站点配置文件</code>及<code>主题配置文件</code>没有分离，当时还修改了<code>NexT</code>主题部分源码，所以本次升级基本上是重新安装了一遍。</p>
<h1 id="升级目标"><a href="#升级目标" class="headerlink" title="升级目标"></a>升级目标</h1><ul>
<li>Hexo版本由<code>3.2.0</code>升到<code>3.2.2</code></li>
<li>NexT版本由<code>5.0.0</code>升到<code>5.1.0</code></li>
<li>主题配置文件分离（便于以后主题升级）</li>
<li>集成<a href="https://www.algolia.com/" target="_blank" rel="external">Algolia</a>搜索引擎</li>
</ul>
<a id="more"></a>
<h1 id="迁移步骤"><a href="#迁移步骤" class="headerlink" title="迁移步骤"></a>迁移步骤</h1><h2 id="安装Hexo，参考官方步骤"><a href="#安装Hexo，参考官方步骤" class="headerlink" title="安装Hexo，参考官方步骤"></a>安装<a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>，参考官方步骤</h2><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">npm <span class="keyword">install </span>hexo-cli -g</div><div class="line">hexo init <span class="keyword">blog</span></div><div class="line">cd <span class="keyword">blog</span></div><div class="line">npm <span class="keyword">install</span></div><div class="line">hexo server</div></pre></td></tr></table></figure>
<h2 id="安装NexT主题，参考官方文档"><a href="#安装NexT主题，参考官方文档" class="headerlink" title="安装NexT主题，参考官方文档"></a>安装<a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="external">NexT</a>主题，参考官方文档</h2><blockquote>
<p>官方步骤很详细，这里不再描述，<a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="external">参考链接</a>。</p>
</blockquote>
<h2 id="迁移配置文件"><a href="#迁移配置文件" class="headerlink" title="迁移配置文件"></a>迁移配置文件</h2><h3 id="站点配置文件迁移"><a href="#站点配置文件迁移" class="headerlink" title="站点配置文件迁移"></a>站点配置文件迁移</h3><p>通过文件对比迁移原有站点配置文件到新站点配置文件。</p>
<h3 id="主题配置文件迁移"><a href="#主题配置文件迁移" class="headerlink" title="主题配置文件迁移"></a>主题配置文件迁移</h3><p>由于原来直接修改主题下的<code>_config.yml</code>配置文件，导致升级主题时不能直接pull，需要解决冲突问题，官方给出替代<a href="https://github.com/iissnan/hexo-theme-next/issues/328" target="_blank" rel="external">解决方案</a>。基本思路是利用Hexo 3及以上版本提供的<a href="https://hexo.io/docs/data-files.html" target="_blank" rel="external">Data Files</a>功能，将主题配置文件迁移到<code>source/_data</code>目录下。我是全新安装，所以将原来<code>_config.yml</code>拷贝一份到<code>source/_data</code>下，并重命名为<code>next.yml</code>。在将原有主题配置文件内容迁移到<code>next.yml</code>里。</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/9d018280d96e25f4/a52ce5dce6344a9f9ec8dc9f39f0cab6.png" alt="9d018280d96e25f4/a52ce5dce6344a9f9ec8dc9f39f0cab6.png"></p>
<h2 id="集成Algolia搜索引擎"><a href="#集成Algolia搜索引擎" class="headerlink" title="集成Algolia搜索引擎"></a>集成<a href="https://www.algolia.com/" target="_blank" rel="external">Algolia</a>搜索引擎</h2><blockquote>
<p>参考<a href="http://theme-next.iissnan.com/third-party-services.html#algolia-search" target="_blank" rel="external">官方配置手册</a>。</p>
</blockquote>
<p>到此，原来博客站点配置全部迁移完成，整个配置迁移遵循默认配置以新版本为准，自定义配置以老版本为准的原则。</p>
<h2 id="迁移原有博客文章及资源文件"><a href="#迁移原有博客文章及资源文件" class="headerlink" title="迁移原有博客文章及资源文件"></a>迁移原有博客文章及资源文件</h2><blockquote>
<p>拷贝原来博客文件及资源文件到新博客下。</p>
</blockquote>
<h2 id="部署博客到Github及Coding"><a href="#部署博客到Github及Coding" class="headerlink" title="部署博客到Github及Coding"></a>部署博客到<code>Github</code>及<code>Coding</code></h2><p>访问新版博客，基本效果和原来一样，如下图所示：<br><img src="http://o7xt53rmp.bkt.clouddn.com/9d018280d96e25f4/b5ab2060b62f459c8bb4e9c1e3c8b210.png" alt="9d018280d96e25f4/b5ab2060b62f459c8bb4e9c1e3c8b210.png"></p>
<p>但是有以下几个问题：</p>
<ul>
<li>国内IP可以正常访问，国外IP无法正常访问<strong>404 There isn’t a GitHub Pages site here.</strong>异常如下：</li>
</ul>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/9d018280d96e25f4/5cc5631257f04475a298970c9a9c760b.png" alt="9d018280d96e25f4/5cc5631257f04475a298970c9a9c760b.png"></p>
<ul>
<li><p>Algolia关键字搜索正常，但是点击搜索结果跳转链接为<code>http://www.itechq.com/undefined</code></p>
</li>
<li><p>NexT主题设置<code>highlight_theme是</code>属性后，代码高亮无效</p>
</li>
</ul>
<h2 id="解决问题"><a href="#解决问题" class="headerlink" title="解决问题"></a>解决问题</h2><h3 id="国外IP无法访问问题"><a href="#国外IP无法访问问题" class="headerlink" title="国外IP无法访问问题"></a>国外IP无法访问问题</h3><p>我的博客同时托管<code>Github</code>和<code>Coding</code>两个平台，国内IP访问解析到<code>Coding</code>平台，国外IP访问解析到<code>Github</code>平台，Github平台访问报404是因为github pages需要一个CNAME文件来解析自定义域名，因此新建一个<code>CNAME</code>文件到<code>source</code>目录下，<code>CNAME</code>文件内容如下:<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">itechq</span><span class="selector-class">.com</span></div></pre></td></tr></table></figure></p>
<p>重新生成博客部署，国内、国外IP都能正常访问，问题解决。</p>
<h3 id="Algolia搜索结果链接出现undefined问题"><a href="#Algolia搜索结果链接出现undefined问题" class="headerlink" title="Algolia搜索结果链接出现undefined问题"></a>Algolia搜索结果链接出现<code>undefined</code>问题</h3><p>该问题原因是<code>hexo-algolia</code>默认下载的版本是<code>0.1.0</code>，该版本没有把<code>post.path</code>进行<code>index</code>，所以<code>data.path</code>是<code>undefined</code>。通过如下步骤解决：</p>
<ul>
<li><p>安装<code>0.2.0</code>版本的<code>hexo-algolia</code></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">npm</span> <span class="selector-tag">install</span> <span class="selector-tag">hexo-algolia</span>@<span class="keyword">0</span>.<span class="keyword">2</span>.<span class="keyword">0</span> --save</div></pre></td></tr></table></figure>
</li>
<li><p>找到站点目录下<code>package.json</code>，把<code>hexo-algolia</code> 版本改为<code>^0.2.0</code></p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">"hexo-algolia"</span>: <span class="string">"^0.2.0"</span>,</div></pre></td></tr></table></figure>
</li>
</ul>
<p>重新生成博客部署，搜索结果访问正常。<a href="https://github.com/iissnan/hexo-theme-next/issues/1084" target="_blank" rel="external">参考链接</a>。</p>
<h3 id="代码无法高亮问题"><a href="#代码无法高亮问题" class="headerlink" title="代码无法高亮问题"></a>代码无法高亮问题</h3><p>该问题原有是因为升级到新版本Hexo后，代码高亮默认是不做自动检测，从而导致失效。解决方法是修改你的站点配置文件，将 hilight.auto_detect 设置为 true：<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="attr">highlight:</span></div><div class="line"><span class="attr">  enable:</span> <span class="literal">true</span></div><div class="line"><span class="attr">  line_number:</span> <span class="literal">true</span></div><div class="line"><span class="attr">  auto_detect:</span> <span class="literal">true</span></div><div class="line"><span class="attr">  tab_replace:</span></div></pre></td></tr></table></figure></p>
<p>到此，整个博客升级完成。但是升级完成后，在构建博客时，构建时间很长，原来几秒钟构建完成，现在差不多要5分构建完成，目前没有找到原因，若哪位大神知道原因可告知一下。我的<code>package.json</code>文件内容如下：<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attr">"name"</span>: <span class="string">"hexo-site"</span>,</div><div class="line">  <span class="attr">"version"</span>: <span class="string">"0.0.0"</span>,</div><div class="line">  <span class="attr">"private"</span>: <span class="literal">true</span>,</div><div class="line">  <span class="attr">"hexo"</span>: &#123;</div><div class="line">    <span class="attr">"version"</span>: <span class="string">"3.2.2"</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">"dependencies"</span>: &#123;</div><div class="line">    <span class="attr">"hexo"</span>: <span class="string">"^3.2.0"</span>,</div><div class="line">    <span class="attr">"hexo-algolia"</span>: <span class="string">"^0.2.0"</span>,</div><div class="line">    <span class="attr">"hexo-clean-css"</span>: <span class="string">"0.0.2"</span>,</div><div class="line">    <span class="attr">"hexo-deployer-git"</span>: <span class="string">"^0.2.0"</span>,</div><div class="line">    <span class="attr">"hexo-generator-archive"</span>: <span class="string">"^0.1.4"</span>,</div><div class="line">    <span class="attr">"hexo-generator-baidu-sitemap"</span>: <span class="string">"^0.1.2"</span>,</div><div class="line">    <span class="attr">"hexo-generator-category"</span>: <span class="string">"^0.1.3"</span>,</div><div class="line">    <span class="attr">"hexo-generator-feed"</span>: <span class="string">"^1.2.0"</span>,</div><div class="line">    <span class="attr">"hexo-generator-index"</span>: <span class="string">"^0.2.0"</span>,</div><div class="line">    <span class="attr">"hexo-generator-seo-friendly-sitemap"</span>: <span class="string">"0.0.20"</span>,</div><div class="line">    <span class="attr">"hexo-generator-sitemap"</span>: <span class="string">"^1.1.2"</span>,</div><div class="line">    <span class="attr">"hexo-generator-tag"</span>: <span class="string">"^0.2.0"</span>,</div><div class="line">    <span class="attr">"hexo-html-minifier"</span>: <span class="string">"0.0.1"</span>,</div><div class="line">    <span class="attr">"hexo-renderer-ejs"</span>: <span class="string">"^0.2.0"</span>,</div><div class="line">    <span class="attr">"hexo-renderer-marked"</span>: <span class="string">"^0.2.11"</span>,</div><div class="line">    <span class="attr">"hexo-renderer-stylus"</span>: <span class="string">"^0.3.1"</span>,</div><div class="line">    <span class="attr">"hexo-server"</span>: <span class="string">"^0.2.0"</span>,</div><div class="line">    <span class="attr">"hexo-uglify"</span>: <span class="string">"0.0.3"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;用&lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;搭建博客差不多一年了，使用&lt;a href=&quot;https://github.com/iissnan/hexo-theme-next&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;NexT&lt;/a&gt;主题，文章没写几篇，2017争取每周至少写一篇博客。今天对博客空间做了一次版本升级，由于原来初次配置博客时，&lt;code&gt;站点配置文件&lt;/code&gt;及&lt;code&gt;主题配置文件&lt;/code&gt;没有分离，当时还修改了&lt;code&gt;NexT&lt;/code&gt;主题部分源码，所以本次升级基本上是重新安装了一遍。&lt;/p&gt;
&lt;h1 id=&quot;升级目标&quot;&gt;&lt;a href=&quot;#升级目标&quot; class=&quot;headerlink&quot; title=&quot;升级目标&quot;&gt;&lt;/a&gt;升级目标&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;Hexo版本由&lt;code&gt;3.2.0&lt;/code&gt;升到&lt;code&gt;3.2.2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;NexT版本由&lt;code&gt;5.0.0&lt;/code&gt;升到&lt;code&gt;5.1.0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;主题配置文件分离（便于以后主题升级）&lt;/li&gt;
&lt;li&gt;集成&lt;a href=&quot;https://www.algolia.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Algolia&lt;/a&gt;搜索引擎&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="notes" scheme="http://www.itechq.com/categories/notes/"/>
    
    
      <category term="Hexo" scheme="http://www.itechq.com/tags/Hexo/"/>
    
      <category term="NexT" scheme="http://www.itechq.com/tags/NexT/"/>
    
  </entry>
  
  <entry>
    <title>Hadoop目录结构介绍</title>
    <link href="http://www.itechq.com/blog/2ea45a2f.html"/>
    <id>http://www.itechq.com/blog/2ea45a2f.html</id>
    <published>2016-09-02T14:35:13.000Z</published>
    <updated>2017-03-23T13:18:59.462Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p><strong>本文基于Hadoop2.7.3版本编写！</strong></p>
</blockquote>
<h2 id="Hadoop-Dist目录结构"><a href="#Hadoop-Dist目录结构" class="headerlink" title="Hadoop Dist目录结构"></a>Hadoop Dist目录结构</h2><p><img src="http://o7xt53rmp.bkt.clouddn.com/4dc361f2732f2382/a856a1f204654a10b2186794a88239db.png" alt="4dc361f2732f2382/a856a1f204654a10b2186794a88239db.png"></p>
<a id="more"></a>
<ul>
<li><p><strong>bin</strong></p>
<p>  Hadoop基本管理脚本和使用脚本所在目录，是sbin目录下管理脚本的基础实现。可直接使用这些脚本管理及使用Hadoop。</p>
</li>
<li><p><strong>etc</strong></p>
<p>  Hadoop配置文件所在目录，包括<code>core-site.xml</code>、<code>hdfs-site.xml</code>、<code>yarn-site.xml</code>等。</p>
</li>
<li><p><strong>include</strong></p>
<p>  对外提供的编程库头文件，这些头文件均是用C++定义，通常用于C++程序访问HDFS或者编写MapReduce程序。</p>
</li>
<li><p><strong>lib</strong></p>
<p>  提供Hadoop对外的编程动态库和静态库，与include目录的头文件结合使用。</p>
</li>
<li><p><strong>libexec</strong></p>
<p>  服务器对应的shell配置文件所在目录，可用于配置日志输出目录、启动参数（如JVM参数）等基本信息。</p>
</li>
<li><p><strong>sbin</strong></p>
<p>  Hadoop管理脚本所在目录，主要包括HDFS和YARN中各类服务的启动和关闭脚本。</p>
</li>
<li><p><strong>share</strong></p>
<p>  Hadoop各个模块编译后jar文件及doc文档所在目录。</p>
</li>
</ul>
<h2 id="源码导入eclipse"><a href="#源码导入eclipse" class="headerlink" title="源码导入eclipse"></a>源码导入eclipse</h2><h3 id="编辑源码根目录下pom-xml文件"><a href="#编辑源码根目录下pom-xml文件" class="headerlink" title="编辑源码根目录下pom.xml文件"></a>编辑源码根目录下<code>pom.xml</code>文件</h3><ul>
<li><p>注释<code>&lt;repositories&gt;</code>节点内<code>Snapshots</code>源，添加<code>Staging</code>源</p>
<p>  避免maven从<code>https://repository.apache.org/content/repositories/snapshots</code>下载依赖包，导致很多依赖文件下载不到。</p>
</li>
</ul>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="xml"><span class="tag">&lt;<span class="name">repository</span>&gt;</span></span></div><div class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>$<span class="template-variable">&#123;distMgmtStagingId&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">id</span>&gt;</span></span></div><div class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>$<span class="template-variable">&#123;distMgmtStagingName&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">name</span>&gt;</span></span></div><div class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>$<span class="template-variable">&#123;distMgmtStagingUrl&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">url</span>&gt;</span></span></div><div class="line"><span class="tag">&lt;/<span class="name">repository</span></span></div></pre></td></tr></table></figure>
<pre><code>如下图所示：
</code></pre><p><img src="http://o7xt53rmp.bkt.clouddn.com/493e0c0dbe75ec2d/ba82d8b2e57b461eb2e3b065f91a2fa9.png" alt="493e0c0dbe75ec2d/ba82d8b2e57b461eb2e3b065f91a2fa9.png"></p>
<ul>
<li><p>修改<code>&lt;properties&gt;</code>节点内<code>distMgmtStagingUrl</code>值</p>
<p>  将<code>https://repository.apache.org/service/local/staging/deploy/maven2</code>修改为<code>http://repo2.maven.org/maven2/</code>，解决需要登录Apache私服授权问题。</p>
<p>  <img src="http://o7xt53rmp.bkt.clouddn.com/493e0c0dbe75ec2d/91339230af68463b8a84952c3c5b3ec8.png" alt="493e0c0dbe75ec2d/91339230af68463b8a84952c3c5b3ec8.png"></p>
</li>
</ul>
<h3 id="下载并配置ProtocolBuffer"><a href="#下载并配置ProtocolBuffer" class="headerlink" title="下载并配置ProtocolBuffer"></a>下载并配置<a href="https://github.com/google/protobuf" target="_blank" rel="external">ProtocolBuffer</a></h3><ul>
<li><p>下载<a href="https://github.com/google/protobuf/releases/download/v2.5.0/protoc-2.5.0-win32.zip" target="_blank" rel="external">ProtocolBuffer 2.5.0</a></p>
</li>
<li><p>解压ProtocolBuffer到<code>[HADOOP_SRC_HOME]目录</code>，并将<code>protoc.exe</code>加入<code>PATH</code>环境变量</p>
</li>
<li><p>验证是否配置成功，命令行输入<code>protoc</code>，出现以下信息代表配置成功</p>
</li>
</ul>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">C</span>:\Users\Jason&gt;protoc</div><div class="line"><span class="keyword">Missing</span> input file.</div></pre></td></tr></table></figure>
<p>该配置主要解决如下错误提示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">[ERROR] Failed to <span class="keyword">execute</span> goal org.apache.hadoop:hadoop-maven-plugins:<span class="number">2.7</span><span class="number">.3</span>:protoc (compile-protoc) <span class="keyword">on</span> <span class="keyword">project</span>  did <span class="keyword">not</span> <span class="keyword">return</span> a <span class="keyword">version</span> -&gt; [<span class="keyword">Help</span> <span class="number">1</span>]</div><div class="line">[<span class="keyword">ERROR</span>]</div><div class="line">[<span class="keyword">ERROR</span>] <span class="keyword">To</span> see the <span class="keyword">full</span> stack <span class="keyword">trace</span> <span class="keyword">of</span> the <span class="keyword">errors</span>, re-run Maven <span class="keyword">with</span> the -e switch.</div><div class="line">[<span class="keyword">ERROR</span>] Re-run Maven <span class="keyword">using</span> the -X <span class="keyword">switch</span> <span class="keyword">to</span> <span class="keyword">enable</span> <span class="keyword">full</span> debug logging.</div><div class="line">[<span class="keyword">ERROR</span>]</div><div class="line">[<span class="keyword">ERROR</span>] <span class="keyword">For</span> more information about the <span class="keyword">errors</span> <span class="keyword">and</span> possible solutions, please <span class="keyword">read</span> the <span class="keyword">following</span> articles:</div><div class="line">[<span class="keyword">ERROR</span>] [<span class="keyword">Help</span> <span class="number">1</span>] <span class="keyword">http</span>://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException</div><div class="line">[<span class="keyword">ERROR</span>]</div><div class="line">[<span class="keyword">ERROR</span>] <span class="keyword">After</span> correcting the problems, you can <span class="keyword">resume</span> the <span class="keyword">build</span> <span class="keyword">with</span> the command</div><div class="line">[<span class="keyword">ERROR</span>]   mvn &lt;goals&gt; -rf :hadoop-common</div></pre></td></tr></table></figure>
<h3 id="转换工程并导入"><a href="#转换工程并导入" class="headerlink" title="转换工程并导入"></a>转换工程并导入</h3><p><code>cmd</code>进入源码目录，通过如下命令，首先安装Hadoop依赖插件，然后转换工程为eclipse工程。</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">cd</span> hadoop-maven-plugins</div><div class="line"><span class="keyword">mvn </span>install</div><div class="line"><span class="symbol">cd</span> ..</div><div class="line"><span class="keyword">mvn </span>eclipse:eclipse -DskipTests</div></pre></td></tr></table></figure>
<p>当出现以下提示时，表示转换成功。</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/493e0c0dbe75ec2d/583cc2006ac7430d8bdf65f4b55cb0a1.png" alt="493e0c0dbe75ec2d/583cc2006ac7430d8bdf65f4b55cb0a1.png"></p>
<p>转换完成后，通过Eclipse导入工程即可。</p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;本文基于Hadoop2.7.3版本编写！&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;Hadoop-Dist目录结构&quot;&gt;&lt;a href=&quot;#Hadoop-Dist目录结构&quot; class=&quot;headerlink&quot; title=&quot;Hadoop Dist目录结构&quot;&gt;&lt;/a&gt;Hadoop Dist目录结构&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;http://o7xt53rmp.bkt.clouddn.com/4dc361f2732f2382/a856a1f204654a10b2186794a88239db.png&quot; alt=&quot;4dc361f2732f2382/a856a1f204654a10b2186794a88239db.png&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="program" scheme="http://www.itechq.com/categories/program/"/>
    
    
      <category term="Hadoop" scheme="http://www.itechq.com/tags/Hadoop/"/>
    
  </entry>
  
  <entry>
    <title>CentOS7编译Hadoop 2.7.3</title>
    <link href="http://www.itechq.com/blog/925c2851.html"/>
    <id>http://www.itechq.com/blog/925c2851.html</id>
    <published>2016-09-01T13:36:22.000Z</published>
    <updated>2017-03-23T13:18:59.462Z</updated>
    
    <content type="html"><![CDATA[<h2 id="编译环境"><a href="#编译环境" class="headerlink" title="编译环境"></a>编译环境</h2><ul>
<li>CentOS Linux release 7.2.1511 (Core) </li>
<li>Hadoop 2.7.3</li>
<li>JDK 1.7.0_80</li>
</ul>
<h2 id="编译准备"><a href="#编译准备" class="headerlink" title="编译准备"></a>编译准备</h2><p>本文参考Hadoop源码中官方编译文档<code>BUILDING.txt</code>编写。</p>
<a id="more"></a>
<h3 id="安装Maven"><a href="#安装Maven" class="headerlink" title="安装Maven"></a>安装Maven</h3><ul>
<li>安装命令</li>
</ul>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum -y <span class="keyword">install</span> maven</div></pre></td></tr></table></figure>
<ul>
<li>检查命令</li>
</ul>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm -<span class="selector-tag">q</span> maven</div></pre></td></tr></table></figure>
<h3 id="安装依赖包"><a href="#安装依赖包" class="headerlink" title="安装依赖包"></a>安装依赖包</h3><ul>
<li>安装命令</li>
</ul>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum -y <span class="keyword">install </span><span class="keyword">build-essential </span>autoconf automake libtool cmake zlib1g-dev pkg-<span class="built_in">config</span> libssl-dev</div></pre></td></tr></table></figure>
<ul>
<li>检查命令</li>
</ul>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm -q <span class="keyword">build-essential </span>autoconf automake libtool cmake zlib1g-dev pkg-<span class="built_in">config</span> libssl-dev</div></pre></td></tr></table></figure>
<p><strong>注意:</strong></p>
<p>执行安装命令后，会出现以下提示信息：</p>
<blockquote>
<p><strong>No package build-essential available.</strong><br>Package autoconf-2.69-11.el7.noarch already installed and latest version<br>Package automake-1.13.4-3.el7.noarch already installed and latest version<br>Package libtool-2.4.2-21.el7_2.x86_64 already installed and latest version<br>Package cmake-2.8.11-5.el7.x86_64 already installed and latest version<br><strong>No package zlib1g-dev available.</strong><br><strong>No package pkg-config available.</strong><br><strong>No package libssl-dev available.</strong></p>
</blockquote>
<ul>
<li><code>No package build-essential available.</code>解决方案</li>
</ul>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">yum</span> groupinstall <span class="string">'Development Tools'</span></div></pre></td></tr></table></figure>
<ul>
<li><code>No package zlib1g-dev available.</code>解决方案</li>
</ul>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">yum <span class="keyword">install</span> zlib</div><div class="line">yum <span class="keyword">install</span> zlib-devel</div></pre></td></tr></table></figure>
<ul>
<li><code>No package pkg-config available.</code>解决方案</li>
</ul>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum <span class="keyword">install</span> pkgconfig</div></pre></td></tr></table></figure>
<ul>
<li><code>No package libssl-dev available.</code>解决方案</li>
</ul>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">yum <span class="keyword">install</span> openssl</div><div class="line">yum <span class="keyword">install</span> openssl-devel</div></pre></td></tr></table></figure>
<h3 id="安装ProtocolBuffer"><a href="#安装ProtocolBuffer" class="headerlink" title="安装ProtocolBuffer"></a>安装ProtocolBuffer</h3><ul>
<li>安装命令</li>
</ul>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum -y <span class="keyword">install</span> libprotobuf-dev protobuf-compiler</div></pre></td></tr></table></figure>
<ul>
<li>检查命令</li>
</ul>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rpm -<span class="selector-tag">q</span> libprotobuf-dev protobuf-compiler</div></pre></td></tr></table></figure>
<h3 id="安装Findbugs"><a href="#安装Findbugs" class="headerlink" title="安装Findbugs"></a>安装Findbugs</h3><ul>
<li>下载Findbugs</li>
</ul>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget http:<span class="regexp">//</span>kent.dl.sourceforge.net<span class="regexp">/project/</span>findbugs<span class="regexp">/findbugs/</span><span class="number">3.0</span>.<span class="number">1</span><span class="regexp">/findbugs-3.0.1.tar.gz</span></div></pre></td></tr></table></figure>
<ul>
<li>解压Findbugs到<code>/usr/share/findbugs</code>目录</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># 解压<span class="selector-tag">findbugs-3</span><span class="selector-class">.0</span><span class="selector-class">.1</span></div><div class="line"><span class="selector-tag">tar</span> <span class="selector-tag">-zxvf</span> <span class="selector-tag">findbugs-3</span><span class="selector-class">.0</span><span class="selector-class">.1</span><span class="selector-class">.tar</span><span class="selector-class">.gz</span></div><div class="line"></div><div class="line"># 重命名为<span class="selector-tag">findbugs</span></div><div class="line"><span class="selector-tag">mv</span> <span class="selector-tag">findbugs-3</span><span class="selector-class">.0</span><span class="selector-class">.1</span> <span class="selector-tag">findbugs</span></div></pre></td></tr></table></figure>
<ul>
<li>配置环境变量</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 编辑 ~/.bashrc文件</span></div><div class="line">vi ~/.bashrc</div><div class="line"></div><div class="line"><span class="comment"># 配置Findbugs环境变量</span></div><div class="line"><span class="built_in">export</span> FINDBUGS_HOME=/usr/share/findbugs</div><div class="line"><span class="built_in">export</span> PATH=<span class="variable">$FINDBUGS_HOME</span>/bin:<span class="variable">$PATH</span></div><div class="line"></div><div class="line"><span class="comment"># 编译.bashrc文件使其生效</span></div><div class="line"><span class="built_in">source</span> ~/.bashrc</div></pre></td></tr></table></figure>
<ul>
<li>检查是否安装成功</li>
</ul>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">findbug -<span class="built_in">version</span></div><div class="line"></div><div class="line"><span class="comment"># 输出以下结果表示安装成功</span></div><div class="line"><span class="number">3.0</span><span class="number">.1</span></div></pre></td></tr></table></figure>
<h2 id="开始编译"><a href="#开始编译" class="headerlink" title="开始编译"></a>开始编译</h2><figure class="highlight ada"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"># Create binary distribution without native code <span class="keyword">and</span> without documentation:</div><div class="line"></div><div class="line">$ mvn <span class="keyword">package</span> <span class="title">-Pd</span>ist -DskipTests -Dtar</div><div class="line"></div><div class="line"># Create binary distribution <span class="keyword">with</span> native code <span class="keyword">and</span> <span class="keyword">with</span> documentation:</div><div class="line"></div><div class="line">$ mvn <span class="keyword">package</span> <span class="title">-Pd</span>ist,native,docs -DskipTests -Dtar</div><div class="line"></div><div class="line"># Create source distribution:</div><div class="line"></div><div class="line">$ mvn <span class="keyword">package</span> <span class="title">-Psrc -DskipTests</span></div><div class="line"></div><div class="line"># Create source <span class="keyword">and</span> binary distributions <span class="keyword">with</span> native code <span class="keyword">and</span> documentation:</div><div class="line"></div><div class="line">$ mvn <span class="keyword">package</span> <span class="title">-Pd</span>ist,native,docs,src -DskipTests -Dtar</div><div class="line"></div><div class="line"># Create a local staging version <span class="keyword">of</span> the website (<span class="keyword">in</span> /tmp/hadoop-site)</div><div class="line"></div><div class="line">$ mvn clean site; mvn site:stage -DstagingDirectory=/tmp/hadoop-site</div></pre></td></tr></table></figure>
<p>编辑完成后，会在<code>[HADOOP_SOURCE_HOME]/hadoop-dist/target</code>目录生成相关发布包，如下图所示：</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/493e0c0dbe75ec2d/ca77fa67656f46818ead75716102d1df.png" alt="493e0c0dbe75ec2d/ca77fa67656f46818ead75716102d1df.png"></p>
<h2 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h2><h3 id="Failed-to-execute-goal-org-apache-maven-plugins-maven-antrun-plugin-1-7"><a href="#Failed-to-execute-goal-org-apache-maven-plugins-maven-antrun-plugin-1-7" class="headerlink" title="Failed to execute goal org.apache.maven.plugins:maven-antrun-plugin:1.7"></a>Failed to execute goal org.apache.maven.plugins:maven-antrun-plugin:1.7</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">[ERROR] Failed to <span class="keyword">execute</span> goal org.apache.maven.plugins:maven-antrun-<span class="keyword">plugin</span>:<span class="number">1.7</span>:run (make) <span class="keyword">on</span> <span class="keyword">project</span> hadoop-common: An Ant BuildException has occured: exec returned: <span class="number">1</span></div><div class="line">[<span class="keyword">ERROR</span>] around Ant part ...&lt;exec dir=<span class="string">"/opt/software/hadoop-2.7.3-src/hadoop-common-project/hadoop-common/target/native"</span> executable=<span class="string">"cmake"</span> failonerror=<span class="string">"true"</span>&gt;... @ <span class="number">4</span>:<span class="number">134</span> <span class="keyword">in</span> /opt/software/hadoop<span class="number">-2.7</span><span class="number">.3</span>-src/hadoop-common-<span class="keyword">project</span>/hadoop-common/target/antrun/<span class="keyword">build</span>-main.xml</div><div class="line">[<span class="keyword">ERROR</span>] -&gt; [<span class="keyword">Help</span> <span class="number">1</span>]</div><div class="line">[<span class="keyword">ERROR</span>] </div><div class="line">[<span class="keyword">ERROR</span>] <span class="keyword">To</span> see the <span class="keyword">full</span> stack <span class="keyword">trace</span> <span class="keyword">of</span> the <span class="keyword">errors</span>, re-run Maven <span class="keyword">with</span> the -e switch. </div><div class="line">[<span class="keyword">ERROR</span>] Re-run Maven <span class="keyword">using</span> the -X <span class="keyword">switch</span> <span class="keyword">to</span> <span class="keyword">enable</span> <span class="keyword">full</span> debug logging. </div><div class="line">[<span class="keyword">ERROR</span>] </div><div class="line">[<span class="keyword">ERROR</span>] <span class="keyword">For</span> more information about the <span class="keyword">errors</span> <span class="keyword">and</span> possible solutions, please <span class="keyword">read</span> the <span class="keyword">following</span> articles: </div><div class="line">[<span class="keyword">ERROR</span>] [<span class="keyword">Help</span> <span class="number">1</span>] <span class="keyword">http</span>://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException </div><div class="line">[<span class="keyword">ERROR</span>]  </div><div class="line">[<span class="keyword">ERROR</span>] <span class="keyword">After</span> correcting the problems, you can <span class="keyword">resume</span> the <span class="keyword">build</span> <span class="keyword">with</span> the command </div><div class="line">[<span class="keyword">ERROR</span>]   mvn &lt;goals&gt; -rf :hadoop-common</div></pre></td></tr></table></figure>
<ul>
<li>问题原因</li>
</ul>
<p>缺少<code>zlib1g-dev</code>、<code>libssl-dev</code>依赖库</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;编译环境&quot;&gt;&lt;a href=&quot;#编译环境&quot; class=&quot;headerlink&quot; title=&quot;编译环境&quot;&gt;&lt;/a&gt;编译环境&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;CentOS Linux release 7.2.1511 (Core) &lt;/li&gt;
&lt;li&gt;Hadoop 2.7.3&lt;/li&gt;
&lt;li&gt;JDK 1.7.0_80&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;编译准备&quot;&gt;&lt;a href=&quot;#编译准备&quot; class=&quot;headerlink&quot; title=&quot;编译准备&quot;&gt;&lt;/a&gt;编译准备&lt;/h2&gt;&lt;p&gt;本文参考Hadoop源码中官方编译文档&lt;code&gt;BUILDING.txt&lt;/code&gt;编写。&lt;/p&gt;
    
    </summary>
    
      <category term="program" scheme="http://www.itechq.com/categories/program/"/>
    
    
      <category term="CentOS" scheme="http://www.itechq.com/tags/CentOS/"/>
    
      <category term="Hadoop" scheme="http://www.itechq.com/tags/Hadoop/"/>
    
  </entry>
  
  <entry>
    <title>CentOS7关闭默认防火墙</title>
    <link href="http://www.itechq.com/blog/3b551a.html"/>
    <id>http://www.itechq.com/blog/3b551a.html</id>
    <published>2016-08-28T11:08:28.000Z</published>
    <updated>2017-03-23T13:18:59.462Z</updated>
    
    <content type="html"><![CDATA[<p>CentOS 7 默认使用的是firewall防火墙，若想使用iptables需重新安装一下，步骤如下。</p>
<h2 id="关闭原有防火墙"><a href="#关闭原有防火墙" class="headerlink" title="关闭原有防火墙"></a>关闭原有防火墙</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 停止firewall</span></div><div class="line">systemctl stop firewalld.service </div><div class="line"></div><div class="line"><span class="comment"># 禁止开机启动firewall</span></div><div class="line">systemctl disable firewalld.service</div><div class="line"></div><div class="line">Removed symlink <span class="regexp">/etc/</span>systemd<span class="regexp">/system/</span>dbus-org.fedoraproject.FirewallD1.service.</div><div class="line">Removed symlink <span class="regexp">/etc/</span>systemd<span class="regexp">/system/</span>basic.target.wants<span class="regexp">/firewalld.service.</span></div></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="安装iptables-service"><a href="#安装iptables-service" class="headerlink" title="安装iptables service"></a>安装iptables service</h2><figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum -y <span class="keyword">install</span> iptables-services</div></pre></td></tr></table></figure>
<p>安装过程中会输出以下信息：<br><figure class="highlight subunit"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line">Loaded plugins: fastestmirror, langpacks</div><div class="line">Loading mirror speeds from cached hostfile</div><div class="line"> * base: centos.ustc.edu.cn</div><div class="line"> * extras: mirrors.163.com</div><div class="line"> * updates: mirrors.163.com</div><div class="line">Resolving Dependencies</div><div class="line">--&gt; Running transaction check</div><div class="line">---&gt; Package iptables-services.x86_64 0:1.4.21<span class="string">-16</span>.el7 will be installed</div><div class="line">--&gt; Finished Dependency Resolution</div><div class="line"></div><div class="line">Dependencies Resolved</div><div class="line"></div><div class="line">=======================================================================================================================================</div><div class="line"> Package                                Arch                        Version                            Repository                 Size</div><div class="line">=======================================================================================================================================</div><div class="line">Installing:</div><div class="line"> iptables-services                      x86_64                      1.4.21<span class="string">-16</span>.el7                      base                       50 k</div><div class="line"></div><div class="line">Transaction Summary</div><div class="line">=======================================================================================================================================</div><div class="line">Install  1 Package</div><div class="line"></div><div class="line">Total download size: 50 k</div><div class="line">Installed size: 24 k</div><div class="line">Downloading packages:</div><div class="line">warning: /var/cache/yum/x86_64/7/base/packages/iptables-services<span class="string">-1</span>.4.21<span class="string">-16</span>.el7.x86_64.rpm: Header V3 RSA/SHA256 Signature, key ID f4a80eb5: NOKEY</div><div class="line">Public key for iptables-services<span class="string">-1</span>.4.21<span class="string">-16</span>.el7.x86_64.rpm is not installed</div><div class="line">iptables-services<span class="string">-1</span>.4.21<span class="string">-16</span>.el7.x86_64.rpm                                                                      |  50 kB  00:00:00     </div><div class="line">Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS<span class="string">-7</span></div><div class="line">Importing GPG key 0xF4A80EB5:</div><div class="line"> Userid     : "CentOS<span class="string">-7</span> Key (CentOS 7 Official Signing Key) &lt;security@centos.org&gt;"</div><div class="line"> Fingerprint: 6341 ab27 53d7 8a78 a7c2 7bb1 24c6 a8a7 f4a8 0eb5</div><div class="line"> Package    : centos-release<span class="string">-7</span><span class="string">-2</span>.1511.el7.centos.2.10.x86_64 (@anaconda)</div><div class="line"> From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS<span class="string">-7</span></div><div class="line">Running transaction check</div><div class="line">Running transaction test</div><div class="line">Transaction test succeeded</div><div class="line">Running transaction</div><div class="line">Warning: RPMDB altered outside of yum.</div><div class="line">** Found 9 pre-existing rpmdb problem(s), 'yum check' output follows:</div><div class="line">icedtea-web<span class="string">-1</span>.6.1<span class="string">-4</span>.el7.x86_64 has missing requires of java<span class="string">-1</span>.8.0-openjdk</div><div class="line">jline<span class="string">-1</span>.0<span class="string">-8</span>.el7.noarch has missing requires of java &gt;= ('0', '1.5', None)</div><div class="line">jline<span class="string">-1</span>.0<span class="string">-8</span>.el7.noarch has missing requires of jpackage-utils</div><div class="line">1:libreoffice-core<span class="string">-4</span>.3.7.2<span class="string">-5</span>.el7.x86_64 has missing requires of java-headless &gt;= ('1', '1.6', None)</div><div class="line">1:libreoffice-ure<span class="string">-4</span>.3.7.2<span class="string">-5</span>.el7.x86_64 has missing requires of libjvm.so()(64bit)</div><div class="line">rhino<span class="string">-1</span>.7R4<span class="string">-5</span>.el7.noarch has missing requires of jpackage-utils</div><div class="line">rhino<span class="string">-1</span>.7R4<span class="string">-5</span>.el7.noarch has missing requires of jpackage-utils</div><div class="line">tagsoup<span class="string">-1</span>.2.1<span class="string">-8</span>.el7.noarch has missing requires of jpackage-utils</div><div class="line">tagsoup<span class="string">-1</span>.2.1<span class="string">-8</span>.el7.noarch has missing requires of jpackage-utils &gt;= ('0', '1.6', None)</div><div class="line">  Installing : iptables-services<span class="string">-1</span>.4.21<span class="string">-16</span>.el7.x86_64                                                                              1/1 </div><div class="line">  Verifying  : iptables-services<span class="string">-1</span>.4.21<span class="string">-16</span>.el7.x86_64                                                                              1/1 </div><div class="line"></div><div class="line">Installed:</div><div class="line">  iptables-services.x86_64 0:1.4.21<span class="string">-16</span>.el7                                                                                             </div><div class="line"></div><div class="line">Complete!</div></pre></td></tr></table></figure></p>
<h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><h3 id="查看防火墙状态"><a href="#查看防火墙状态" class="headerlink" title="查看防火墙状态"></a>查看防火墙状态</h3><figure class="highlight fortran"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># 推荐使用</div><div class="line">systemctl <span class="keyword">status</span> iptables.service</div><div class="line"></div><div class="line">service iptables <span class="keyword">status</span></div></pre></td></tr></table></figure>
<h3 id="停止防火墙"><a href="#停止防火墙" class="headerlink" title="停止防火墙"></a>停止防火墙</h3><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 推荐使用</span></div><div class="line">systemctl <span class="literal">stop</span> iptables.service</div><div class="line"></div><div class="line">service iptables <span class="literal">stop</span></div></pre></td></tr></table></figure>
<h3 id="启用防火墙"><a href="#启用防火墙" class="headerlink" title="启用防火墙"></a>启用防火墙</h3><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 推荐使用</span></div><div class="line">systemctl <span class="literal">start</span> iptables.service</div><div class="line"></div><div class="line">service iptables <span class="literal">start</span></div></pre></td></tr></table></figure>
<h3 id="重启防火墙"><a href="#重启防火墙" class="headerlink" title="重启防火墙"></a>重启防火墙</h3><figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># 推荐使用</div><div class="line">systemctl <span class="built_in">restart</span> iptables.service</div><div class="line"></div><div class="line">service iptables <span class="built_in">restart</span></div></pre></td></tr></table></figure>
<h3 id="禁用防火墙"><a href="#禁用防火墙" class="headerlink" title="禁用防火墙"></a>禁用防火墙</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 推荐使用</span></div><div class="line"><span class="attribute">systemctl</span> disable iptables.service</div><div class="line"></div><div class="line">chkconfig iptables <span class="literal">off</span></div></pre></td></tr></table></figure>
<h3 id="禁用后启用防火墙"><a href="#禁用后启用防火墙" class="headerlink" title="禁用后启用防火墙"></a>禁用后启用防火墙</h3><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 推荐使用</span></div><div class="line">systemctl enable iptables.service</div><div class="line"></div><div class="line">chkconfig iptables <span class="keyword">on</span></div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;CentOS 7 默认使用的是firewall防火墙，若想使用iptables需重新安装一下，步骤如下。&lt;/p&gt;
&lt;h2 id=&quot;关闭原有防火墙&quot;&gt;&lt;a href=&quot;#关闭原有防火墙&quot; class=&quot;headerlink&quot; title=&quot;关闭原有防火墙&quot;&gt;&lt;/a&gt;关闭原有防火墙&lt;/h2&gt;&lt;figure class=&quot;highlight awk&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 停止firewall&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;systemctl stop firewalld.service &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 禁止开机启动firewall&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;systemctl disable firewalld.service&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Removed symlink &lt;span class=&quot;regexp&quot;&gt;/etc/&lt;/span&gt;systemd&lt;span class=&quot;regexp&quot;&gt;/system/&lt;/span&gt;dbus-org.fedoraproject.FirewallD1.service.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Removed symlink &lt;span class=&quot;regexp&quot;&gt;/etc/&lt;/span&gt;systemd&lt;span class=&quot;regexp&quot;&gt;/system/&lt;/span&gt;basic.target.wants&lt;span class=&quot;regexp&quot;&gt;/firewalld.service.&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="technology" scheme="http://www.itechq.com/categories/technology/"/>
    
    
      <category term="CentOS" scheme="http://www.itechq.com/tags/CentOS/"/>
    
  </entry>
  
  <entry>
    <title>CentOS7安装Hadoop 2.7.3</title>
    <link href="http://www.itechq.com/blog/62634ead.html"/>
    <id>http://www.itechq.com/blog/62634ead.html</id>
    <published>2016-08-27T07:52:34.000Z</published>
    <updated>2017-03-23T13:18:59.462Z</updated>
    
    <content type="html"><![CDATA[<h2 id="软硬件环境"><a href="#软硬件环境" class="headerlink" title="软硬件环境"></a>软硬件环境</h2><ul>
<li>虚拟机软件：Oracle VM VirtualBox</li>
<li>操作系统：CentOS7</li>
<li>JDK：1.7</li>
<li>Hadoop：2.7.3</li>
</ul>
<h2 id="网络架构"><a href="#网络架构" class="headerlink" title="网络架构"></a>网络架构</h2><p>本文在Windows10主机上通过<code>Oracle VM VirtualBox</code>搭建三个虚拟机，一个Master，两个Slave，具体网络环境如下图所示：</p>
<center><br><img src="http://o7xt53rmp.bkt.clouddn.com/a3c3916cd7d562c3/1edb1558fa114be8a7aead8c544dd4df.png" alt="a3c3916cd7d562c3/1edb1558fa114be8a7aead8c544dd4df.png"><br></center>

<a id="more"></a>
<h2 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h2><h3 id="主机名及IP配置"><a href="#主机名及IP配置" class="headerlink" title="主机名及IP配置"></a>主机名及IP配置</h3><ul>
<li><strong>修改主机名</strong></li>
</ul>
<p>编辑<code>vi /etc/hostname</code>文件，分别在对应的虚拟机中输入：<code>hd-master</code>,<code>hd-slave1</code>,<code>hd-slave2</code>,出现以下结果，表示修改成功.<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"># 在hd-master中输入`hostname`命令</div><div class="line">$ hostname</div><div class="line">hd-master</div><div class="line"></div><div class="line"># 在hd-slave1中输入`hostname`命令</div><div class="line">$ hostname</div><div class="line">hd-slave1</div><div class="line"></div><div class="line"># 在hd-slave2中输入`hostname`命令</div><div class="line">$ hostname</div><div class="line">hd-slave2</div></pre></td></tr></table></figure></p>
<ul>
<li><strong>配置<code>hosts</code>文件</strong></li>
</ul>
<p>分别在三台虚拟机中输入命令<code>vi /etc/hosts</code>，并都输入以下内容:<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">192<span class="selector-class">.168</span><span class="selector-class">.0</span><span class="selector-class">.121</span>   <span class="selector-tag">hd-master</span></div><div class="line">192<span class="selector-class">.168</span><span class="selector-class">.0</span><span class="selector-class">.122</span>   <span class="selector-tag">hd-slave1</span></div><div class="line">192<span class="selector-class">.168</span><span class="selector-class">.0</span><span class="selector-class">.123</span>   <span class="selector-tag">hd-slave2</span></div></pre></td></tr></table></figure></p>
<p>三台虚拟机能够互相通过<code>ping hd-master</code>,<code>ping hd-slave1</code>,<code>ping hd-slave2</code>连通代表配置成功。</p>
<h3 id="安装JDK"><a href="#安装JDK" class="headerlink" title="安装JDK"></a>安装JDK</h3><p>安装前使用命令<code>java -version</code>检查系统是否安装默认JDK版本，若有安装，请先卸载系统自带JDK，具体步骤参考另外一篇博客<a href="http://www.itechq.com/blog/technology/centos-unistall-openjdk-and-install-oraclejdk.html"><strong>CentOS 卸载OpenJDK，安装OracleJDK</strong></a>，然后在Oracle官网下载<a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html" target="_blank" rel="external"><strong>JDK 1.7</strong></a>版本,以安装<code>jdk-7u80-linux-x64.tar.gz</code>为例。</p>
<ul>
<li><p><strong>解压JDK到<code>/usr/lib/jvm</code>目录</strong></p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ mkdir -p /usr/<span class="class"><span class="keyword">lib</span>/<span class="title">jvm</span></span></div><div class="line">$ cd /usr/<span class="class"><span class="keyword">lib</span>/<span class="title">jvm</span>/</span></div><div class="line">$ tar -zxvf /home/hadoop/soft/jdk-<span class="number">7</span>u80-linux-x64.tar.gz</div><div class="line">$ mv jdk1.<span class="number">7.0_80</span> jdk</div></pre></td></tr></table></figure>
</li>
<li><p><strong>配置环境变量</strong></p>
</li>
</ul>
<p>为安全起见，只给<code>hadoop</code>用户设置环境变量。进入hadoop用户目录，编辑.bashrc文件（该文件为隐藏文件），可通过如下命令查看：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ll <span class="_">-a</span></div></pre></td></tr></table></figure>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/a3c3916cd7d562c3/14eba74ef5a140f9876200c76a982347.png" alt="a3c3916cd7d562c3/14eba74ef5a140f9876200c76a982347.png"></p>
<p>通过VI编辑<code>.bashrc</code>文件，输入命令<code>vi .bashrc</code>,在文件末尾输入如下内容：<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">export JAVA_HOME=<span class="regexp">/usr/lib</span><span class="regexp">/jvm/jdk</span></div><div class="line">export JRE_HOME=$JAVA_HOME/jre</div><div class="line">export PATH=$JAVA_HOME/<span class="symbol">bin:</span>$PATH</div><div class="line">export CLASSPATH=.$JAVA_HOME/<span class="class"><span class="keyword">lib</span>/<span class="title">dt</span>.<span class="title">jar</span>:$<span class="title">JAVA_HOME</span>/<span class="title">lib</span>/<span class="title">tool</span>.<span class="title">jar</span></span></div></pre></td></tr></table></figure></p>
<p>编译<code>.bashrc</code>文件，输入命令<code>source .bashrc</code>使其生效。</p>
<ul>
<li><strong>检查JDK是否安装成功</strong><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ <span class="keyword">java </span>-version</div><div class="line"></div><div class="line"><span class="keyword">java </span>version <span class="string">"1.7.0_80"</span></div><div class="line"><span class="keyword">Java(TM) </span>SE Runtime Environment (<span class="keyword">build </span><span class="number">1</span>.<span class="number">7</span>.<span class="number">0</span>_80-<span class="keyword">b15)</span></div><div class="line"><span class="keyword">Java </span>HotSpot(TM) <span class="number">64</span>-<span class="keyword">Bit </span>Server VM (<span class="keyword">build </span><span class="number">24</span>.<span class="number">80</span>-<span class="keyword">b11, </span>mixed mode)</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="配置SSH免密码登录"><a href="#配置SSH免密码登录" class="headerlink" title="配置SSH免密码登录"></a>配置SSH免密码登录</h3><ul>
<li><strong>启动SSH免密码登录设置</strong></li>
</ul>
<p>编辑<code>/etc/ssh/sshd_config</code>,去掉以下两行注释：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="selector-id">#RSAAuthentication</span> yes</div><div class="line"><span class="selector-id">#PubkeyAuthentication</span> yes</div></pre></td></tr></table></figure></p>
<ul>
<li><strong>生成公钥、私钥文件</strong></li>
</ul>
<p>输入命令<code>ssh-keygen -t rsa</code>，一直回车，完成后就会在<code>/home/hadoop/.ssh</code>文件夹，每台服务器都需要设置，如下图所示:</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/42fac93ac9d6def8/54b19d597ca041969e64a0ffeff63dd9.png" alt="42fac93ac9d6def8/54b19d597ca041969e64a0ffeff63dd9.png"></p>
<p>输入命令<code>ll ~/.ssh</code>，可看到如下文件：</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/42fac93ac9d6def8/410bafdd35da41578266e8ede5f266d8.png" alt="42fac93ac9d6def8/410bafdd35da41578266e8ede5f266d8.png"></p>
<ul>
<li><strong>合并公钥到authorized_keys文件</strong></li>
</ul>
<p>进入<code>hd-master</code>服务器<code>/home/hadoop/.ssh/</code>目录，通过ssh命令合并<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cat id_rsa.pub <span class="meta">&gt;&gt; </span>authorized_keys</div><div class="line">ssh hadoop@192.<span class="number">168.0</span>.<span class="number">122</span> cat ~<span class="regexp">/.ssh/id</span>_rsa.pub <span class="meta">&gt;&gt; </span>authorized_keys</div><div class="line">ssh hadoop@192.<span class="number">168.0</span>.<span class="number">123</span> cat ~<span class="regexp">/.ssh/id</span>_rsa.pub <span class="meta">&gt;&gt; </span>authorized_keys</div></pre></td></tr></table></figure></p>
<p>此时<code>hd-master</code>,<code>hd-slave1</code>,<code>hd-slave2</code>服务器的公钥文件都合并到<code>authorized_keys</code>文件之中，可通过<code>more authorized_keys</code>查看，该过程操作截图如下：</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/42fac93ac9d6def8/bf2a2e91e2dd422b97db7f0c58572c51.png" alt="42fac93ac9d6def8/bf2a2e91e2dd422b97db7f0c58572c51.png"></p>
<ul>
<li><strong>拷贝<code>authorized_keys</code>文件到<code>hd-slave1</code>,<code>hd-slave2</code>服务器</strong></li>
</ul>
<p>通过<code>scp</code>命令拷贝<code>authorized_keys</code>到<code>hd-slave1</code>,<code>hd-slave2</code>服务器<code>/home/hadoop/.ssh/</code>目录。</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">scp authorized_keys hadoop<span class="meta">@hd</span>-<span class="string">slave1:</span>~/.ssh</div><div class="line">scp authorized_keys hadoop<span class="meta">@hd</span>-<span class="string">slave2:</span>~/.ssh</div></pre></td></tr></table></figure>
<p>该过程操作截图如下：</p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/42fac93ac9d6def8/fda56ad3050648239e765aa043124d62.png" alt="42fac93ac9d6def8/fda56ad3050648239e765aa043124d62.png"></p>
<ul>
<li><strong>修改<code>authorized_keys</code>权限</strong></li>
</ul>
<p>分别修改<code>hd-master</code>,<code>hd-slave1</code>,<code>hd-slave2</code>服务器<code>authorized_keys</code>文件权限<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">chmod <span class="number">700</span> authorized_keys</div></pre></td></tr></table></figure></p>
<ul>
<li><strong>测试SSH免密码登录</strong></li>
</ul>
<p>进入<code>hd-master</code>,输入<code>ssh username@hostname</code>测试是否配置成功，如下图所示：<br><img src="http://o7xt53rmp.bkt.clouddn.com/42fac93ac9d6def8/72b347b1192d4d82a110627c4306fa18.png" alt="42fac93ac9d6def8/72b347b1192d4d82a110627c4306fa18.png"></p>
<h3 id="安装配置Hadoop"><a href="#安装配置Hadoop" class="headerlink" title="安装配置Hadoop"></a>安装配置Hadoop</h3><h4 id="下载Hadoop"><a href="#下载Hadoop" class="headerlink" title="下载Hadoop"></a>下载Hadoop</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget http:<span class="regexp">//mi</span>rrors.hust.edu.cn<span class="regexp">/apache/</span>hadoop<span class="regexp">/common/</span>hadoop-<span class="number">2.7</span>.<span class="number">3</span><span class="regexp">/hadoop-2.7.3.tar.gz</span></div></pre></td></tr></table></figure>
<h4 id="安装Hadoop"><a href="#安装Hadoop" class="headerlink" title="安装Hadoop"></a>安装Hadoop</h4><p>假设将hadoop相关软件都安装到<code>/usr/local</code>目录下，现在将<code>/usr/local</code>目录赋权给<code>hadoop</code>用户，使用如下命令</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">chown <span class="string">hadoop:</span>hadoop <span class="regexp">/usr/</span>local</div></pre></td></tr></table></figure>
<p><strong>解压<code>hadoop-2.7.3.tar.gz</code>并拷贝到<code>/usr/local</code>目录</strong>.<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">tar -zxvf hadoop<span class="number">-2.7</span><span class="number">.3</span>.tar.gz </div><div class="line">mv hadoop<span class="number">-2.7</span><span class="number">.3</span> /usr/local/hadoop</div></pre></td></tr></table></figure></p>
<h4 id="创建数据存放目录"><a href="#创建数据存放目录" class="headerlink" title="创建数据存放目录"></a>创建数据存放目录</h4><p>进入<code>/usr/local/hadoop</code>目录，创建<code>tmp</code>、<code>hdfs/data</code>、<code>hdfs/name</code>目录。<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">cd</span> /usr/<span class="keyword">local</span>/hadoop</div><div class="line"><span class="keyword">mkdir</span> tmp</div><div class="line"><span class="keyword">mkdir</span> -p hdfs/data hdfs/name</div></pre></td></tr></table></figure></p>
<h4 id="配置core-site-xml"><a href="#配置core-site-xml" class="headerlink" title="配置core-site.xml"></a>配置<code>core-site.xml</code></h4><p>进入<code>/usr/local/hadoop/etc/hadoop</code>编辑<code>core-site.xml</code>文件<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="params">&lt;property&gt;</span></div><div class="line">        <span class="params">&lt;name&gt;</span>hadoop.tmp.dir<span class="params">&lt;/name&gt;</span></div><div class="line">        <span class="params">&lt;value&gt;</span>file:<span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/hadoop/</span>tmp<span class="params">&lt;/value&gt;</span></div><div class="line"><span class="params">&lt;/property&gt;</span></div><div class="line"></div><div class="line"><span class="params">&lt;property&gt;</span></div><div class="line">        <span class="params">&lt;name&gt;</span>fs.defaultFS<span class="params">&lt;/name&gt;</span></div><div class="line">        <span class="params">&lt;value&gt;</span>hdfs:<span class="comment">//hd-master:9000&lt;/value&gt;</span></div><div class="line"><span class="params">&lt;/property&gt;</span></div><div class="line"></div><div class="line"><span class="params">&lt;property&gt;</span></div><div class="line">        <span class="params">&lt;name&gt;</span>io.file.buffer.size<span class="params">&lt;/name&gt;</span></div><div class="line">        <span class="params">&lt;value&gt;</span><span class="number">131702</span><span class="params">&lt;/value&gt;</span></div><div class="line"><span class="params">&lt;/property&gt;</span></div></pre></td></tr></table></figure></p>
<h4 id="配置hdfs-site-xml"><a href="#配置hdfs-site-xml" class="headerlink" title="配置hdfs-site.xml"></a>配置<code>hdfs-site.xml</code></h4><p>进入<code>/usr/local/hadoop/etc/hadoop</code>编辑<code>hdfs-site.xml</code>文件</p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="params">&lt;property&gt;</span></div><div class="line">        <span class="params">&lt;name&gt;</span>dfs.namenode.name.dir<span class="params">&lt;/name&gt;</span></div><div class="line">        <span class="params">&lt;value&gt;</span>file:<span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/hadoop/</span>hdfs/name<span class="params">&lt;/value&gt;</span></div><div class="line"><span class="params">&lt;/property&gt;</span></div><div class="line"></div><div class="line"><span class="params">&lt;property&gt;</span></div><div class="line">        <span class="params">&lt;name&gt;</span>dfs.datanode.data.dir<span class="params">&lt;/name&gt;</span></div><div class="line">        <span class="params">&lt;value&gt;</span>file:<span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/hadoop/</span>hdfs/data<span class="params">&lt;/value&gt;</span></div><div class="line"><span class="params">&lt;/property&gt;</span></div><div class="line"></div><div class="line"><span class="params">&lt;property&gt;</span></div><div class="line">        <span class="params">&lt;name&gt;</span>dfs.replication<span class="params">&lt;/name&gt;</span></div><div class="line">        <span class="params">&lt;value&gt;</span><span class="number">2</span><span class="params">&lt;/value&gt;</span></div><div class="line"><span class="params">&lt;/property&gt;</span></div><div class="line"></div><div class="line"><span class="params">&lt;property&gt;</span></div><div class="line">    	<span class="params">&lt;name&gt;</span>dfs.webhdfs.enabled<span class="params">&lt;/name&gt;</span></div><div class="line">    	<span class="params">&lt;value&gt;</span>true<span class="params">&lt;/value&gt;</span></div><div class="line"><span class="params">&lt;/property&gt;</span></div><div class="line"></div><div class="line"><span class="params">&lt;property&gt;</span></div><div class="line">        <span class="params">&lt;name&gt;</span>dfs.namenode.secondary.http-address<span class="params">&lt;/name&gt;</span></div><div class="line">        <span class="params">&lt;value&gt;</span>hd-master:<span class="number">9001</span><span class="params">&lt;/value&gt;</span></div><div class="line"><span class="params">&lt;/property&gt;</span></div></pre></td></tr></table></figure>
<h4 id="主机配置"><a href="#主机配置" class="headerlink" title="主机配置"></a>主机配置</h4><ul>
<li><strong>修改<code>/usr/local/hadoop/etc/hadoop/masters</code>文件</strong></li>
</ul>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hd-<span class="literal">master</span></div></pre></td></tr></table></figure>
<ul>
<li><strong>修改<code>/usr/local/hadoop/etc/hadoop/slaves</code>文件</strong></li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">hd-slave1</div><div class="line">hd-slave2</div></pre></td></tr></table></figure>
<h4 id="复制Hadoop到其他各个节点"><a href="#复制Hadoop到其他各个节点" class="headerlink" title="复制Hadoop到其他各个节点"></a>复制Hadoop到其他各个节点</h4><figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">scp -r /usr/<span class="keyword">local</span>/hadoop hd-slave1:/usr/<span class="keyword">local</span></div><div class="line">scp -r /usr/<span class="keyword">local</span>/hadoop hd-slave2:/usr/<span class="keyword">local</span></div></pre></td></tr></table></figure>
<p>到此，Hadoop安装及基本配置以及完成，下面就进行启动和验证基本功能。</p>
<h3 id="启动及验证Hadoop"><a href="#启动及验证Hadoop" class="headerlink" title="启动及验证Hadoop"></a>启动及验证Hadoop</h3><h4 id="格式化HDFS文件系统"><a href="#格式化HDFS文件系统" class="headerlink" title="格式化HDFS文件系统"></a>格式化HDFS文件系统</h4><p>在<code>hd-master</code>格式化HDFS文件系统，该动作只需执行一次即可</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">cd</span> /usr/<span class="keyword">local</span>/hadoop/bin</div><div class="line">hdfs namenode -<span class="keyword">format</span></div></pre></td></tr></table></figure>
<p>执行后控制台输出如下所示，看到<strong><code>Exiting with status 0</code></strong>表示格式化成功。</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div></pre></td><td class="code"><pre><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">19</span> INFO namenode.<span class="string">NameNode:</span> <span class="string">STARTUP_MSG:</span> </div><div class="line"><span class="comment">/************************************************************</span></div><div class="line">STARTUP_MSG: Starting NameNode</div><div class="line">STARTUP_MSG:   host = hd-master/192.168.0.121</div><div class="line">STARTUP_MSG:   args = [-format]</div><div class="line">STARTUP_MSG:   version = 2.7.3</div><div class="line">STARTUP_MSG:   classpath = /usr/local/hadoop/etc/hadoop……</div><div class="line">STARTUP_MSG:   build = https://git-wip-us.apache.org/repos/asf/hadoop.git -r baa91f7c6bc9cb92be5982de4719c1c8af91ccff; compiled by 'root' on 2016-08-18T01:41Z</div><div class="line">STARTUP_MSG:   java = 1.7.0_80</div><div class="line">************************************************************/</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">19</span> INFO namenode.<span class="string">NameNode:</span> registered UNIX signal handlers <span class="keyword">for</span> [TERM, HUP, INT]</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">19</span> INFO namenode.<span class="string">NameNode:</span> createNameNode [-format]</div><div class="line">Formatting using <span class="string">clusterid:</span> CID-d6400139<span class="number">-18</span>c9<span class="number">-4416</span><span class="number">-935</span>c<span class="number">-33</span>f8944b5efe</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO namenode.<span class="string">FSNamesystem:</span> No KeyProvider found.</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO namenode.<span class="string">FSNamesystem:</span> fsLock is <span class="string">fair:</span><span class="literal">true</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO blockmanagement.<span class="string">DatanodeManager:</span> dfs.block.invalidate.limit=<span class="number">1000</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO blockmanagement.<span class="string">DatanodeManager:</span> dfs.namenode.datanode.registration.ip-hostname-check=<span class="literal">true</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO blockmanagement.<span class="string">BlockManager:</span> dfs.namenode.startup.delay.block.deletion.sec is set to <span class="number">000</span>:<span class="number">00</span>:<span class="number">00</span>:<span class="number">00.000</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO blockmanagement.<span class="string">BlockManager:</span> The block deletion will start around <span class="number">2016</span> Aug <span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO util.<span class="string">GSet:</span> Computing capacity <span class="keyword">for</span> map BlocksMap</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO util.<span class="string">GSet:</span> VM type       = <span class="number">64</span>-bit</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO util.<span class="string">GSet:</span> <span class="number">2.0</span>% max memory <span class="number">966.7</span> MB = <span class="number">19.3</span> MB</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO util.<span class="string">GSet:</span> capacity      = <span class="number">2</span>^<span class="number">21</span> = <span class="number">2097152</span> entries</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO blockmanagement.<span class="string">BlockManager:</span> dfs.block.access.token.enable=<span class="literal">false</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO blockmanagement.<span class="string">BlockManager:</span> defaultReplication         = <span class="number">2</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO blockmanagement.<span class="string">BlockManager:</span> maxReplication             = <span class="number">512</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO blockmanagement.<span class="string">BlockManager:</span> minReplication             = <span class="number">1</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO blockmanagement.<span class="string">BlockManager:</span> maxReplicationStreams      = <span class="number">2</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO blockmanagement.<span class="string">BlockManager:</span> replicationRecheckInterval = <span class="number">3000</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO blockmanagement.<span class="string">BlockManager:</span> encryptDataTransfer        = <span class="literal">false</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO blockmanagement.<span class="string">BlockManager:</span> maxNumBlocksToLog          = <span class="number">1000</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO namenode.<span class="string">FSNamesystem:</span> fsOwner             = hadoop (<span class="string">auth:</span>SIMPLE)</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO namenode.<span class="string">FSNamesystem:</span> supergroup          = supergroup</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO namenode.<span class="string">FSNamesystem:</span> isPermissionEnabled = <span class="literal">true</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO namenode.<span class="string">FSNamesystem:</span> HA <span class="string">Enabled:</span> <span class="literal">false</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO namenode.<span class="string">FSNamesystem:</span> Append <span class="string">Enabled:</span> <span class="literal">true</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO util.<span class="string">GSet:</span> Computing capacity <span class="keyword">for</span> map INodeMap</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO util.<span class="string">GSet:</span> VM type       = <span class="number">64</span>-bit</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO util.<span class="string">GSet:</span> <span class="number">1.0</span>% max memory <span class="number">966.7</span> MB = <span class="number">9.7</span> MB</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO util.<span class="string">GSet:</span> capacity      = <span class="number">2</span>^<span class="number">20</span> = <span class="number">1048576</span> entries</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO namenode.<span class="string">FSDirectory:</span> ACLs enabled? false</div><div class="line">16/08/28 17:<span class="number">30</span>:<span class="number">21</span> INFO namenode.<span class="string">FSDirectory:</span> XAttrs enabled? true</div><div class="line">16/08/28 17:<span class="number">30</span>:<span class="number">21</span> INFO namenode.<span class="string">FSDirectory:</span> Maximum size of an <span class="string">xattr:</span> <span class="number">16384</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO namenode.<span class="string">NameNode:</span> Caching file names occuring more than <span class="number">10</span> times</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO util.<span class="string">GSet:</span> Computing capacity <span class="keyword">for</span> map cachedBlocks</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO util.<span class="string">GSet:</span> VM type       = <span class="number">64</span>-bit</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO util.<span class="string">GSet:</span> <span class="number">0.25</span>% max memory <span class="number">966.7</span> MB = <span class="number">2.4</span> MB</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO util.<span class="string">GSet:</span> capacity      = <span class="number">2</span>^<span class="number">18</span> = <span class="number">262144</span> entries</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO namenode.<span class="string">FSNamesystem:</span> dfs.namenode.safemode.threshold-pct = <span class="number">0.9990000128746033</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO namenode.<span class="string">FSNamesystem:</span> dfs.namenode.safemode.min.datanodes = <span class="number">0</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO namenode.<span class="string">FSNamesystem:</span> dfs.namenode.safemode.extension     = <span class="number">30000</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO metrics.<span class="string">TopMetrics:</span> NNTop <span class="string">conf:</span> dfs.namenode.top.window.num.buckets = <span class="number">10</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO metrics.<span class="string">TopMetrics:</span> NNTop <span class="string">conf:</span> dfs.namenode.top.num.users = <span class="number">10</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO metrics.<span class="string">TopMetrics:</span> NNTop <span class="string">conf:</span> dfs.namenode.top.windows.minutes = <span class="number">1</span>,<span class="number">5</span>,<span class="number">25</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO namenode.<span class="string">FSNamesystem:</span> Retry cache on namenode is enabled</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO namenode.<span class="string">FSNamesystem:</span> Retry cache will use <span class="number">0.03</span> of total heap and retry cache entry expiry time is <span class="number">600000</span> millis</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO util.<span class="string">GSet:</span> Computing capacity <span class="keyword">for</span> map NameNodeRetryCache</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO util.<span class="string">GSet:</span> VM type       = <span class="number">64</span>-bit</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO util.<span class="string">GSet:</span> <span class="number">0.029999999329447746</span>% max memory <span class="number">966.7</span> MB = <span class="number">297.0</span> KB</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">21</span> INFO util.<span class="string">GSet:</span> capacity      = <span class="number">2</span>^<span class="number">15</span> = <span class="number">32768</span> entries</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">22</span> INFO namenode.<span class="string">FSImage:</span> Allocated <span class="keyword">new</span> <span class="string">BlockPoolId:</span> BP<span class="number">-1205337113</span><span class="number">-192.168</span><span class="number">.0</span><span class="number">.121</span><span class="number">-1472376621912</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">22</span> INFO common.<span class="string">Storage:</span> Storage directory <span class="regexp">/usr/</span>local<span class="regexp">/hadoop/</span>hdfs/name has been successfully formatted.</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">22</span> INFO namenode.<span class="string">FSImageFormatProtobuf:</span> Saving image file <span class="regexp">/usr/</span>local<span class="regexp">/hadoop/</span>hdfs<span class="regexp">/name/</span>current/fsimage.ckpt_0000000000000000000 using no compression</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">22</span> INFO namenode.<span class="string">FSImageFormatProtobuf:</span> Image file <span class="regexp">/usr/</span>local<span class="regexp">/hadoop/</span>hdfs<span class="regexp">/name/</span>current/fsimage.ckpt_0000000000000000000 of size <span class="number">353</span> bytes saved <span class="keyword">in</span> <span class="number">0</span> seconds.</div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">22</span> INFO namenode.<span class="string">NNStorageRetentionManager:</span> Going to retain <span class="number">1</span> images with txid &gt;= <span class="number">0</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">22</span> INFO util.<span class="string">ExitUtil:</span> Exiting with status <span class="number">0</span></div><div class="line"><span class="number">16</span><span class="regexp">/08/</span><span class="number">28</span> <span class="number">17</span>:<span class="number">30</span>:<span class="number">22</span> INFO namenode.<span class="string">NameNode:</span> <span class="string">SHUTDOWN_MSG:</span> </div><div class="line"><span class="comment">/************************************************************</span></div><div class="line">SHUTDOWN_MSG: Shutting down NameNode at hd-master/192.168.0.121</div><div class="line">************************************************************/</div></pre></td></tr></table></figure>
<h4 id="启动Hadoop"><a href="#启动Hadoop" class="headerlink" title="启动Hadoop"></a>启动Hadoop</h4><p>进入<code>/usr/local/hadoop/sbin</code>目录下执行以下命令，建议关闭防火墙。</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">cd</span> /usr/<span class="keyword">local</span>/hadoop/sbin</div><div class="line">./start-dfs.<span class="keyword">sh</span></div><div class="line">./start-yarn.<span class="keyword">sh</span></div></pre></td></tr></table></figure>
<p>执行后控制台输出如下信息：<br><figure class="highlight delphi"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"># start-dfs.sh</div><div class="line">Starting namenodes <span class="keyword">on</span> [hd-master]</div><div class="line">hd-master: starting namenode, logging <span class="keyword">to</span> /usr/<span class="keyword">local</span>/hadoop/logs/hadoop-hadoop-namenode-hd-master.<span class="keyword">out</span></div><div class="line">hd-slave1: starting datanode, logging <span class="keyword">to</span> /usr/<span class="keyword">local</span>/hadoop/logs/hadoop-hadoop-datanode-hd-slave1.<span class="keyword">out</span></div><div class="line">hd-slave2: starting datanode, logging <span class="keyword">to</span> /usr/<span class="keyword">local</span>/hadoop/logs/hadoop-hadoop-datanode-hd-slave2.<span class="keyword">out</span></div><div class="line">Starting secondary namenodes [hd-master]</div><div class="line">hd-master: starting secondarynamenode, logging <span class="keyword">to</span> /usr/<span class="keyword">local</span>/hadoop/logs/hadoop-hadoop-secondarynamenode-hd-master.<span class="keyword">out</span></div><div class="line"></div><div class="line"># start-yarn.sh</div><div class="line">starting yarn daemons</div><div class="line">starting resourcemanager, logging <span class="keyword">to</span> /usr/<span class="keyword">local</span>/hadoop/logs/yarn-hadoop-resourcemanager-hd-master.<span class="keyword">out</span></div><div class="line">hd-slave1: starting nodemanager, logging <span class="keyword">to</span> /usr/<span class="keyword">local</span>/hadoop/logs/yarn-hadoop-nodemanager-hd-slave1.<span class="keyword">out</span></div><div class="line">hd-slave2: starting nodemanager, logging <span class="keyword">to</span> /usr/<span class="keyword">local</span>/hadoop/logs/yarn-hadoop-nodemanager-hd-slave2.<span class="keyword">out</span></div></pre></td></tr></table></figure></p>
<h4 id="验证是否启动成功"><a href="#验证是否启动成功" class="headerlink" title="验证是否启动成功"></a>验证是否启动成功</h4><ul>
<li>使用java的jps工具检查</li>
</ul>
<p>分别在<code>hd-master</code>,<code>hd-slave1</code>,<code>hd-slave2</code>服务器上输入<code>jps</code>命令：</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"># hd-master</div><div class="line">[hadoop@hd-master hadoop]$ jps</div><div class="line"><span class="number">12744</span> Jps</div><div class="line"><span class="number">12368</span> ResourceManager</div><div class="line"><span class="number">11983</span> NameNode</div><div class="line"><span class="number">12170</span> SecondaryNameNode</div><div class="line"></div><div class="line"># hd-slave1</div><div class="line">[hadoop@hd-slave1 hadoop]$ jps</div><div class="line"><span class="number">11052</span> NodeManager</div><div class="line"><span class="number">11254</span> Jps</div><div class="line"><span class="number">10931</span> DataNode</div><div class="line"></div><div class="line"># hd-slave2</div><div class="line">[hadoop@hd-slave2 hadoop]$ jps</div><div class="line"><span class="number">10663</span> DataNode</div><div class="line"><span class="number">11035</span> Jps</div><div class="line"><span class="number">10776</span> NodeManager</div></pre></td></tr></table></figure>
<ul>
<li>使用<code>./bin/hdfs dfsadmin -report</code>查看状态</li>
</ul>
<figure class="highlight elm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line">[hadoop@hd-master hadoop]$ ./bin/hdfs dfsadmin -re<span class="keyword">port</span></div><div class="line">Configured Capacity: 88624291840 (82.54 <span class="type">GB</span>)</div><div class="line">Present Capacity: 80397443072 (74.88 <span class="type">GB</span>)</div><div class="line">DFS Remaining: 80397434880 (74.88 <span class="type">GB</span>)</div><div class="line">DFS Used: 8192 (8 <span class="type">KB</span>)</div><div class="line">DFS Used%: 0.00%</div><div class="line">Under replicated blocks: 0</div><div class="line">Blocks with corrupt replicas: 0</div><div class="line">Missing blocks: 0</div><div class="line">Missing blocks (with replication factor 1): 0</div><div class="line"></div><div class="line"><span class="comment">-------------------------------------------------</span></div><div class="line">Live datanodes (2):</div><div class="line"></div><div class="line">Name: 192.168.0.123:50010 (hd-slave2)</div><div class="line">Hostname: hd-slave2</div><div class="line">Decommission Status : Normal</div><div class="line">Configured Capacity: 44312145920 (41.27 <span class="type">GB</span>)</div><div class="line">DFS Used: 4096 (4 <span class="type">KB</span>)</div><div class="line">Non DFS Used: 4113416192 (3.83 <span class="type">GB</span>)</div><div class="line">DFS Remaining: 40198725632 (37.44 <span class="type">GB</span>)</div><div class="line">DFS Used%: 0.00%</div><div class="line">DFS Remaining%: 90.72%</div><div class="line">Configured Cache Capacity: 0 (0 <span class="type">B</span>)</div><div class="line">Cache Used: 0 (0 <span class="type">B</span>)</div><div class="line">Cache Remaining: 0 (0 <span class="type">B</span>)</div><div class="line">Cache Used%: 100.00%</div><div class="line">Cache Remaining%: 0.00%</div><div class="line">Xceivers: 1</div><div class="line">Last contact: Sun Aug 28 18:19:42 CST 2016</div><div class="line"></div><div class="line"></div><div class="line">Name: 192.168.0.122:50010 (hd-slave1)</div><div class="line">Hostname: hd-slave1</div><div class="line">Decommission Status : Normal</div><div class="line">Configured Capacity: 44312145920 (41.27 <span class="type">GB</span>)</div><div class="line">DFS Used: 4096 (4 <span class="type">KB</span>)</div><div class="line">Non DFS Used: 4113432576 (3.83 <span class="type">GB</span>)</div><div class="line">DFS Remaining: 40198709248 (37.44 <span class="type">GB</span>)</div><div class="line">DFS Used%: 0.00%</div><div class="line">DFS Remaining%: 90.72%</div><div class="line">Configured Cache Capacity: 0 (0 <span class="type">B</span>)</div><div class="line">Cache Used: 0 (0 <span class="type">B</span>)</div><div class="line">Cache Remaining: 0 (0 <span class="type">B</span>)</div><div class="line">Cache Used%: 100.00%</div><div class="line">Cache Remaining%: 0.00%</div><div class="line">Xceivers: 1</div><div class="line">Last contact: Sun Aug 28 18:19:44 CST 2016</div></pre></td></tr></table></figure>
<h4 id="访问WEB管理页面"><a href="#访问WEB管理页面" class="headerlink" title="访问WEB管理页面"></a>访问WEB管理页面</h4><ul>
<li>访问Namenode页面</li>
</ul>
<p>浏览器输入：<code>http://192.168.0.121:50070/</code></p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/42fac93ac9d6def8/d4985a0b2cab4a26b460c7e5060a723a.png" alt="42fac93ac9d6def8/d4985a0b2cab4a26b460c7e5060a723a.png"></p>
<ul>
<li>访问Cluster页面</li>
</ul>
<p>浏览器输入：<code>http://192.168.0.121:8088/</code></p>
<p><img src="http://o7xt53rmp.bkt.clouddn.com/42fac93ac9d6def8/40221de82b004507b8e76f9ae37af31b.png" alt="42fac93ac9d6def8/40221de82b004507b8e76f9ae37af31b.png"></p>
<p>到此，Hadoop环境搭建完成。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;软硬件环境&quot;&gt;&lt;a href=&quot;#软硬件环境&quot; class=&quot;headerlink&quot; title=&quot;软硬件环境&quot;&gt;&lt;/a&gt;软硬件环境&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;虚拟机软件：Oracle VM VirtualBox&lt;/li&gt;
&lt;li&gt;操作系统：CentOS7&lt;/li&gt;
&lt;li&gt;JDK：1.7&lt;/li&gt;
&lt;li&gt;Hadoop：2.7.3&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;网络架构&quot;&gt;&lt;a href=&quot;#网络架构&quot; class=&quot;headerlink&quot; title=&quot;网络架构&quot;&gt;&lt;/a&gt;网络架构&lt;/h2&gt;&lt;p&gt;本文在Windows10主机上通过&lt;code&gt;Oracle VM VirtualBox&lt;/code&gt;搭建三个虚拟机，一个Master，两个Slave，具体网络环境如下图所示：&lt;/p&gt;
&lt;center&gt;&lt;br&gt;&lt;img src=&quot;http://o7xt53rmp.bkt.clouddn.com/a3c3916cd7d562c3/1edb1558fa114be8a7aead8c544dd4df.png&quot; alt=&quot;a3c3916cd7d562c3/1edb1558fa114be8a7aead8c544dd4df.png&quot;&gt;&lt;br&gt;&lt;/center&gt;
    
    </summary>
    
      <category term="program" scheme="http://www.itechq.com/categories/program/"/>
    
    
      <category term="CentOS" scheme="http://www.itechq.com/tags/CentOS/"/>
    
      <category term="Hadoop" scheme="http://www.itechq.com/tags/Hadoop/"/>
    
  </entry>
  
  <entry>
    <title>CentOS 卸载OpenJDK，安装OracleJDK</title>
    <link href="http://www.itechq.com/blog/5eaec430.html"/>
    <id>http://www.itechq.com/blog/5eaec430.html</id>
    <published>2016-06-24T05:58:05.000Z</published>
    <updated>2017-03-23T13:18:59.446Z</updated>
    
    <content type="html"><![CDATA[<p>CentOS系统自带OpenJDK，但是我们平时开发都是用OracleJDK，下面记录如何卸载OpenJDK，再安装OracleJDK，供以后查阅。</p>
<h1 id="卸载OpenJDK"><a href="#卸载OpenJDK" class="headerlink" title="卸载OpenJDK"></a>卸载OpenJDK</h1><h2 id="查看CentOS是否安装JDK"><a href="#查看CentOS是否安装JDK" class="headerlink" title="查看CentOS是否安装JDK"></a>查看CentOS是否安装JDK</h2><p>使用<code>java -version</code>命令，如下所示：<br><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ <span class="keyword">java </span>-version</div><div class="line">openjdk version <span class="string">"1.8.0_91"</span></div><div class="line">OpenJDK Runtime Environment (<span class="keyword">build </span><span class="number">1</span>.<span class="number">8</span>.<span class="number">0</span>_91-<span class="keyword">b14)</span></div><div class="line">OpenJDK Server VM (<span class="keyword">build </span><span class="number">25</span>.<span class="number">91</span>-<span class="keyword">b14, </span>mixed mode)</div></pre></td></tr></table></figure></p>
<a id="more"></a>
<h2 id="查看已经安装的JDK信息"><a href="#查看已经安装的JDK信息" class="headerlink" title="查看已经安装的JDK信息"></a>查看已经安装的JDK信息</h2><p>使用<code>rpm -qa | grep java</code>命令，如下所示：<br><figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ rpm -qa | grep java </div><div class="line">java-<span class="number">1.8</span>.0-openjdk-headless-<span class="number">1.8</span>.0.91-<span class="number">0.b14</span>.el6_7.i686</div><div class="line">tzdata-java-2016d-<span class="number">1.</span>el6.noarch</div><div class="line">java-<span class="number">1.8</span>.0-openjdk-<span class="number">1.8</span>.0.91-<span class="number">0.b14</span>.el6_7.i686</div><div class="line"></div><div class="line"># 其他命令：rpm -qa | grep jdk</div></pre></td></tr></table></figure></p>
<h2 id="卸载OpenJDK-1"><a href="#卸载OpenJDK-1" class="headerlink" title="卸载OpenJDK"></a>卸载OpenJDK</h2><p>使用<code>rpm -e --nodeps [java.xx]</code>，记得使用有权限用户，如下所示；<br><figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ rpm -e --nodeps java-<span class="number">1.8</span>.0-openjdk-headless-<span class="number">1.8</span>.0.91-<span class="number">0.b14</span>.el6_7.i686</div><div class="line">$ rpm -e --nodeps tzdata-java-2016d-<span class="number">1.</span>el6.noarch</div><div class="line">$ rpm -e --nodeps java-<span class="number">1.8</span>.0-openjdk-<span class="number">1.8</span>.0.91-<span class="number">0.b14</span>.el6_7.i686</div></pre></td></tr></table></figure></p>
<h2 id="检查是否卸载完成"><a href="#检查是否卸载完成" class="headerlink" title="检查是否卸载完成"></a>检查是否卸载完成</h2><p>使用<code>java -version</code>命令，如下所示；<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ java -<span class="built_in">version</span></div><div class="line">bash: java: <span class="keyword">command</span> <span class="title">not</span> <span class="title">found</span></div></pre></td></tr></table></figure></p>
<p>出现以上信息，表示卸载成功。</p>
<h1 id="安装Oracle-JDK"><a href="#安装Oracle-JDK" class="headerlink" title="安装Oracle JDK"></a>安装Oracle JDK</h1><h2 id="下载Oracle-JDK"><a href="#下载Oracle-JDK" class="headerlink" title="下载Oracle JDK"></a>下载Oracle JDK</h2><p>使用CentOS<code>wget</code>命令下载，虽然Oracle官方不允许直接下载JDK，但是我们可以获取下载地址后拷贝出来下载，授权后的下载地址<code>wget http://download.oracle.com/otn/java/jdk/7u80-b15/jdk-7u80-linux-i586.rpm?AuthParam=1466749556_f8c61ecf9ec04d793d7f28fc427ea6d7</code>，下载结果如下所示：</p>
<figure class="highlight dns"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">$ wget http://download.oracle.com/otn/java/jdk/<span class="number">7</span>u80-b15/jdk-<span class="number">7</span>u80-linux-i586.rpm?AuthParam=<span class="number">1466749556</span>_f8c61ecf9ec04d793d7f28fc427ea6d7</div><div class="line"></div><div class="line">--<span class="number">2016-06-24</span> <span class="number">14</span>:<span class="number">24</span>:<span class="number">26</span>--  http://download.oracle.com/otn/java/jdk/<span class="number">7</span>u80-b15/jdk-<span class="number">7</span>u80-linux-i586.rpm?AuthParam=<span class="number">1466749556</span>_f8c61ecf9ec04d793d7f28fc427ea6d7</div><div class="line">Resolving download.oracle.com... <span class="number">184.25.56.53</span>, <span class="number">184.25.56.42</span></div><div class="line">Connecting to download.oracle.com|<span class="number">184.25.56.53</span>|:<span class="number">80</span>... connected.</div><div class="line">HTTP request sent, awaiting response... <span class="number">200</span> OK</div><div class="line">Length: <span class="number">136775360</span> (<span class="number">130</span>M) [application/x-redhat-package-manager]</div><div class="line">Saving to: `jdk-<span class="number">7</span>u80-linux-i586.rpm?AuthParam=<span class="number">1466749556</span>_f8c61ecf9ec04d793d7f28fc427ea6d7'</div><div class="line"></div><div class="line"><span class="number">100</span>%[=============================================================================================&gt;] <span class="number">136,775</span>,<span class="number">360</span> <span class="number">16</span>.<span class="number">1</span>M/s   in <span class="number">7</span>.<span class="number">6</span>s    </div><div class="line"></div><div class="line"><span class="number">2016-06-24</span> <span class="number">14</span>:<span class="number">24</span>:<span class="number">34</span> (<span class="number">17</span>.<span class="number">2</span> MB/s) - `jdk-<span class="number">7</span>u80-linux-i586.rpm?AuthParam=<span class="number">1466749556</span>_f8c61ecf9ec04d793d7f28fc427ea6d7' saved [<span class="number">136775360</span>/<span class="number">136775360</span>]</div></pre></td></tr></table></figure>
<h2 id="重命名JDK"><a href="#重命名JDK" class="headerlink" title="重命名JDK"></a>重命名JDK</h2><p>由于下载后的JDK名字为<code>jdk-7u80-linux-i586.rpm?AuthParam=1466749556_f8c61ecf9ec04d793d7f28fc427ea6d7</code>，所以我们需要重命名一下，命令如下：<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">-- 重命名</div><div class="line">$ mv jdk<span class="number">-7</span>u80-linux-i586.rpm\?AuthParam\=<span class="number">1466749556</span>_f8c61ecf9ec04d793d7f28fc427ea6d7 jdk<span class="number">-7</span>u80-linux-i586.rpm</div><div class="line"></div><div class="line">-- 修改文件权限</div><div class="line">$ chmod <span class="number">777</span> jdk<span class="number">-7</span>u80-linux-i586.rpm</div></pre></td></tr></table></figure></p>
<h2 id="安装JDK"><a href="#安装JDK" class="headerlink" title="安装JDK"></a>安装JDK</h2><p>执行如下命令，选择<code>yes</code>直到安装完毕。<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">$ rpm -ivh jdk<span class="number">-7</span>u80-linux-i586.rpm </div><div class="line"></div><div class="line">Preparing...                ########################################### [<span class="number">100</span>%]</div><div class="line">   <span class="number">1</span>:jdk                    ########################################### [<span class="number">100</span>%]</div><div class="line">Unpacking JAR files...</div><div class="line">        rt.jar...</div><div class="line">        jsse.jar...</div><div class="line">        charsets.jar...</div><div class="line">        tools.jar...</div><div class="line">        localedata.jar...</div><div class="line">        jfxrt.jar...</div><div class="line">        plugin.jar...</div><div class="line">        javaws.jar...</div><div class="line">        deploy.jar...</div></pre></td></tr></table></figure></p>
<h2 id="检查是否安装成功"><a href="#检查是否安装成功" class="headerlink" title="检查是否安装成功"></a>检查是否安装成功</h2><p>使用<code>java -version</code>命令，如下所示：<br><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ <span class="keyword">java </span>-version</div><div class="line"><span class="keyword">java </span>version <span class="string">"1.7.0_80"</span></div><div class="line"><span class="keyword">Java(TM) </span>SE Runtime Environment (<span class="keyword">build </span><span class="number">1</span>.<span class="number">7</span>.<span class="number">0</span>_80-<span class="keyword">b15)</span></div><div class="line"><span class="keyword">Java </span>HotSpot(TM) Client VM (<span class="keyword">build </span><span class="number">24</span>.<span class="number">80</span>-<span class="keyword">b11, </span>mixed mode, <span class="keyword">sharing)</span></div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;CentOS系统自带OpenJDK，但是我们平时开发都是用OracleJDK，下面记录如何卸载OpenJDK，再安装OracleJDK，供以后查阅。&lt;/p&gt;
&lt;h1 id=&quot;卸载OpenJDK&quot;&gt;&lt;a href=&quot;#卸载OpenJDK&quot; class=&quot;headerlink&quot; title=&quot;卸载OpenJDK&quot;&gt;&lt;/a&gt;卸载OpenJDK&lt;/h1&gt;&lt;h2 id=&quot;查看CentOS是否安装JDK&quot;&gt;&lt;a href=&quot;#查看CentOS是否安装JDK&quot; class=&quot;headerlink&quot; title=&quot;查看CentOS是否安装JDK&quot;&gt;&lt;/a&gt;查看CentOS是否安装JDK&lt;/h2&gt;&lt;p&gt;使用&lt;code&gt;java -version&lt;/code&gt;命令，如下所示：&lt;br&gt;&lt;figure class=&quot;highlight mipsasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ &lt;span class=&quot;keyword&quot;&gt;java &lt;/span&gt;-version&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;openjdk version &lt;span class=&quot;string&quot;&gt;&quot;1.8.0_91&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;OpenJDK Runtime Environment (&lt;span class=&quot;keyword&quot;&gt;build &lt;/span&gt;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;_91-&lt;span class=&quot;keyword&quot;&gt;b14)&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;OpenJDK Server VM (&lt;span class=&quot;keyword&quot;&gt;build &lt;/span&gt;&lt;span class=&quot;number&quot;&gt;25&lt;/span&gt;.&lt;span class=&quot;number&quot;&gt;91&lt;/span&gt;-&lt;span class=&quot;keyword&quot;&gt;b14, &lt;/span&gt;mixed mode)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="technology" scheme="http://www.itechq.com/categories/technology/"/>
    
    
      <category term="CentOS" scheme="http://www.itechq.com/tags/CentOS/"/>
    
      <category term="JDK" scheme="http://www.itechq.com/tags/JDK/"/>
    
  </entry>
  
  <entry>
    <title>Windows根据端口号查找进程名</title>
    <link href="http://www.itechq.com/blog/d926d3ec.html"/>
    <id>http://www.itechq.com/blog/d926d3ec.html</id>
    <published>2016-06-12T12:54:49.000Z</published>
    <updated>2017-03-23T13:18:59.446Z</updated>
    
    <content type="html"><![CDATA[<p>有时候我们电脑装的很多程序都会监听同一个端口(如：80端口)，当某个程序真的想监听这个端口的时候，发现已经被占用，但是又不知道被哪个进程占用，通过以下几步可以通过端口号定位进程名。</p>
<p><strong>下面我通过查找<code>3306</code>端口为例！</strong></p>
<h2 id="根据端口号查找PID，命令如下："><a href="#根据端口号查找PID，命令如下：" class="headerlink" title="根据端口号查找PID，命令如下："></a>根据端口号查找PID，命令如下：</h2><figure class="highlight 1c"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">netstat -ano <span class="string">| findstr 3306</span></div></pre></td></tr></table></figure>
<h2 id="根据PID查找进程名，命令如下："><a href="#根据PID查找进程名，命令如下：" class="headerlink" title="根据PID查找进程名，命令如下："></a>根据PID查找进程名，命令如下：</h2><figure class="highlight 1c"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">tasklist <span class="string">| findstr 2292</span></div></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="操作截图"><a href="#操作截图" class="headerlink" title="操作截图"></a>操作截图</h2><p><img src="http://o7xt53rmp.bkt.clouddn.com/f4e86f4d857f9daf/8a348d24183b42dc8d01bc57df26d190.png" alt="f4e86f4d857f9daf/8a348d24183b42dc8d01bc57df26d190.png"></p>
<p><code>矩形框</code>表示端口所占进程PID，<code>椭圆</code>表示端口所占进程名</p>
<hr>
<p><code>natstat</code>中<code>ano</code>含义可通过帮助命令<code>netstat \</code>查看：<br><figure class="highlight haml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">C:\Users\Jason&gt;netstat \</div><div class="line"></div><div class="line">显示协议统计信息和当前 TCP/IP 网络连接。</div><div class="line"></div><div class="line">NETSTAT [-a] [-b] [-e] [-f] [-n] [-o] [-p proto] [-r] [-s] [-x] [-t] [interval]</div><div class="line"></div><div class="line">  -<span class="ruby">a            显示所有连接和侦听端口。</span></div><div class="line">  -<span class="ruby">b            显示在创建每个连接或侦听端口时涉及的</span></div><div class="line">                可执行程序。在某些情况下，已知可执行程序承载</div><div class="line">                多个独立的组件，这些情况下，</div><div class="line">                显示创建连接或侦听端口时</div><div class="line">                涉及的组件序列。在此情况下，可执行程序的</div><div class="line">                名称位于底部 [] 中，它调用的组件位于顶部，</div><div class="line">                直至达到 TCP/IP。注意，此选项</div><div class="line">                可能很耗时，并且在你没有足够</div><div class="line">                权限时可能失败。</div><div class="line">  -<span class="ruby">e            显示以太网统计信息。此选项可以与 -s 选项</span></div><div class="line">                结合使用。</div><div class="line">  -<span class="ruby">f            显示外部地址的完全限定</span></div><div class="line">                域名(FQDN)。</div><div class="line">  -<span class="ruby">n            以数字形式显示地址和端口号。</span></div><div class="line">  -<span class="ruby">o            显示拥有的与每个连接关联的进程 ID。</span></div><div class="line">  -<span class="ruby">p proto      显示 proto 指定的协议的连接；proto</span></div><div class="line">                可以是下列任何一个: TCP、UDP、TCPv6 或 UDPv6。如果与 -s</div><div class="line">                选项一起用来显示每个协议的统计信息，proto 可以是下列任何一个:</div><div class="line">                IP、IPv6、ICMP、ICMPv6、TCP、TCPv6、UDP 或 UDPv6。</div><div class="line">  -<span class="ruby">q            显示所有连接、侦听端口和绑定的</span></div><div class="line">                非侦听 TCP 端口。绑定的非侦听端口</div><div class="line">                 不一定与活动连接相关联。</div><div class="line">  -<span class="ruby">r            显示路由表。</span></div><div class="line">  -<span class="ruby">s            显示每个协议的统计信息。默认情况下，</span></div><div class="line">                显示 IP、IPv6、ICMP、ICMPv6、TCP、TCPv6、UDP 和 UDPv6 的统计信息;</div><div class="line">                -<span class="ruby">p 选项可用于指定默认的子网。</span></div><div class="line">  -<span class="ruby">t            显示当前连接卸载状态。</span></div><div class="line">  -<span class="ruby">x            显示 NetworkDirect 连接、侦听器和共享</span></div><div class="line">                终结点。</div><div class="line">  -<span class="ruby">y            显示所有连接的 TCP 连接模板。</span></div><div class="line">                无法与其他选项结合使用。</div><div class="line">  interval      重新显示选定的统计信息，各个显示间暂停的</div><div class="line">                间隔秒数。按 CTRL+C 停止重新显示</div><div class="line">                统计信息。如果省略，则 netstat 将打印当前的</div><div class="line">                配置信息一次。</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;有时候我们电脑装的很多程序都会监听同一个端口(如：80端口)，当某个程序真的想监听这个端口的时候，发现已经被占用，但是又不知道被哪个进程占用，通过以下几步可以通过端口号定位进程名。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;下面我通过查找&lt;code&gt;3306&lt;/code&gt;端口为例！&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;根据端口号查找PID，命令如下：&quot;&gt;&lt;a href=&quot;#根据端口号查找PID，命令如下：&quot; class=&quot;headerlink&quot; title=&quot;根据端口号查找PID，命令如下：&quot;&gt;&lt;/a&gt;根据端口号查找PID，命令如下：&lt;/h2&gt;&lt;figure class=&quot;highlight 1c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;netstat -ano &lt;span class=&quot;string&quot;&gt;| findstr 3306&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;根据PID查找进程名，命令如下：&quot;&gt;&lt;a href=&quot;#根据PID查找进程名，命令如下：&quot; class=&quot;headerlink&quot; title=&quot;根据PID查找进程名，命令如下：&quot;&gt;&lt;/a&gt;根据PID查找进程名，命令如下：&lt;/h2&gt;&lt;figure class=&quot;highlight 1c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;tasklist &lt;span class=&quot;string&quot;&gt;| findstr 2292&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="notes" scheme="http://www.itechq.com/categories/notes/"/>
    
    
      <category term="Windows" scheme="http://www.itechq.com/tags/Windows/"/>
    
  </entry>
  
  <entry>
    <title>Git常用命令整理</title>
    <link href="http://www.itechq.com/blog/d0c5e74e.html"/>
    <id>http://www.itechq.com/blog/d0c5e74e.html</id>
    <published>2016-06-11T02:58:00.000Z</published>
    <updated>2017-03-23T13:18:59.446Z</updated>
    
    <content type="html"><![CDATA[<p><em>本文参考<a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000" target="_blank" rel="external">廖雪峰Git教程</a>，根据个人使用情况整理完成。</em></p>
<h1 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h1><p><strong><font color="red">说明：以下配置都以Windows系统为例！</font></strong></p>
<h2 id="设置用户名、邮箱"><a href="#设置用户名、邮箱" class="headerlink" title="设置用户名、邮箱"></a>设置用户名、邮箱</h2><p>提交代码前，需要告诉git是谁提交，邮箱是什么，所以需要对git做基本配置。打开终端，执行如下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git config --global user.name &quot;你的名字或昵称&quot;</div><div class="line">git config --global user.email &quot;你的邮箱&quot;</div></pre></td></tr></table></figure>
<a id="more"></a>
<p>执行完以上命令后，会在<code>C:\Users\用户名\</code>目录下生成<code>.gitconfig</code>文件，内容如下：<br><img src="http://o7xt53rmp.bkt.clouddn.com/413f1ead748d968b/d52d1e0cc3c54325b871a523e0bfc153.png" alt="413f1ead748d968b/d52d1e0cc3c54325b871a523e0bfc153.png"></p>
<h2 id="SSH-Key密钥生成"><a href="#SSH-Key密钥生成" class="headerlink" title="SSH Key密钥生成"></a>SSH Key密钥生成</h2><p>以对接<a href="https://git.oschina.net/" target="_blank" rel="external">码云</a>为例，生成密钥，执行以下代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh-keygen -t rsa -C &quot;xxxxx@xxxxx.com&quot; # Creates a new ssh key using the provided email</div></pre></td></tr></table></figure></p>
<p>执行完以上命令后，会在<code>C:\Users\用户名\.ssh</code>目录下生成以下两个文件，如下图：<br><img src="http://o7xt53rmp.bkt.clouddn.com/413f1ead748d968b/7d0d685e6d6c4196a8bb3367e0e745d0.png" alt="413f1ead748d968b/7d0d685e6d6c4196a8bb3367e0e745d0.png"></p>
<p>然后将public key添加到Git@OSC <a href="http://git.oschina.net/keys" target="_blank" rel="external">http://git.oschina.net/keys</a>，添加后，在终端输入：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">ssh</span> <span class="selector-tag">-T</span> <span class="selector-tag">git</span>@<span class="keyword">git</span>.<span class="keyword">oschina</span>.<span class="keyword">net</span></div></pre></td></tr></table></figure></p>
<p>若返回如下信息，则表示添加成功。<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Welcome <span class="keyword">to</span> Git<span class="symbol">@OSC</span>, itechq!</div></pre></td></tr></table></figure></p>
<h2 id="查看配置信息"><a href="#查看配置信息" class="headerlink" title="查看配置信息"></a>查看配置信息</h2><p>要检查已有配置信息，可用<code>git config --list</code>：<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">$ git config --list</div><div class="line">core.<span class="attr">symlinks=false</span></div><div class="line">core.<span class="attr">autocrlf=true</span></div><div class="line">core.<span class="attr">fscache=true</span></div><div class="line">color.<span class="attr">diff=auto</span></div><div class="line">color.<span class="attr">status=auto</span></div><div class="line">color.<span class="attr">branch=auto</span></div><div class="line">color.<span class="attr">interactive=true</span></div><div class="line">help.<span class="attr">format=html</span></div><div class="line">http.<span class="attr">sslcainfo=D:/Program</span> Files/Git/mingw64/ssl/certs/ca-bundle.crt</div><div class="line">diff.astextplain.<span class="attr">textconv=astextplain</span></div><div class="line">rebase.<span class="attr">autosquash=true</span></div><div class="line">credential.<span class="attr">helper=manager</span></div><div class="line">user.<span class="attr">name=itechq</span></div><div class="line">user.<span class="attr">email=csch112@163.com</span></div></pre></td></tr></table></figure></p>
<h2 id="获取帮助"><a href="#获取帮助" class="headerlink" title="获取帮助"></a>获取帮助</h2><p>想查询某个命令如何使用，可使用如下命令<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git <span class="keyword">help</span> <span class="symbol">&lt;verb&gt;</span></div><div class="line">git <span class="symbol">&lt;verb&gt;</span> --<span class="keyword">help</span></div><div class="line">man git-<span class="symbol">&lt;verb&gt;</span></div></pre></td></tr></table></figure></p>
<h1 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h1><h2 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h2><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git init</span></div></pre></td></tr></table></figure>
<h2 id="克隆"><a href="#克隆" class="headerlink" title="克隆"></a>克隆</h2><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 克隆到远程仓库目录</span></div><div class="line">git <span class="keyword">clone</span> <span class="title">[url</span>]</div><div class="line"></div><div class="line"><span class="comment"># 克隆到指定目录</span></div><div class="line">git <span class="keyword">clone</span> <span class="title">[url</span>] [dir]</div></pre></td></tr></table></figure>
<h2 id="查看状态"><a href="#查看状态" class="headerlink" title="查看状态"></a>查看状态</h2><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git status</span></div></pre></td></tr></table></figure>
<h2 id="暂存更新"><a href="#暂存更新" class="headerlink" title="暂存更新"></a>暂存更新</h2><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 添加指定文件，支持*通配符</span></div><div class="line">git <span class="keyword">add</span><span class="bash"> [file]</span></div><div class="line"></div><div class="line"><span class="comment"># 添加所有文件</span></div><div class="line">git <span class="keyword">add</span><span class="bash"> -A</span></div></pre></td></tr></table></figure>
<h2 id="提交更新"><a href="#提交更新" class="headerlink" title="提交更新"></a>提交更新</h2><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git</span> commit -m <span class="string">"注释信息"</span></div></pre></td></tr></table></figure>
<h2 id="查看日志"><a href="#查看日志" class="headerlink" title="查看日志"></a>查看日志</h2><figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">$ git <span class="keyword">log</span></div><div class="line">commit <span class="number">4690</span>f5809f35fca65148232de41ba6b5f10221ba</div><div class="line">Author: itech<span class="string">q &lt;csch112@163.com&gt;</span></div><div class="line">Date:   Sat Jun <span class="number">11</span> <span class="number">00</span>:<span class="number">15</span>:<span class="number">57</span> <span class="number">2016</span> +080<span class="number">0</span></div><div class="line"></div><div class="line">    新增IDEA快捷键收录</div><div class="line"></div><div class="line">commit <span class="number">7985</span>f617f14d3793d6cded26364622688f0c245b</div><div class="line">Author: itech<span class="string">q &lt;csch112@163.com&gt;</span></div><div class="line">Date:   Sat Jun <span class="number">11</span> <span class="number">00</span>:<span class="number">07</span>:<span class="number">37</span> <span class="number">2016</span> +080<span class="number">0</span></div><div class="line"></div><div class="line">    修改搜索引擎为本地搜索</div><div class="line"></div><div class="line">commit <span class="number">8</span>c7f506faeb2c9d153c9bfba7e7729d96294f7b<span class="number">0</span></div><div class="line">Author: itech<span class="string">q &lt;csch112@163.com&gt;</span></div><div class="line">Date:   Fri Jun <span class="number">10</span> <span class="number">22</span>:<span class="number">52</span>:<span class="number">22</span> <span class="number">2016</span> +080<span class="number">0</span></div><div class="line"></div><div class="line">    优化七牛同步工具</div><div class="line"></div><div class="line">commit <span class="number">526885</span>e57db40c05c431ca129f739fc7d007bc1d</div><div class="line">Author: itech<span class="string">q &lt;csch112@163.com&gt;</span></div><div class="line">Date:   Fri Jun <span class="number">10</span> <span class="number">22</span>:<span class="number">33</span>:08 <span class="number">2016</span> +080<span class="number">0</span></div></pre></td></tr></table></figure>
<p>通常用<code>-p</code>选项展开显示每次提交的内容差异，用<code>-2</code>则仅显示最近的两次更新<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">$ git log -p -2</div><div class="line"><span class="keyword">commit</span> <span class="number">4690</span>f5809f35fca65148232de41ba6b5f10221ba</div><div class="line">Author: itechq &lt;csch112@<span class="number">163.</span>com&gt;</div><div class="line"><span class="built_in">Date</span>:   Sat Jun <span class="number">11</span> <span class="number">00</span>:<span class="number">15</span>:<span class="number">57</span> <span class="number">2016</span> +<span class="number">0800</span></div><div class="line"></div><div class="line">    新增IDEA快捷键收录</div><div class="line"></div><div class="line">diff <span class="comment">--git a/source/_posts/2016-06-11-intellij-idea-hotkey.md b/source/_posts/2016-06-11-intellij-idea-hotkey.md</span></div><div class="line"><span class="keyword">new</span> <span class="keyword">file</span> <span class="keyword">mode</span> <span class="number">100644</span></div><div class="line"><span class="keyword">index</span> <span class="number">0000000.</span><span class="number">.73</span>d034a</div><div class="line"><span class="comment">--- /dev/null</span></div><div class="line">+++ b/<span class="keyword">source</span>/_posts/<span class="number">2016</span><span class="number">-06</span><span class="number">-11</span>-intellij-idea-hotkey.md</div></pre></td></tr></table></figure></p>
<h2 id="版本回退"><a href="#版本回退" class="headerlink" title="版本回退"></a>版本回退</h2><p>首先通过<code>git log</code>命令查看版本库提交记录，即查看日志命令输出结果，若要回退版本，Git必须知道当前版本是哪个版本，在Git中，用<code>HEAD</code>表示当前版本，即最新提交的<code>4690f5809f35fca65148232de41ba6b5f10221ba</code>，上一个版本就是<code>HEAD^</code>，上上一个版本就是<code>HEAD^^</code>，依次类推，若往上很多版本（如100个），一般写成<code>HEAD~100</code>。</p>
<p>回退版本，使用如下命令：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">git <span class="keyword">reset</span> <span class="comment">--hard commit_id</span></div><div class="line"></div><div class="line"># 回退到上一版本</div><div class="line">git <span class="keyword">reset</span> <span class="comment">--hard HEAD^</span></div></pre></td></tr></table></figure></p>
<p>若又想回退到新版本，但是找不到<code>commit_id</code>了，可通过<code>git reflog</code>命令，该命令会记录每一次操作命令<br><figure class="highlight dust"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="xml">$ git reflog</span></div><div class="line">4690f58 HEAD@<span class="template-variable">&#123;0&#125;</span><span class="xml">: commit: 新增IDEA快捷键收录</span></div><div class="line">7985f61 HEAD@<span class="template-variable">&#123;1&#125;</span><span class="xml">: commit: 修改搜索引擎为本地搜索</span></div><div class="line">8c7f506 HEAD@<span class="template-variable">&#123;2&#125;</span><span class="xml">: commit: 优化七牛同步工具</span></div><div class="line">526885e HEAD@<span class="template-variable">&#123;3&#125;</span><span class="xml">: commit (initial): init project</span></div></pre></td></tr></table></figure></p>
<h2 id="撤销修改"><a href="#撤销修改" class="headerlink" title="撤销修改"></a>撤销修改</h2><p>如果想恢复工作区文件到上一个版本，可使用命令<code>git checkout -- file</code>来丢弃工作区修改：<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git checkout <span class="comment">-- readme.txt</span></div></pre></td></tr></table></figure></p>
<p>即把<code>readme.txt</code>文件在工作区的修改全部撤销，有两种情况：</p>
<ul>
<li><code>readme.txt</code>自修改后还没放到暂存区，现在撤销修改后回到和版本库状态一样</li>
<li><code>readme.txt</code>已放到暂存区后，又做了修改，现在撤销修改就回到添加到暂存区后的状态</li>
</ul>
<p><strong>注意：</strong><code>git checkout -- file</code>命令中的<code>--</code>很重要，若没有<code>--</code>，就变成<strong>切换到另一个分支</strong>命令</p>
<h2 id="撤销已暂存文件"><a href="#撤销已暂存文件" class="headerlink" title="撤销已暂存文件"></a>撤销已暂存文件</h2><p>若某个文件已经加入暂存区，现在想撤销掉，用以下命令：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="keyword">reset</span> <span class="keyword">HEAD</span> <span class="keyword">file</span></div></pre></td></tr></table></figure></p>
<h2 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h2><p>删除本地文件，使用如下命令：<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">rm</span> <span class="keyword">file</span></div></pre></td></tr></table></figure></p>
<ul>
<li><p>从Git库删除，使用如下操作命令：</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta"># 1.从版本库删除文件</span></div><div class="line">git rm file</div><div class="line"></div><div class="line"><span class="meta"># 2.提交删除</span></div><div class="line">git commit -m <span class="string">"注释信息"</span></div></pre></td></tr></table></figure>
</li>
<li><p>误删除，需要恢复文件，使用如下命令：</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git checkout <span class="comment">-- file</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="添加远程仓库"><a href="#添加远程仓库" class="headerlink" title="添加远程仓库"></a>添加远程仓库</h2><ul>
<li><p>关联远程仓管</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 将本地仓库与远程仓库关联</span></div><div class="line">git remote <span class="keyword">add</span><span class="bash"> origin git@git.oschina.net:itechq/hotch-hexo.git</span></div></pre></td></tr></table></figure>
</li>
<li><p>首次推送本地仓库到远程仓库</p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">push</span> -u <span class="built_in">origin</span> master</div></pre></td></tr></table></figure>
</li>
<li><p>再次推送本地仓库到远程仓库</p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">push</span> <span class="built_in">origin</span> master</div></pre></td></tr></table></figure></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;em&gt;本文参考&lt;a href=&quot;http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;廖雪峰Git教程&lt;/a&gt;，根据个人使用情况整理完成。&lt;/em&gt;&lt;/p&gt;
&lt;h1 id=&quot;基本配置&quot;&gt;&lt;a href=&quot;#基本配置&quot; class=&quot;headerlink&quot; title=&quot;基本配置&quot;&gt;&lt;/a&gt;基本配置&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;&lt;font color=&quot;red&quot;&gt;说明：以下配置都以Windows系统为例！&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;设置用户名、邮箱&quot;&gt;&lt;a href=&quot;#设置用户名、邮箱&quot; class=&quot;headerlink&quot; title=&quot;设置用户名、邮箱&quot;&gt;&lt;/a&gt;设置用户名、邮箱&lt;/h2&gt;&lt;p&gt;提交代码前，需要告诉git是谁提交，邮箱是什么，所以需要对git做基本配置。打开终端，执行如下命令：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;git config --global user.name &amp;quot;你的名字或昵称&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git config --global user.email &amp;quot;你的邮箱&amp;quot;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="technology" scheme="http://www.itechq.com/categories/technology/"/>
    
    
      <category term="Git" scheme="http://www.itechq.com/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>IntelliJ IDEA 快捷键收录</title>
    <link href="http://www.itechq.com/blog/1d17cbb4.html"/>
    <id>http://www.itechq.com/blog/1d17cbb4.html</id>
    <published>2016-06-10T16:12:02.000Z</published>
    <updated>2017-03-23T13:18:59.446Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Ctrl"><a href="#Ctrl" class="headerlink" title="Ctrl"></a>Ctrl</h2><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">Y</span> 删除行</div><div class="line"></div><div class="line"><span class="selector-tag">ctrl</span> + <span class="selector-tag">X</span> 剪切行</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">N</span> 查找类</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">R</span> 替换</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">O</span> 选择可覆盖/继承的方法</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">F</span> 当前代码中查找</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">J</span> 自动代码提示（提示的是自己定义的代码格式）</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">D</span> 复制行或是块(默认是这个意思)(但是我一般习惯改成专门复制行,不包括块,搜索Duplicate Lines)</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">P</span> 方法参数提示显示</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">W</span> 选中光标所在的单词 ，连续按会有其他效果 (相反的是Ctrl+Shift+W)</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">Q</span> 鼠标放在变量/类名/方法名等上面（也可以在提示补充的时候按），显示文档内容，同类似的功能还有一个<span class="selector-tag">Ctrl</span> + <span class="selector-tag">Shift</span> + <span class="selector-tag">I</span></div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">B</span> 快速打开光标处的类或方法（对于前端支持很好,比如可以直接通过<span class="selector-tag">class</span>的<span class="selector-tag">name</span>定位到<span class="selector-tag">css</span>的文件位置）(等同于ctrl+光标指向)</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">E</span> 最近打开的文件</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">U</span> 前往父类的方法/父类</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">K</span> <span class="selector-tag">VCS</span>提交项目</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">T</span> <span class="selector-tag">VCS</span>更新项目</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">G</span> 跳到指定行</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">H</span> 显示类层次图</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">F1</span> 显示错误</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">F3</span> 调转到所选中的词的下一个同名位置</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">F9</span> 编译</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> – <span class="selector-tag">F12</span> 当前编辑的文件中快速导航(可以直接键入字母，IntelliJ IDEA会筛选你输入的来匹配对应是否有的方法，来快速定位)(类似结构图)</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">F11</span> 弹出一个小框来指定式添加书签(可以对文件或文件夹起作用)</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">Tab</span> 编辑窗口切换 (如果在切换的过程又加按上delete,则是关闭对应选中的窗口)</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">delete</span> 删除光标后面的单词</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">home</span>/<span class="selector-tag">end</span> 跳到文件头文件尾</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">BackSpace</span> 删除光标前面的单词</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-attr">[ 或 ]</span> 移动光标到块的初/末括号地方</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + / 或 <span class="selector-tag">Ctrl</span>+<span class="selector-tag">Shift</span>+/ 注释（<span class="comment">// 或者/*…*/ ）</span></div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + <span class="selector-tag">1</span>，<span class="selector-tag">2</span>，<span class="selector-tag">3</span>，<span class="selector-tag">4</span>…. 快速定位到书签代码处(必须先Ctrl+Shift+<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>…添加书签)</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + 空格 代码补全提示(因为windows默认被输入法给占用了,可以自己更改下)</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + 小键盘+/<span class="selector-tag">-</span> 折叠/展开代码</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + 鼠标单击编辑窗口的文件标题	弹出该文件路径,可以通过这个打开文件所在地方(相当于Ctrl+alt+F12)</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + 方向左/右 光标跳到上/下个单词</div><div class="line"></div><div class="line"><span class="selector-tag">Ctrl</span> + 方向上/下 相当于你用鼠标滑滚轮(为了方便鼠标党)</div></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="Alt"><a href="#Alt" class="headerlink" title="Alt"></a>Alt</h2><figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">Alt</span> + <span class="number">1</span> 打开/关闭project选项卡 </div><div class="line"></div><div class="line"><span class="symbol">Alt</span> + `   `这个键是Tab上面那个，按下之后，如果项目有版本控制，则显示常用的版本控制命令</div><div class="line"></div><div class="line"><span class="symbol">Alt</span> + A 在SVN中把新创建的文件加入进来（自己添加，在<span class="keyword">Subversion类别）</span></div><div class="line"></div><div class="line"><span class="symbol">Alt</span> + Q 查看方法的声明(在左上角出现一个Tip层提示)，你无需滚动上去查看</div><div class="line"></div><div class="line"><span class="symbol">Alt</span> + <span class="built_in">F1</span> 弹出文件选择目标，这个很好用的</div><div class="line"></div><div class="line"><span class="symbol">Alt</span> + <span class="built_in">F2</span> 多个浏览器预览</div><div class="line"></div><div class="line"><span class="symbol">Alt</span> + <span class="built_in">F3</span> 选中文本，逐个往下查找相同文本，并高亮显示。</div><div class="line"></div><div class="line"><span class="symbol">Alt</span> + <span class="built_in">F7</span> 查看该方法/变量/类被调用的地方</div><div class="line"></div><div class="line"><span class="symbol">Alt</span> + F8 在debug的状态下，选中某些变量或是对象，按此快捷键弹出可输入变量、方法的调试框，指定查看该内容的debug情况</div><div class="line"></div><div class="line"><span class="symbol">Alt</span> + Home 跳到文件导航<span class="keyword">bar</span></div><div class="line"></div><div class="line"><span class="symbol">Alt</span> + Insert 生成代码(如<span class="meta">get</span>,set方法,构造函数等)</div><div class="line"></div><div class="line"><span class="symbol">Alt</span> + 方向键 左 或 方向键 右 切换当前打开的代码文件视图</div><div class="line"></div><div class="line"><span class="symbol">Alt</span> + 方向键 上 或 方向键 下 在方法间快速移动定位</div><div class="line"></div><div class="line"><span class="symbol">Alt</span> + 鼠标左键单击不放,拖动 可以直接方块区域选择（很有用）</div><div class="line"></div><div class="line"><span class="symbol">Alt</span> + 回车 快速修复(可以用来导入单个包)</div></pre></td></tr></table></figure>
<h2 id="Shift"><a href="#Shift" class="headerlink" title="Shift"></a>Shift</h2><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">Shift </span>+ F6 重构：重新命名</div><div class="line"></div><div class="line"><span class="keyword">Shift </span>+ F11 查看书签</div><div class="line"></div><div class="line"><span class="keyword">Shift </span>+ F10 Run(运行)当前程序，相当于点击run按钮</div><div class="line"></div><div class="line"><span class="keyword">Shift </span>+ F9   <span class="built_in">debug</span>当前程序，相当于点击<span class="built_in">debug</span>按钮</div><div class="line"></div><div class="line"><span class="keyword">Shift </span>+ end 选中从光标到end处</div><div class="line"></div><div class="line"><span class="keyword">Shift </span>+ home 选中从光标到home处</div><div class="line"></div><div class="line"><span class="keyword">Shift </span>+ Enter 光标所在行下空出一行，光标跳下</div><div class="line"></div><div class="line"><span class="keyword">Shift </span>+ 单击 可以关闭文件</div><div class="line"></div><div class="line"><span class="keyword">Shift </span>+ 滚轮 横向滚动轴滚动(非常强大)</div></pre></td></tr></table></figure>
<h2 id="Ctrl-Alt"><a href="#Ctrl-Alt" class="headerlink" title="Ctrl+Alt"></a>Ctrl+Alt</h2><figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">Ctrl</span> + Alt + W 关闭所有编辑的快捷键（自己添加，在close all）</div><div class="line"></div><div class="line"><span class="symbol">Ctrl</span> + Alt + O 优化导入的类和包</div><div class="line"></div><div class="line"><span class="symbol">Ctrl</span> + Alt + L 格式化代码</div><div class="line"></div><div class="line"><span class="symbol">Ctrl</span> + Alt + I 选中部分自动缩进行（有点类似格式化，但是只是整理行格式而已）</div><div class="line"></div><div class="line"><span class="symbol">Ctrl</span> + Alt + T 选中的地方代码环绕提示</div><div class="line"></div><div class="line"><span class="symbol">Ctrl</span> + Alt + <span class="keyword">B </span>跳到具体的实现方法，查找接口/抽象方法的具体实现很好用(相反行为的快捷键是Ctrl+<span class="keyword">b)</span></div><div class="line"></div><div class="line"><span class="symbol">Ctrl</span> + Alt + V 快速引进一个变量</div><div class="line"></div><div class="line"><span class="symbol">Ctrl</span> + Alt + <span class="built_in">F7</span> 寻找被该类或是变量被使用的地方，用弹出框的方式找出来，跟Alt+<span class="built_in">F7</span>效果一样，但是因为是弹出框，选中了一个位置就会消失。</div><div class="line"></div><div class="line"><span class="symbol">Ctrl</span> + Alt + Enter 光标所在行上空出一行，光标跳上</div><div class="line"></div><div class="line"><span class="symbol">Ctrl</span> + Alt + home 弹出跟当前文件有关联的文件目录(比如jsp里面有导入几个js和css,这些文件就是关联文件)</div><div class="line"></div><div class="line"><span class="symbol">Ctrl</span> + Alt + 方向左/右 退回/前进到上一个操作的地方</div><div class="line"></div><div class="line"><span class="symbol">Ctrl</span> + Alt + 方向上/下 在Find模式下，挑到上/下个查找的文件</div><div class="line"></div><div class="line"><span class="symbol">Ctrl</span> + Alt + 空格 类名或接口名提示(最常用的,一般敲入字母都会提示,但是如果你不小心esc了,可以再按这个出来)</div></pre></td></tr></table></figure>
<h2 id="Ctrl-Shift"><a href="#Ctrl-Shift" class="headerlink" title="Ctrl+Shift"></a>Ctrl+Shift</h2><figure class="highlight dos"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line">Ctrl + <span class="built_in">Shift</span> + F 查找文件（通过某个词，指定要搜索的文件类型，目录（跟myeclipse中的ctrl+H功能一样））</div><div class="line"></div><div class="line">Ctrl + <span class="built_in">Shift</span> + U // 大/小写都是这个快捷键</div><div class="line"></div><div class="line">Ctrl + <span class="built_in">Shift</span> + V 粘贴最近复制过的一些信息</div><div class="line"></div><div class="line">Ctrl + <span class="built_in">Shift</span> + Z ，取消撤销（恢复上一次操作）</div><div class="line"></div><div class="line">Ctrl + <span class="built_in">Shift</span> + T     如果在常规类下按它，弹出已写好的，可选择的对应Test类，如果在该Test类下按它，则直接回到源类。</div><div class="line"></div><div class="line">Ctrl + <span class="built_in">Shift</span> + C 复制当前文件磁盘路径到剪贴板</div><div class="line"></div><div class="line">Ctrl + <span class="built_in">Shift</span> + J 自动将下一行合并到当前行末尾</div><div class="line"></div><div class="line">Ctrl + <span class="built_in">Shift</span> + E 最近更改的文件</div><div class="line"></div><div class="line">Ctrl + <span class="built_in">Shift</span> + I  在方法名或是类名下(或是代码补充提示的时候也可以按，也可以在图片地址上按)，按此快捷键显示该方法或是类的源码结构，无需点击进去查看源码（当然了，必须是你已经导入源码的情况下才看得到） 类似Ctrl+Q</div><div class="line"></div><div class="line">Ctrl + <span class="built_in">Shift</span> + R 搜索指定范围文件，替换文字</div><div class="line"></div><div class="line">Ctrl + <span class="built_in">Shift</span> + N 通过输入文件名（可以输入部分名称，支持模糊）来定位文件</div><div class="line"></div><div class="line">Ctrl + <span class="built_in">Shift</span> + F12 编辑器全屏</div><div class="line"></div><div class="line">Ctrl + <span class="built_in">Shift</span> + F7 高亮显示所有该选中文本，按Esc高亮消失。(也可以在throws或是try..catch上面按此快捷键，比如在一个方法的throws单词上按这个快捷键，则会把哪些内部方法会抛异常的都显出来)</div><div class="line"></div><div class="line">Ctrl + <span class="built_in">Shift</span> + <span class="built_in">Del</span> 删除环绕的标签</div><div class="line"></div><div class="line">Ctrl + <span class="built_in">Shift</span> + <span class="number">1</span>，<span class="number">2</span>，<span class="number">3</span>… 快速添加书签</div><div class="line"></div><div class="line">Ctrl + <span class="built_in">Shift</span> + Space 自动补全代码（智能提示）</div><div class="line"></div><div class="line">Ctrl + <span class="built_in">Shift</span> + Enter 行末自动添加 ; 结束代码 ，如果是输入<span class="keyword">if</span>，按这个快捷键会自动帮你补充()&#123;&#125;</div><div class="line"></div><div class="line">Ctrl + <span class="built_in">Shift</span> + Enter 自动给末尾加;完成代码</div><div class="line"></div><div class="line">Ctrl + <span class="built_in">Shift</span> + Up 或 Down 移动光标所在statement域移动到上面/下面(<span class="number">13</span>版本会自动格式化)(如果光标放在方法名上 ， 是互换方法位置,如果是打开tool界面，且是竖直方向布局，则根据方向调整窗口大小)</div><div class="line"></div><div class="line">Ctrl + <span class="built_in">Shift</span> + Left 或 Right 打开tool界面，如果是横向布局，则根据左右方向调整窗口大小)</div><div class="line"></div><div class="line">Ctrl + <span class="built_in">Shift</span> + [ 或 ] 选中从光标所在位置到它的父级区域(界面上层导航可能更开)</div><div class="line"></div><div class="line">Ctrl + <span class="built_in">Shift</span> + 小键盘 + 或 – 折叠/展开所有代码</div><div class="line"></div><div class="line">Ctrl + <span class="built_in">Shift</span> + 空格 代码补全功能(最常用的,一般敲入字母都会提示,但是如果你不小心esc了,可以再按这个出来)</div><div class="line"></div><div class="line">Ctrl + <span class="built_in">Shift</span> + 方向左 或 右 选中临边左/右的单词或是符号</div><div class="line"></div><div class="line">Ctrl + <span class="built_in">Shift</span> + Backspace(退格)  回到上次修改的地方(跟Ctrl+Alt+左右方向键不一样的地方是，只回退到修改的地方，而不是过去光标放的地方)</div></pre></td></tr></table></figure>
<h2 id="Alt-Shift"><a href="#Alt-Shift" class="headerlink" title="Alt+Shift"></a>Alt+Shift</h2><figure class="highlight dos"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">Alt + <span class="built_in">Shift</span> + N 添加任务</div><div class="line"></div><div class="line">Alt + Shirt + F 添加到收藏夹</div><div class="line"></div><div class="line">Alt + <span class="built_in">Shift</span> + C 查看最近操作项目的变化情况列表(在版本控制下，显示比较缓慢)</div><div class="line"></div><div class="line">Alt + <span class="built_in">Shift</span> + F10  弹出run菜单，提供选择性run哪个(这个需要自己尝试下，按后会有弹出框，记得查看)</div><div class="line"></div><div class="line">Alt + <span class="built_in">Shift</span> + F9  弹出debug运行菜单，提供选择性debug哪个(这个需要自己尝试下，按后会有弹出框，记得查看)</div><div class="line"></div><div class="line">Alt + <span class="built_in">Shift</span> + 方向键 上 或 方向键 下 移动光标所在行到上/下</div></pre></td></tr></table></figure>
<h2 id="Ctrl-Shift-Alt"><a href="#Ctrl-Shift-Alt" class="headerlink" title="Ctrl+Shift+Alt"></a>Ctrl+Shift+Alt</h2><figure class="highlight leaf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Ctrl + Shift + Alt + V    简单黏贴</div><div class="line"></div><div class="line">Ctrl + Shift + Alt + N    查找类中的方法或变量</div><div class="line"></div><div class="line">Ctrl + Shift + Alt + C   复制参考信息，比如在某个方法名上按此快捷键，得到的内容是：org.jfree.data.general.DefaultPieDataset<span class="function"><span class="keyword">#</span><span class="title">setValue</span><span class="params">(<span class="variable">java</span>.<span class="variable">lang</span>.<span class="variable">Comparable</span>, <span class="variable">double</span>)</span></span>里面有包名，类名，方法名，方法变量</div></pre></td></tr></table></figure>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><figure class="highlight gauss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">F11 添加书签</div><div class="line"></div><div class="line">F4  光标放在哪里(即使是一个路径的URL的一小部分都可以)跳到这个路径下的位置,从IntelliJ IDEA的左侧web窗口打开</div><div class="line"></div><div class="line">F2 或 Shift+F2 高亮错误或警告快速定位(在代码有报错的情况下)</div><div class="line"></div><div class="line">代码标签输入完成后，按<span class="built_in">Tab</span>，生成代码。</div><div class="line"></div><div class="line">在Ctrl+F查找模式下，按F3下一个点</div><div class="line"></div><div class="line">在<span class="keyword">debug</span>模式下，F8下一步，F9下一个断点</div><div class="line"></div><div class="line">更改下移的快捷  搜索down</div><div class="line"></div><div class="line">Ctrl+鼠标单击编辑窗口的文件标题,弹出该文件路径,可以通过这个打开文件所在地方</div><div class="line"></div><div class="line">按<span class="built_in">TAB</span>+拖动代码标签，可以分开IntelliJ IDEA成多个</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Ctrl&quot;&gt;&lt;a href=&quot;#Ctrl&quot; class=&quot;headerlink&quot; title=&quot;Ctrl&quot;&gt;&lt;/a&gt;Ctrl&lt;/h2&gt;&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;66&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;67&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;68&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;69&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;Y&lt;/span&gt; 删除行&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;X&lt;/span&gt; 剪切行&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;N&lt;/span&gt; 查找类&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;R&lt;/span&gt; 替换&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;O&lt;/span&gt; 选择可覆盖/继承的方法&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;F&lt;/span&gt; 当前代码中查找&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;J&lt;/span&gt; 自动代码提示（提示的是自己定义的代码格式）&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;D&lt;/span&gt; 复制行或是块(默认是这个意思)(但是我一般习惯改成专门复制行,不包括块,搜索Duplicate Lines)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;P&lt;/span&gt; 方法参数提示显示&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;W&lt;/span&gt; 选中光标所在的单词 ，连续按会有其他效果 (相反的是Ctrl+Shift+W)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;Q&lt;/span&gt; 鼠标放在变量/类名/方法名等上面（也可以在提示补充的时候按），显示文档内容，同类似的功能还有一个&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;Shift&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;I&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;B&lt;/span&gt; 快速打开光标处的类或方法（对于前端支持很好,比如可以直接通过&lt;span class=&quot;selector-tag&quot;&gt;class&lt;/span&gt;的&lt;span class=&quot;selector-tag&quot;&gt;name&lt;/span&gt;定位到&lt;span class=&quot;selector-tag&quot;&gt;css&lt;/span&gt;的文件位置）(等同于ctrl+光标指向)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;E&lt;/span&gt; 最近打开的文件&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;U&lt;/span&gt; 前往父类的方法/父类&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;K&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;VCS&lt;/span&gt;提交项目&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;VCS&lt;/span&gt;更新项目&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;G&lt;/span&gt; 跳到指定行&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;H&lt;/span&gt; 显示类层次图&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;F1&lt;/span&gt; 显示错误&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;F3&lt;/span&gt; 调转到所选中的词的下一个同名位置&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;F9&lt;/span&gt; 编译&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; – &lt;span class=&quot;selector-tag&quot;&gt;F12&lt;/span&gt; 当前编辑的文件中快速导航(可以直接键入字母，IntelliJ IDEA会筛选你输入的来匹配对应是否有的方法，来快速定位)(类似结构图)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;F11&lt;/span&gt; 弹出一个小框来指定式添加书签(可以对文件或文件夹起作用)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;Tab&lt;/span&gt; 编辑窗口切换 (如果在切换的过程又加按上delete,则是关闭对应选中的窗口)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;delete&lt;/span&gt; 删除光标后面的单词&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;home&lt;/span&gt;/&lt;span class=&quot;selector-tag&quot;&gt;end&lt;/span&gt; 跳到文件头文件尾&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;BackSpace&lt;/span&gt; 删除光标前面的单词&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-attr&quot;&gt;[ 或 ]&lt;/span&gt; 移动光标到块的初/末括号地方&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + / 或 &lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt;+&lt;span class=&quot;selector-tag&quot;&gt;Shift&lt;/span&gt;+/ 注释（&lt;span class=&quot;comment&quot;&gt;// 或者/*…*/ ）&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + &lt;span class=&quot;selector-tag&quot;&gt;1&lt;/span&gt;，&lt;span class=&quot;selector-tag&quot;&gt;2&lt;/span&gt;，&lt;span class=&quot;selector-tag&quot;&gt;3&lt;/span&gt;，&lt;span class=&quot;selector-tag&quot;&gt;4&lt;/span&gt;…. 快速定位到书签代码处(必须先Ctrl+Shift+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;…添加书签)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + 空格 代码补全提示(因为windows默认被输入法给占用了,可以自己更改下)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + 小键盘+/&lt;span class=&quot;selector-tag&quot;&gt;-&lt;/span&gt; 折叠/展开代码&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + 鼠标单击编辑窗口的文件标题	弹出该文件路径,可以通过这个打开文件所在地方(相当于Ctrl+alt+F12)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + 方向左/右 光标跳到上/下个单词&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;Ctrl&lt;/span&gt; + 方向上/下 相当于你用鼠标滑滚轮(为了方便鼠标党)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="technology" scheme="http://www.itechq.com/categories/technology/"/>
    
    
      <category term="IntelliJ IDEA" scheme="http://www.itechq.com/tags/IntelliJ-IDEA/"/>
    
  </entry>
  
  <entry>
    <title>七牛云存储同步工具——为Markdown写作诞生</title>
    <link href="http://www.itechq.com/blog/ce61af59.html"/>
    <id>http://www.itechq.com/blog/ce61af59.html</id>
    <published>2016-06-09T04:34:11.000Z</published>
    <updated>2017-03-23T13:18:59.446Z</updated>
    
    <content type="html"><![CDATA[<h1 id="缘起"><a href="#缘起" class="headerlink" title="缘起"></a>缘起</h1><p>三年前买下<a href="http://www.itechq.com/"><code>www.itechq.com</code></a>这个域名，一直想折腾个自己的博客。由于种种原因，一直没有去折腾。随着国家的长城防火墙越来越厉害，免费翻墙变得越来越困难，从GoAgent到XX-Net，稳定性越来越差。今年年初，实在受不了了，就买了个搬瓦工的VPS（10G SSD，512M内存，一年19刀），自己搭建了一个<code>Shadowsocks Server</code>，每月1000G流量，手机、笔记本都通过它翻墙，目前还比较稳定（不要问我为啥不直接买个收费VPN，因为程序猿爱折腾）。VPN搞定后，发现VPS系统资源利用率很少，此时，又激发了自己的博客梦，从而走上了Wordpress、Hexo的折腾之路……</p>
<h1 id="为何开发"><a href="#为何开发" class="headerlink" title="为何开发"></a>为何开发</h1><p>刚开始博客空间是用WP搭建，花了差不多两周时间配置、修改主题代码，后来因为WP对Markdown支持太弱了，而且相对来说比较重，选择放弃，最后选择Hexo纯静态博客空间，托管到Github、Coding。之所以选择七牛作为存储，是因为在配置WP插件时用到<code>wpjam-qiniu</code>插件，可以将网站上的js、css、image等资源自动同步到七牛云，而Hexo没有此类插件。</p>
<p>后来在七牛官网看到官方同步工具<a href="http://developer.qiniu.com/code/v6/tool/qrsbox.html" target="_blank" rel="external">qrsbox</a>，虽然该工具能够同步image到七牛云，但是和自己想想的还是有一定差距，如：图片命名、存储目录、外链地址拷贝都比较麻烦。此时在简书上看到一篇文章<strong><a href="http://www.jianshu.com/p/6dce6094bf61" target="_blank" rel="external">如何使用七牛云做为图床？</a></strong>，看完后还是觉得步骤较为复杂，没有达到自己想要的效果，但它却触发了自己写个小工具的想法，于是开始构思工具包括哪些功能，最后确定如下功能：</p>
<ul>
<li>支持从剪切板获取图像上传；<strong>灵感来自 <a href="https://www.zybuluo.com/mdeditor" target="_blank" rel="external">作业部落 CMD Markdown</a>图片上传效果（一款很棒的Markdown编辑工具）</strong></li>
<li>支持本地图像上传；</li>
<li>支持从网络下载图像并上传；</li>
<li>图像上传后自动生成Markdown格式的图片引用标签；</li>
<li>支持删除已上传的图像；</li>
<li>支持系统托盘，类似QQ之类软件一样，双击打开。</li>
</ul>
<a id="more"></a>
<h1 id="开始编码"><a href="#开始编码" class="headerlink" title="开始编码"></a>开始编码</h1><p>由于博主目前对Java语言最熟，所以技术上只能选择Java，后续准备学习Python，开发一个Python版本的。</p>
<h2 id="七牛Java-SDK参考"><a href="#七牛Java-SDK参考" class="headerlink" title="七牛Java SDK参考"></a>七牛Java SDK参考</h2><p>参考官方文档，<a href="http://developer.qiniu.com/code/v7/sdk/java.html" target="_blank" rel="external">链接地址</a></p>
<h2 id="七牛同步代码"><a href="#七牛同步代码" class="headerlink" title="七牛同步代码"></a>七牛同步代码</h2><blockquote>
<p>主要实现七牛云图片上传、删除功能！</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QiNiuSync</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> Logger logger = LoggerFactory.getLogger(<span class="keyword">this</span>.getClass());</div><div class="line"></div><div class="line">    <span class="comment">// 外链地址</span></div><div class="line">    <span class="keyword">private</span> String outerLinkAddr = <span class="keyword">null</span>;</div><div class="line">    <span class="comment">// 授权信息</span></div><div class="line">    <span class="keyword">private</span> String ACCESS_KEY = <span class="keyword">null</span>;</div><div class="line">    <span class="keyword">private</span> String SECRET_KEY = <span class="keyword">null</span>;</div><div class="line">    <span class="comment">//要上传的空间</span></div><div class="line">    <span class="keyword">private</span> String bucketName = <span class="keyword">null</span>;</div><div class="line"></div><div class="line">    <span class="comment">//密钥配置</span></div><div class="line">    <span class="keyword">private</span> Auth auth = <span class="keyword">null</span>;</div><div class="line"></div><div class="line">    <span class="comment">//创建上传对象</span></div><div class="line">    <span class="keyword">private</span> UploadManager uploadManager;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">QiNiuSync</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (outerLinkAddr == <span class="keyword">null</span>) &#123;</div><div class="line">            outerLinkAddr = ConfigUtil.getPropertie(<span class="string">"OuterLinkAddr"</span>);</div><div class="line">        &#125;</div><div class="line">        logger.info(<span class="string">"OuterLinkAddr = "</span> + outerLinkAddr);</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (ACCESS_KEY == <span class="keyword">null</span>) &#123;</div><div class="line">            ACCESS_KEY = ConfigUtil.getPropertie(<span class="string">"AccessKey"</span>);</div><div class="line">        &#125;</div><div class="line">        logger.info(<span class="string">"ACCESS_KEY = "</span> + ACCESS_KEY);</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (SECRET_KEY == <span class="keyword">null</span>) &#123;</div><div class="line">            SECRET_KEY = ConfigUtil.getPropertie(<span class="string">"SecretKey"</span>);</div><div class="line">        &#125;</div><div class="line">        logger.info(<span class="string">"SECRET_KEY = "</span> + SECRET_KEY);</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (bucketName == <span class="keyword">null</span>) &#123;</div><div class="line">            bucketName = ConfigUtil.getPropertie(<span class="string">"BucketName"</span>);</div><div class="line">        &#125;</div><div class="line">        logger.info(<span class="string">"BucketName = "</span> + bucketName);</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (auth == <span class="keyword">null</span>)&#123;</div><div class="line">            auth = Auth.create(ACCESS_KEY, SECRET_KEY);</div><div class="line">        &#125;</div><div class="line">        logger.info(<span class="string">"auth = "</span> + auth);</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (uploadManager == <span class="keyword">null</span>)&#123;</div><div class="line">            uploadManager = <span class="keyword">new</span> UploadManager();</div><div class="line">        &#125;</div><div class="line">        logger.info(<span class="string">"uploadManager = "</span> + uploadManager);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 简单上传，使用默认策略，只需要设置上传的空间名就可以了</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUpToken</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> auth.uploadToken(bucketName);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 图片上传</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> filePath 图片本地地址</div><div class="line">     * <span class="doctag">@param</span> fileName 七牛Key</div><div class="line">     * <span class="doctag">@return</span> 上传成功返回图片外链地址，上传失败返回null</div><div class="line">     * <span class="doctag">@throws</span> IOException</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">upload</span><span class="params">(String filePath, String fileName)</span> </span>&#123;</div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">            <span class="comment">//调用put方法上传</span></div><div class="line">            Response res = uploadManager.put(filePath, fileName, getUpToken());</div><div class="line">            <span class="comment">//打印返回的信息</span></div><div class="line">            logger.info(<span class="string">"upload() Response : "</span> + res.bodyString());</div><div class="line"></div><div class="line">            String outerLink = outerLinkAddr + fileName;</div><div class="line">            logger.info(<span class="string">"outerLink :"</span> + outerLink);</div><div class="line">            <span class="keyword">return</span> outerLink;</div><div class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</div><div class="line">            logger.error(<span class="string">"upload() Exception : "</span>, e);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 图片删除</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> qiniuKey 七牛key</div><div class="line">     * <span class="doctag">@return</span> 删除成功返回true，删除失败返回false</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">delete</span><span class="params">(String qiniuKey)</span> </span>&#123;</div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">            BucketManager bucketManager = <span class="keyword">new</span> BucketManager(auth);</div><div class="line">            <span class="comment">//调用delete方法移动文件</span></div><div class="line">            bucketManager.delete(bucketName, qiniuKey);</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</div><div class="line">            logger.error(<span class="string">"delete() Exception : "</span>, e);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="剪切板代码"><a href="#剪切板代码" class="headerlink" title="剪切板代码"></a>剪切板代码</h2><blockquote>
<p>主要实现设置图片、文本信息到剪切板，从剪切板获取图片、文本信息！部分代码摘自网络。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OperateClipboard</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> Logger logger = LoggerFactory.getLogger(<span class="keyword">this</span>.getClass());</div><div class="line"></div><div class="line">    DateFormat dateFormat = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyyMMdd"</span>);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 设置系统剪切板，内容为图片</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> image 图片</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setImageClipboard</span><span class="params">(Image image)</span> </span>&#123;</div><div class="line">        ImageSelection imgSel = <span class="keyword">new</span> ImageSelection(image);</div><div class="line">        Toolkit.getDefaultToolkit().getSystemClipboard().setContents(imgSel, <span class="keyword">null</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 获取剪贴板图像，并返回图像绝对路径</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> rootPath 存储图像根目录</div><div class="line">     * <span class="doctag">@return</span> 获取成功返回图片路径；获取失败返回null</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getImageClipboard</span><span class="params">(String rootPath)</span> </span>&#123;</div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">            <span class="comment">//create qiniu objecte</span></div><div class="line">            Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();</div><div class="line">            <span class="comment">//Get data from qiniu and assign it to an image.</span></div><div class="line">            <span class="comment">//qiniu.getData() returns an object, so we need to cast it to a BufferdImage.</span></div><div class="line">            BufferedImage image = (BufferedImage) clipboard.getData(DataFlavor.imageFlavor);</div><div class="line">            <span class="comment">//process file name</span></div><div class="line">            DESEncrypts desEncrypts = <span class="keyword">new</span> DESEncrypts();</div><div class="line">            String filePath = desEncrypts.encrypt(dateFormat.format(<span class="keyword">new</span> Date()));</div><div class="line">            String fileName = UUIDUtil.generateUUID() + <span class="string">".png"</span>;</div><div class="line">            String rootFilePath = rootPath + filePath;</div><div class="line">            File rootFile = <span class="keyword">new</span> File(rootFilePath);</div><div class="line">            <span class="keyword">if</span> (!rootFile.exists()) &#123;</div><div class="line">                rootFile.mkdirs();</div><div class="line">            &#125;</div><div class="line">            String imageFileName = rootFilePath + File.separator + fileName;</div><div class="line">            <span class="comment">//file that we'll save to disk.</span></div><div class="line">            File file = <span class="keyword">new</span> File(imageFileName);</div><div class="line"></div><div class="line">            <span class="comment">//class to write image to disk.  You specify the image to be saved, its type,</span></div><div class="line">            <span class="comment">// and then the file in which to write the image data.</span></div><div class="line">            ImageIO.write(image, <span class="string">"png"</span>, file);</div><div class="line">            logger.info(<span class="string">"image capture success:"</span> + imageFileName);</div><div class="line">            <span class="keyword">return</span> imageFileName;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//getData throws this.</span></div><div class="line">        <span class="keyword">catch</span> (Exception e) &#123;</div><div class="line">            logger.error(<span class="string">"Exception:"</span>, e);</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 设置系统剪贴板，内容为文本</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> refContent 文本内容</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSystemClipboard</span><span class="params">(String refContent)</span> </span>&#123;</div><div class="line">        String vc = refContent.trim();</div><div class="line">        StringSelection ss = <span class="keyword">new</span> StringSelection(vc);</div><div class="line">        Toolkit.getDefaultToolkit().getSystemClipboard().setContents(ss, <span class="keyword">null</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 获取系统剪切板的文本内容[如果系统剪切板复制的内容是文本]</div><div class="line">     *</div><div class="line">     * <span class="doctag">@return</span> 获取成功返回剪切板内容，获取失败返回null</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSystemClipboard</span><span class="params">()</span> </span>&#123;</div><div class="line">        Clipboard sysClb = <span class="keyword">null</span>;</div><div class="line">        sysClb = Toolkit.getDefaultToolkit().getSystemClipboard();</div><div class="line">        Transferable t = sysClb.getContents(<span class="keyword">null</span>);</div><div class="line">        <span class="comment">//Transferable t = Toolkit.getDefaultToolkit().getSystemClipboard().getContents(null);  //跟上面三行代码一样</span></div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">            <span class="keyword">if</span> (<span class="keyword">null</span> != t &amp;&amp; t.isDataFlavorSupported(DataFlavor.stringFlavor)) &#123;</div><div class="line">                String text = (String) t.getTransferData(DataFlavor.stringFlavor);</div><div class="line">                <span class="keyword">return</span> text;</div><div class="line">            &#125;</div><div class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</div><div class="line">            logger.error(<span class="string">"Exception:"</span>, e);</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="成品"><a href="#成品" class="headerlink" title="成品"></a>成品</h1><h2 id="工具操作面板"><a href="#工具操作面板" class="headerlink" title="工具操作面板"></a>工具操作面板</h2><p><img src="http://o7xt53rmp.bkt.clouddn.com/62b0aae6828e8513/de66d8d153db474e8fcc58db99e7e192.png" alt="62b0aae6828e8513/de66d8d153db474e8fcc58db99e7e192.png"></p>
<h2 id="快捷上传"><a href="#快捷上传" class="headerlink" title="快捷上传"></a>快捷上传</h2><p><img src="http://o7xt53rmp.bkt.clouddn.com/62b0aae6828e8513/dd31939b0b2a47419e3740975eda035a.png" alt="62b0aae6828e8513/dd31939b0b2a47419e3740975eda035a.png"></p>
<h2 id="七牛云存储截图"><a href="#七牛云存储截图" class="headerlink" title="七牛云存储截图"></a>七牛云存储截图</h2><p><img src="http://o7xt53rmp.bkt.clouddn.com/62b0aae6828e8513/fd16d7880bb040d9b69f1810fbc33bbd.png" alt="62b0aae6828e8513/fd16d7880bb040d9b69f1810fbc33bbd.png"></p>
<p><strong>搞定，主要功能操作面板上都有，基本上满足博主需求~~</strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;缘起&quot;&gt;&lt;a href=&quot;#缘起&quot; class=&quot;headerlink&quot; title=&quot;缘起&quot;&gt;&lt;/a&gt;缘起&lt;/h1&gt;&lt;p&gt;三年前买下&lt;a href=&quot;http://www.itechq.com/&quot;&gt;&lt;code&gt;www.itechq.com&lt;/code&gt;&lt;/a&gt;这个域名，一直想折腾个自己的博客。由于种种原因，一直没有去折腾。随着国家的长城防火墙越来越厉害，免费翻墙变得越来越困难，从GoAgent到XX-Net，稳定性越来越差。今年年初，实在受不了了，就买了个搬瓦工的VPS（10G SSD，512M内存，一年19刀），自己搭建了一个&lt;code&gt;Shadowsocks Server&lt;/code&gt;，每月1000G流量，手机、笔记本都通过它翻墙，目前还比较稳定（不要问我为啥不直接买个收费VPN，因为程序猿爱折腾）。VPN搞定后，发现VPS系统资源利用率很少，此时，又激发了自己的博客梦，从而走上了Wordpress、Hexo的折腾之路……&lt;/p&gt;
&lt;h1 id=&quot;为何开发&quot;&gt;&lt;a href=&quot;#为何开发&quot; class=&quot;headerlink&quot; title=&quot;为何开发&quot;&gt;&lt;/a&gt;为何开发&lt;/h1&gt;&lt;p&gt;刚开始博客空间是用WP搭建，花了差不多两周时间配置、修改主题代码，后来因为WP对Markdown支持太弱了，而且相对来说比较重，选择放弃，最后选择Hexo纯静态博客空间，托管到Github、Coding。之所以选择七牛作为存储，是因为在配置WP插件时用到&lt;code&gt;wpjam-qiniu&lt;/code&gt;插件，可以将网站上的js、css、image等资源自动同步到七牛云，而Hexo没有此类插件。&lt;/p&gt;
&lt;p&gt;后来在七牛官网看到官方同步工具&lt;a href=&quot;http://developer.qiniu.com/code/v6/tool/qrsbox.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;qrsbox&lt;/a&gt;，虽然该工具能够同步image到七牛云，但是和自己想想的还是有一定差距，如：图片命名、存储目录、外链地址拷贝都比较麻烦。此时在简书上看到一篇文章&lt;strong&gt;&lt;a href=&quot;http://www.jianshu.com/p/6dce6094bf61&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;如何使用七牛云做为图床？&lt;/a&gt;&lt;/strong&gt;，看完后还是觉得步骤较为复杂，没有达到自己想要的效果，但它却触发了自己写个小工具的想法，于是开始构思工具包括哪些功能，最后确定如下功能：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;支持从剪切板获取图像上传；&lt;strong&gt;灵感来自 &lt;a href=&quot;https://www.zybuluo.com/mdeditor&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;作业部落 CMD Markdown&lt;/a&gt;图片上传效果（一款很棒的Markdown编辑工具）&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;支持本地图像上传；&lt;/li&gt;
&lt;li&gt;支持从网络下载图像并上传；&lt;/li&gt;
&lt;li&gt;图像上传后自动生成Markdown格式的图片引用标签；&lt;/li&gt;
&lt;li&gt;支持删除已上传的图像；&lt;/li&gt;
&lt;li&gt;支持系统托盘，类似QQ之类软件一样，双击打开。&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="program" scheme="http://www.itechq.com/categories/program/"/>
    
    
      <category term="七牛云存储" scheme="http://www.itechq.com/tags/%E4%B8%83%E7%89%9B%E4%BA%91%E5%AD%98%E5%82%A8/"/>
    
      <category term="Markdown" scheme="http://www.itechq.com/tags/Markdown/"/>
    
  </entry>
  
  <entry>
    <title>小米2S刷安卓原生系统</title>
    <link href="http://www.itechq.com/blog/eae29bee.html"/>
    <id>http://www.itechq.com/blog/eae29bee.html</id>
    <published>2016-05-29T02:15:45.000Z</published>
    <updated>2017-03-23T13:18:59.446Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>为了折腾一个游戏，把原来那台小米2S重新翻出来折腾，发现升到MIUI7后，那手机一个卡啊，真是醉了。作为一个喜欢折腾程序猿，立马就想到是不是可以刷个安卓原生系统，于是Google（不要问我为啥用Google，大家都懂的！！）一把，对比了几个原生系统，最后选择了<a href="http://www.miui.com/space-uid-426143.html" target="_blank" rel="external">秋叶随风</a>大神提供的刷机包。</p>
</blockquote>
<p><strong>说明：本文只是记录自己刷机过程及刷机中遇到的问题，对于基本操作步骤，本文不做详细描述。</strong><br><a id="more"></a></p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a href="http://www.miui.com/thread-2531068-1-1.html" target="_blank" rel="external">秋大ROM</a></li>
<li><a href="http://www.miui.com/thread-2532152-1-1.html" target="_blank" rel="external">刷机贴</a></li>
<li><a href="http://www.miui.com/thread-2510586-1-1.html" target="_blank" rel="external">合并分区贴</a></li>
</ul>
<h2 id="下载软件"><a href="#下载软件" class="headerlink" title="下载软件"></a>下载软件</h2><blockquote>
<p>可自行Google，刷机ROM秋大帖子中有，也可从如下地址下载：</p>
</blockquote>
<ul>
<li>刷机ROM，链接：<a href="http://pan.baidu.com/s/1kVhJ5Uf" target="_blank" rel="external"><code>http://pan.baidu.com/s/1kVhJ5Uf</code></a> 密码：<code>xq3t</code></li>
<li>ROM补丁包（解决刷机后打不开WIFI，无信号问题），链接：<a href="http://pan.baidu.com/s/1o8OqNTg" target="_blank" rel="external"><code>http://pan.baidu.com/s/1o8OqNTg</code></a> 密码：<code>n0je</code></li>
<li>Recovery工具，链接：<a href="http://pan.baidu.com/s/1qY06jIs" target="_blank" rel="external"><code>http://pan.baidu.com/s/1qY06jIs</code></a> 密码：<code>qmy4</code></li>
<li>谷歌服务包，链接：<a href="http://pan.baidu.com/s/1mifFBs8" target="_blank" rel="external"><code>http://pan.baidu.com/s/1mifFBs8</code></a> 密码：<code>5axo</code></li>
</ul>
<h2 id="刷机步骤"><a href="#刷机步骤" class="headerlink" title="刷机步骤"></a>刷机步骤</h2><h3 id="合并分区"><a href="#合并分区" class="headerlink" title="合并分区"></a>合并分区</h3><blockquote>
<p>网上一大把，<a href="http://www.miui.com/thread-2510586-1-1.html" target="_blank" rel="external">参考贴</a></p>
</blockquote>
<h3 id="刷原生系统"><a href="#刷原生系统" class="headerlink" title="刷原生系统"></a>刷原生系统</h3><p><strong><font color="red">友情提示：请将<code>刷机ROM</code>和<code>谷歌服务包</code>一起拷贝到手机！</font></strong></p>
<blockquote>
<p>网上也是一大把，<a href="http://www.miui.com/thread-2532152-1-1.html" target="_blank" rel="external">参考贴</a></p>
</blockquote>
<h3 id="打补丁-解决没有基带问题"><a href="#打补丁-解决没有基带问题" class="headerlink" title="打补丁(解决没有基带问题)"></a><font color="red">打补丁(解决没有基带问题)</font></h3><blockquote>
<p>相信大家上面两步很顺利完成了，都迫不及待进入系统，那速度的确是快啊，赶紧联网下载点APP吧，这时候发现WIFI始终打不开。博主也被这问题折腾了好久，以为是刷机步骤问题，重刷了两次还是有问题，后来只好继续Google，发现有个帖子说ROM刷完后，基带没有，需要打个补丁。</p>
</blockquote>
<ul>
<li>下载ROM补丁包，拷贝补丁包<code>boot.img</code>到<strong>Recovery工具</strong>目录</li>
<li>手机进入fastboot模式（不会再读一遍<code>刷原生系统</code>的帖子），并连接上电脑</li>
<li>刷入补丁包，博主<strong>Recovery工具</strong>在<code>‪C:\Users\Jason\Desktop\Recovery</code></li>
</ul>
<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>、打开命令行窗口：`开始`——`运行`——`输入cmd`——`回车`。</div><div class="line"><span class="number">2</span>、进入刷机目录：cd ‪C:\Users\Jason\Desktop\Recovery（回车）</div><div class="line"><span class="number">3</span>、刷入补丁包：fastboot flash boot boot.img（回车）</div><div class="line"><span class="number">4</span>、等待提示ok之类字眼，重启进入手机</div></pre></td></tr></table></figure>
<p><strong> <font color="red">大功告成，欢迎留言！</font></strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;为了折腾一个游戏，把原来那台小米2S重新翻出来折腾，发现升到MIUI7后，那手机一个卡啊，真是醉了。作为一个喜欢折腾程序猿，立马就想到是不是可以刷个安卓原生系统，于是Google（不要问我为啥用Google，大家都懂的！！）一把，对比了几个原生系统，最后选择了&lt;a href=&quot;http://www.miui.com/space-uid-426143.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;秋叶随风&lt;/a&gt;大神提供的刷机包。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;说明：本文只是记录自己刷机过程及刷机中遇到的问题，对于基本操作步骤，本文不做详细描述。&lt;/strong&gt;&lt;br&gt;
    
    </summary>
    
      <category term="notes" scheme="http://www.itechq.com/categories/notes/"/>
    
    
      <category term="小米2S" scheme="http://www.itechq.com/tags/%E5%B0%8F%E7%B1%B32S/"/>
    
      <category term="安卓原生" scheme="http://www.itechq.com/tags/%E5%AE%89%E5%8D%93%E5%8E%9F%E7%94%9F/"/>
    
  </entry>
  
  <entry>
    <title>Windows下ReviewBoard安装与配置</title>
    <link href="http://www.itechq.com/blog/ec94ab3a.html"/>
    <id>http://www.itechq.com/blog/ec94ab3a.html</id>
    <published>2016-05-28T06:46:58.000Z</published>
    <updated>2017-03-23T13:18:59.446Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安装准备"><a href="#安装准备" class="headerlink" title="安装准备"></a>安装准备</h2><p>安装文件清单</p>
<ul>
<li>Mysql 5.6 <a href="http://cdn.mysql.com/Downloads/MySQLInstaller/mysql-installer-community-5.6.26.0.msi" target="_blank" rel="external">下载链接</a></li>
<li>Apache 2.2 <a href="http://archive.apache.org/dist/httpd/" target="_blank" rel="external">下载链接</a></li>
<li>Python 2.7 <a href="https://www.python.org/ftp/python/2.7.10/python-2.7.10.msi" target="_blank" rel="external">下载链接</a></li>
<li>mod_python 3.3 <a href="http://archive.apache.org/dist/httpd/modpython/win/3.3.1/mod_python-3.3.1.win32-py2.5-Apache2.2.exe" target="_blank" rel="external">下载地址</a></li>
<li>py27-pysvn-svn <a href="http://pysvn.tigris.org/files/documents/1233/49404/py27-pysvn-svn1811-1.7.10-1584.exe" target="_blank" rel="external">下载地址</a> <a href="http://pysvn.tigris.org/servlets/ProjectDocumentList?folderID=1768" target="_blank" rel="external">参考链接</a></li>
<li>setuptools <a href="https://pypi.python.org/packages/2.7/s/setuptools/setuptools-0.6c11.win32-py2.7.exe#md5=57e1e64f6b7c7f1d2eddfc9746bbaf20" target="_blank" rel="external">下载地址</a> <a href="https://pypi.python.org/pypi/setuptools/0.6c11" target="_blank" rel="external">参考链接</a></li>
<li>patch-2.5.9.7-setup <a href="http://ncu.dl.sourceforge.net/project/gnuwin32/patch/2.5.9-7/patch-2.5.9-7-setup.exe" target="_blank" rel="external">下载地址</a> <a href="http://sourceforge.net/projects/gnuwin32/files/patch/2.5.9-7/" target="_blank" rel="external">参考链接</a></li>
<li>memcached <a href="http://s3.amazonaws.com/downloads.northscale.com/memcached-win64-1.4.4-14.zip" target="_blank" rel="external">下载地址</a></li>
<li>python-memcached <a href="ftp://ftp.tummy.com/pub/python-memcached/python-memcached-latest.tar.gz" target="_blank" rel="external">下载地址</a> <a href="http://www.tummy.com/software/python-memcached/" target="_blank" rel="external">参考地址</a></li>
<li>mysql-python <a href="https://pypi.python.org/packages/2.7/M/MySQL-python/MySQL-python-1.2.5.win32-py2.7.exe#md5=6f43f42516ea26e79cfb100af69a925e" target="_blank" rel="external">下载地址</a> <a href="https://pypi.python.org/pypi/MySQL-python/1.2.5" target="_blank" rel="external">参考链接</a></li>
<li>pycrypto-2.6.1 <a href="http://www.voidspace.org.uk/python/pycrypto-2.6.1/" target="_blank" rel="external">下载地址</a></li>
<li>mod_wsgi-win32-ap22py27-3.3.so <a href="https://code.google.com/p/modwsgi/downloads/detail?name=mod_wsgi-win32-ap22py27-3.3.so" target="_blank" rel="external">下载地址</a></li>
<li>RBTools <a href="https://downloads.reviewboard.org/releases/RBTools/0.7/RBTools-0.7.4.exe" target="_blank" rel="external">下载地址</a></li>
</ul>
<a id="more"></a>
<h2 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h2><h3 id="1-安装Mysql"><a href="#1-安装Mysql" class="headerlink" title="1. 安装Mysql"></a>1. 安装Mysql</h3><p>安装完成后，注意修改默认编码格式为UTF-8<br><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">show variables like <span class="emphasis">'character%'</span>;</div><div class="line"></div><div class="line"><span class="section">#显示如下信息</span></div><div class="line">+--------------------------+---------------------------------------------------------+</div><div class="line"><span class="section">| Variable_name            | Value                                                   |</span></div><div class="line">+--------------------------+---------------------------------------------------------+</div><div class="line">| character<span class="emphasis">_set_</span>client     | utf8                                                    |</div><div class="line">| character<span class="emphasis">_set_</span>connection | utf8                                                    |</div><div class="line">| character<span class="emphasis">_set_</span>database   | utf8                                                    |</div><div class="line">| character<span class="emphasis">_set_</span>filesystem | binary                                                  |</div><div class="line">| character<span class="emphasis">_set_</span>results    | utf8                                                    |</div><div class="line">| character<span class="emphasis">_set_</span>server     | utf8                                                    |</div><div class="line">| character<span class="emphasis">_set_</span>system     | utf8                                                    |</div><div class="line"><span class="section">| character_sets_dir       | C:\Program Files\MySQL\MySQL Server 5.6\share\charsets\ |</span></div><div class="line">+--------------------------+---------------------------------------------------------+</div></pre></td></tr></table></figure></p>
<h3 id="2-安装Apache"><a href="#2-安装Apache" class="headerlink" title="2. 安装Apache"></a>2. 安装Apache</h3><p>完成后确认在Windows服务中启动并且在浏览器中输入localhost检查是否启动正常。</p>
<h3 id="3-安装Python"><a href="#3-安装Python" class="headerlink" title="3. 安装Python"></a>3. 安装Python</h3><p>注意要把python27和python27/scripts目录放到环境变量中</p>
<h3 id="4-安装mod-python-3-3-1-win32-py2-7-exe"><a href="#4-安装mod-python-3-3-1-win32-py2-7-exe" class="headerlink" title="4. 安装mod_python-3.3.1.win32-py2.7.exe"></a>4. 安装mod_python-3.3.1.win32-py2.7.exe</h3><p>注意：安装mod_python的时候，需要停掉apache，安装后请检查apache的modules目录下是否有mod_python.so，如果没有请检查安装是否过程是否有问题</p>
<h3 id="5-安装py27-pysvn-svn1811-1-7-10-1584-exe"><a href="#5-安装py27-pysvn-svn1811-1-7-10-1584-exe" class="headerlink" title="5. 安装py27-pysvn-svn1811-1.7.10-1584.exe"></a>5. 安装py27-pysvn-svn1811-1.7.10-1584.exe</h3><h3 id="6-安装setuptools-0-6c11-win32-py2-7-exe"><a href="#6-安装setuptools-0-6c11-win32-py2-7-exe" class="headerlink" title="6. 安装setuptools-0.6c11.win32-py2.7.exe"></a>6. 安装setuptools-0.6c11.win32-py2.7.exe</h3><h3 id="7-安装patch-2-5-9-7-setup-exe"><a href="#7-安装patch-2-5-9-7-setup-exe" class="headerlink" title="7. 安装patch-2.5.9-7-setup.exe"></a>7. 安装patch-2.5.9-7-setup.exe</h3><h3 id="8-安装memcached"><a href="#8-安装memcached" class="headerlink" title="8. 安装memcached"></a>8. 安装memcached</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="selector-id">#1</span>.解压<span class="selector-tag">memcached-win64-1</span><span class="selector-class">.4</span><span class="selector-class">.4-14</span><span class="selector-class">.zip</span>到<span class="selector-tag">E</span>:\<span class="selector-tag">Tools</span>\<span class="selector-tag">memcached</span></div><div class="line"></div><div class="line"><span class="selector-id">#2</span>.进入<span class="selector-tag">E</span>:\<span class="selector-tag">Tools</span>\<span class="selector-tag">memcached</span></div><div class="line"></div><div class="line"><span class="selector-id">#3</span>.执行命令，安装<span class="selector-tag">memcached</span>为系统服务</div><div class="line"><span class="selector-tag">memcached</span><span class="selector-class">.exe</span> <span class="selector-tag">-d</span> <span class="selector-tag">install</span></div></pre></td></tr></table></figure>
<h3 id="9-安装python-memcached"><a href="#9-安装python-memcached" class="headerlink" title="9. 安装python-memcached"></a>9. 安装python-memcached</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-id">#1</span>. 解压<span class="selector-tag">python-memcached-latest</span><span class="selector-class">.tar</span><span class="selector-class">.gz</span></div><div class="line"></div><div class="line"><span class="selector-id">#2</span>. 执行安装命令</div><div class="line"><span class="selector-tag">python</span> <span class="selector-tag">setup</span><span class="selector-class">.py</span> <span class="selector-tag">install</span></div></pre></td></tr></table></figure>
<h3 id="10-安装MySQL-python-1-2-5-win32-py2-7-exe"><a href="#10-安装MySQL-python-1-2-5-win32-py2-7-exe" class="headerlink" title="10. 安装MySQL-python-1.2.5.win32-py2.7.exe"></a>10. 安装MySQL-python-1.2.5.win32-py2.7.exe</h3><h3 id="11-安装pycrypto-2-6-1-win32-py2-7-exe"><a href="#11-安装pycrypto-2-6-1-win32-py2-7-exe" class="headerlink" title="11. 安装pycrypto-2.6.1.win32-py2.7.exe"></a>11. 安装pycrypto-2.6.1.win32-py2.7.exe</h3><p>解决编译安装时出现以下错误:<br><figure class="highlight subunit"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Downloading https://pypi.python.org/packages/source/p/pycrypto/pycrypto<span class="string">-2</span>.6.1.ta</div><div class="line">r.gz#md5=55a61a054aa66812daf5161a0d5d7eda</div><div class="line">Processing pycrypto<span class="string">-2</span>.6.1.tar.gz</div><div class="line">Running pycrypto<span class="string">-2</span>.6.1\setup.py -q bdist_egg --dist-dir c:\users\ch\appdata\loca</div><div class="line">l\temp\easy_install-sby0sc\pycrypto<span class="string">-2</span>.6.1\egg-dist-tmp-wvzthp</div><div class="line">warning: GMP or MPIR library not found; Not building Crypto.PublicKey._fastmath.</div><div class="line"></div><div class="line">gcc: error: unrecognized command line option '-mno-cygwin'</div><div class="line"><span class="keyword">error: </span>Setup script exited with error: command 'C:\\cygwin64\\bin\\gcc.exe' fail</div><div class="line">ed with exit status 1</div></pre></td></tr></table></figure></p>
<h3 id="12-安装ReviewBoard"><a href="#12-安装ReviewBoard" class="headerlink" title="12. 安装ReviewBoard"></a>12. 安装ReviewBoard</h3><figure class="highlight vala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#执行命令</span></div><div class="line">easy_install ReviewBoard</div><div class="line"></div><div class="line"><span class="meta">#安装指定版本ReviewBoard</span></div><div class="line">easy_install <span class="string">"ReviewBoard&lt;2.0"</span></div></pre></td></tr></table></figure>
<h2 id="ReviewBoard配置"><a href="#ReviewBoard配置" class="headerlink" title="ReviewBoard配置"></a>ReviewBoard配置</h2><h3 id="1-创建数据库及用户名"><a href="#1-创建数据库及用户名" class="headerlink" title="1. 创建数据库及用户名"></a>1. 创建数据库及用户名</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#创建数据库</span></div><div class="line"><span class="attribute">create</span> database reviewboard character set utf8;</div><div class="line"></div><div class="line"><span class="comment">#创建用户（下面会用到）</span></div><div class="line"><span class="attribute">create</span> user <span class="string">'reviewboard'</span>@<span class="string">'localhost'</span> identified by <span class="string">'reviewboard'</span>;</div><div class="line"></div><div class="line"><span class="comment">#给用户授权</span></div><div class="line"><span class="attribute">grant</span> all privileges <span class="literal">on</span> <span class="regexp">reviewboard.*</span> to <span class="string">'reviewboard'</span>@<span class="string">'localhost'</span>;</div></pre></td></tr></table></figure>
<h3 id="2-创建站点"><a href="#2-创建站点" class="headerlink" title="2. 创建站点"></a>2. 创建站点</h3><figure class="highlight vala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta"># 执行命令</span></div><div class="line">rb-site install e:\tools\reviews</div><div class="line"></div><div class="line"><span class="meta">#按要求填写相关要素即可</span></div></pre></td></tr></table></figure>
<h3 id="3-Apache配置"><a href="#3-Apache配置" class="headerlink" title="3. Apache配置"></a>3. Apache配置</h3><ul>
<li><p>add mod_python.so 到httpd.conf中<br><code>LoadModule python_module modules/mod_python.so</code></p>
</li>
<li><p>add mod_wsgi-win32-ap22py27-3.3.so 到httpd.conf中<br><code>LoadModule wsgi_module modules/mod_wsgi-win32-ap22py27-3.3.so</code></p>
</li>
<li><p>将e:\tools\reviews\conf\apache-wsgi.conf内容添加到 vhosts到httpd-vhosts.conf中</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="section">&lt;VirtualHost *:84&gt;</span></div><div class="line">	<span class="attribute"><span class="nomarkup">ServerName</span></span> reviews.com</div><div class="line">	<span class="attribute"><span class="nomarkup">DocumentRoot</span></span> <span class="string">"E:/Tools/reviews/htdocs"</span></div><div class="line"></div><div class="line">	<span class="comment"># Error handlers</span></div><div class="line">	<span class="attribute"><span class="nomarkup">ErrorDocument</span></span> 500 /errordocs/500.html</div><div class="line"></div><div class="line">	<span class="attribute">WSGIPassAuthorization</span> <span class="literal">On</span></div><div class="line">	<span class="attribute">WSGIScriptAlias</span> <span class="string">"/"</span> <span class="string">"E:/Tools/reviews/htdocs/reviewboard.wsgi/"</span></div><div class="line"></div><div class="line">	<span class="section">&lt;Directory "E:/Tools/reviews/htdocs"&gt;</span></div><div class="line">		<span class="attribute">AllowOverride</span> <span class="literal">All</span></div><div class="line">		<span class="attribute"><span class="nomarkup">Options</span></span> -Indexes +FollowSymLinks</div><div class="line">		<span class="attribute"><span class="nomarkup">Allow</span></span> from <span class="literal">all</span></div><div class="line">	<span class="section">&lt;/Directory&gt;</span></div><div class="line"></div><div class="line">	<span class="comment"># Prevent the server from processing or allowing the rendering of</span></div><div class="line">	<span class="comment"># certain file types.</span></div><div class="line">	<span class="section">&lt;Location "/media/uploaded"&gt;</span></div><div class="line">		<span class="attribute"><span class="nomarkup">SetHandler</span></span> None</div><div class="line">		<span class="attribute"><span class="nomarkup">Options</span></span> None</div><div class="line"></div><div class="line">		<span class="attribute">AddType</span> text/plain .html .htm .shtml .php .php3 .php4 .php5 .phps .asp</div><div class="line">		<span class="attribute">AddType</span> text/plain .pl .py .fcgi .cgi .phtml .phtm .pht .jsp .sh .rb</div><div class="line"></div><div class="line">		<span class="section">&lt;IfModule mod_php5.c&gt;</span></div><div class="line">			<span class="attribute">php_flag</span> engine <span class="literal">off</span></div><div class="line">		<span class="section">&lt;/IfModule&gt;</span></div><div class="line">	<span class="section">&lt;/Location&gt;</span></div><div class="line"></div><div class="line">	<span class="comment"># Alias static media requests to filesystem</span></div><div class="line">	<span class="attribute">Alias</span> /media <span class="string">"E:/Tools/reviews/htdocs/media"</span></div><div class="line">	<span class="attribute">Alias</span> /static <span class="string">"E:/Tools/reviews/htdocs/static"</span></div><div class="line">	<span class="attribute">Alias</span> /errordocs <span class="string">"E:/Tools/reviews/htdocs/errordocs"</span></div><div class="line">	<span class="attribute">Alias</span> /favicon.ico <span class="string">"E:/Tools/reviews/htdocs/static/rb/images/favicon.png"</span></div><div class="line"><span class="section">&lt;/VirtualHost&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>修改E:\Tools\reviews\conf\settings_local.py</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># DEBUG模式改为False</span></div><div class="line"><span class="attr">DEBUG</span> = <span class="literal">False</span>      # 由<span class="literal">True</span>到<span class="literal">False</span>，这个我也做对了</div><div class="line"> </div><div class="line"><span class="comment"># 添加可访问主机</span></div><div class="line"><span class="attr">ALLOWED_HOSTS</span> = [<span class="string">'reviews.com'</span>,<span class="string">'localhost'</span>,<span class="string">'192.168.0.112'</span>]</div></pre></td></tr></table></figure>
</li>
<li><p>重启Apache服务器</p>
</li>
<li><p>访问ReviewBoard站点</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">客户端：<span class="link">http://</span>[<span class="string">ip</span>]:[port]</div><div class="line">管理端：<span class="link">http://</span>[<span class="string">ip</span>]:[port]/admin</div></pre></td></tr></table></figure></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;安装准备&quot;&gt;&lt;a href=&quot;#安装准备&quot; class=&quot;headerlink&quot; title=&quot;安装准备&quot;&gt;&lt;/a&gt;安装准备&lt;/h2&gt;&lt;p&gt;安装文件清单&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Mysql 5.6 &lt;a href=&quot;http://cdn.mysql.com/Downloads/MySQLInstaller/mysql-installer-community-5.6.26.0.msi&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;下载链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Apache 2.2 &lt;a href=&quot;http://archive.apache.org/dist/httpd/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;下载链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Python 2.7 &lt;a href=&quot;https://www.python.org/ftp/python/2.7.10/python-2.7.10.msi&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;下载链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;mod_python 3.3 &lt;a href=&quot;http://archive.apache.org/dist/httpd/modpython/win/3.3.1/mod_python-3.3.1.win32-py2.5-Apache2.2.exe&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;下载地址&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;py27-pysvn-svn &lt;a href=&quot;http://pysvn.tigris.org/files/documents/1233/49404/py27-pysvn-svn1811-1.7.10-1584.exe&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;下载地址&lt;/a&gt; &lt;a href=&quot;http://pysvn.tigris.org/servlets/ProjectDocumentList?folderID=1768&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;参考链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;setuptools &lt;a href=&quot;https://pypi.python.org/packages/2.7/s/setuptools/setuptools-0.6c11.win32-py2.7.exe#md5=57e1e64f6b7c7f1d2eddfc9746bbaf20&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;下载地址&lt;/a&gt; &lt;a href=&quot;https://pypi.python.org/pypi/setuptools/0.6c11&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;参考链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;patch-2.5.9.7-setup &lt;a href=&quot;http://ncu.dl.sourceforge.net/project/gnuwin32/patch/2.5.9-7/patch-2.5.9-7-setup.exe&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;下载地址&lt;/a&gt; &lt;a href=&quot;http://sourceforge.net/projects/gnuwin32/files/patch/2.5.9-7/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;参考链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;memcached &lt;a href=&quot;http://s3.amazonaws.com/downloads.northscale.com/memcached-win64-1.4.4-14.zip&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;下载地址&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;python-memcached &lt;a href=&quot;ftp://ftp.tummy.com/pub/python-memcached/python-memcached-latest.tar.gz&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;下载地址&lt;/a&gt; &lt;a href=&quot;http://www.tummy.com/software/python-memcached/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;参考地址&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;mysql-python &lt;a href=&quot;https://pypi.python.org/packages/2.7/M/MySQL-python/MySQL-python-1.2.5.win32-py2.7.exe#md5=6f43f42516ea26e79cfb100af69a925e&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;下载地址&lt;/a&gt; &lt;a href=&quot;https://pypi.python.org/pypi/MySQL-python/1.2.5&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;参考链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;pycrypto-2.6.1 &lt;a href=&quot;http://www.voidspace.org.uk/python/pycrypto-2.6.1/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;下载地址&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;mod_wsgi-win32-ap22py27-3.3.so &lt;a href=&quot;https://code.google.com/p/modwsgi/downloads/detail?name=mod_wsgi-win32-ap22py27-3.3.so&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;下载地址&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;RBTools &lt;a href=&quot;https://downloads.reviewboard.org/releases/RBTools/0.7/RBTools-0.7.4.exe&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;下载地址&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="technology" scheme="http://www.itechq.com/categories/technology/"/>
    
    
      <category term="Windows" scheme="http://www.itechq.com/tags/Windows/"/>
    
      <category term="Reviewboard" scheme="http://www.itechq.com/tags/Reviewboard/"/>
    
  </entry>
  
</feed>
